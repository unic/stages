!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash.get"),require("react"),require("lodash.findindex"),require("json-beautify"),require("lodash.find"),require("lodash.sortby"),require("lodash.uniqwith"),require("lodash.isequal"),require("lodash.set"),require("lodash.unset"),require("lodash.merge"),require("fast-json-stable-stringify")):"function"==typeof define&&define.amd?define(["exports","lodash.get","react","lodash.findindex","json-beautify","lodash.find","lodash.sortby","lodash.uniqwith","lodash.isequal","lodash.set","lodash.unset","lodash.merge","fast-json-stable-stringify"],t):t((e||self).reactStages={},e.get$1,e.react,e.findIndex,e.jsonBeautify,e.find,e.sortBy,e.uniqWith,e.isEqual,e.set$2,e.unset,e.merge$1,e.fastJsonStableStringify)}(this,function(e,t,n,r,i,o,a,l,s,c,u,f,d){function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var y=/*#__PURE__*/p(t),g=/*#__PURE__*/p(n),h=/*#__PURE__*/p(r),v=/*#__PURE__*/p(i),m=/*#__PURE__*/p(o),b=/*#__PURE__*/p(a),O=/*#__PURE__*/p(l),E=/*#__PURE__*/p(s),x=/*#__PURE__*/p(c),S=/*#__PURE__*/p(u),w=/*#__PURE__*/p(f),j=/*#__PURE__*/p(d),A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function C(e){var t={exports:{}};return e(t,t.exports),t.exports}var k,D,F=function(e){return e&&e.Math==Math&&e},R=F("object"==typeof globalThis&&globalThis)||F("object"==typeof window&&window)||F("object"==typeof self&&self)||F("object"==typeof A&&A)||function(){return this}()||Function("return this")(),T={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},P=function(e){return"function"==typeof e},I=function(e){return"object"==typeof e?null!==e:P(e)},V=R.document,L=I(V)&&I(V.createElement),N=function(e){return L?V.createElement(e):{}},_=N("span").classList,q=_&&_.constructor&&_.constructor.prototype,M=q===Object.prototype?void 0:q,W=function(e){try{return!!e()}catch(e){return!0}},z=!W(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),$=Function.prototype,B=$.call,U=z&&$.bind.bind(B,B),H=z?function(e){return e&&U(e)}:function(e){return e&&function(){return B.apply(e,arguments)}},G=H({}.toString),K=H("".slice),J=function(e){return K(G(e),8,-1)},Y=R.Object,X=H("".split),Q=W(function(){return!Y("z").propertyIsEnumerable(0)})?function(e){return"String"==J(e)?X(e,""):Y(e)}:Y,Z=R.TypeError,ee=function(e){if(null==e)throw Z("Can't call method on "+e);return e},te=function(e){return Q(ee(e))},ne=Object.defineProperty,re=function(e,t){try{ne(R,e,{value:t,configurable:!0,writable:!0})}catch(n){R[e]=t}return t},ie="__core-js_shared__",oe=R[ie]||re(ie,{}),ae=C(function(e){(e.exports=function(e,t){return oe[e]||(oe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),le=R.Object,se=function(e){return le(ee(e))},ce=H({}.hasOwnProperty),ue=Object.hasOwn||function(e,t){return ce(se(e),t)},fe=0,de=Math.random(),pe=H(1..toString),ye=function(e){return"Symbol("+(void 0===e?"":e)+")_"+pe(++fe+de,36)},ge=function(e){return P(e)?e:void 0},he=function(e,t){return arguments.length<2?ge(R[e]):R[e]&&R[e][t]},ve=he("navigator","userAgent")||"",me=R.process,be=R.Deno,Oe=me&&me.versions||be&&be.version,Ee=Oe&&Oe.v8;Ee&&(D=(k=Ee.split("."))[0]>0&&k[0]<4?1:+(k[0]+k[1])),!D&&ve&&(!(k=ve.match(/Edge\/(\d+)/))||k[1]>=74)&&(k=ve.match(/Chrome\/(\d+)/))&&(D=+k[1]);var xe,Se=D,we=!!Object.getOwnPropertySymbols&&!W(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Se&&Se<41}),je=we&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ae=ae("wks"),Ce=R.Symbol,ke=Ce&&Ce.for,De=je?Ce:Ce&&Ce.withoutSetter||ye,Fe=function(e){if(!ue(Ae,e)||!we&&"string"!=typeof Ae[e]){var t="Symbol."+e;Ae[e]=we&&ue(Ce,e)?Ce[e]:je&&ke?ke(t):De(t)}return Ae[e]},Re=R.String,Te=R.TypeError,Pe=function(e){if(I(e))return e;throw Te(Re(e)+" is not an object")},Ie=!W(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Ve=Ie&&W(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Le=!Ie&&!W(function(){return 7!=Object.defineProperty(N("div"),"a",{get:function(){return 7}}).a}),Ne=Function.prototype.call,_e=z?Ne.bind(Ne):function(){return Ne.apply(Ne,arguments)},qe=H({}.isPrototypeOf),Me=R.Object,We=je?function(e){return"symbol"==typeof e}:function(e){var t=he("Symbol");return P(t)&&qe(t.prototype,Me(e))},ze=R.String,$e=function(e){try{return ze(e)}catch(e){return"Object"}},Be=R.TypeError,Ue=function(e){if(P(e))return e;throw Be($e(e)+" is not a function")},He=function(e,t){var n=e[t];return null==n?void 0:Ue(n)},Ge=R.TypeError,Ke=R.TypeError,Je=Fe("toPrimitive"),Ye=function(e){var t=function(e,t){if(!I(e)||We(e))return e;var n,r=He(e,Je);if(r){if(void 0===t&&(t="default"),n=_e(r,e,t),!I(n)||We(n))return n;throw Ke("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&P(n=e.toString)&&!I(r=_e(n,e)))return r;if(P(n=e.valueOf)&&!I(r=_e(n,e)))return r;if("string"!==t&&P(n=e.toString)&&!I(r=_e(n,e)))return r;throw Ge("Can't convert object to primitive value")}(e,t)}(e,"string");return We(t)?t:t+""},Xe=R.TypeError,Qe=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,et={f:Ie?Ve?function(e,t,n){if(Pe(e),t=Ye(t),Pe(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=Ze(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Qe(e,t,n)}:Qe:function(e,t,n){if(Pe(e),t=Ye(t),Pe(n),Le)try{return Qe(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Xe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},tt=Math.ceil,nt=Math.floor,rt=function(e){var t=+e;return t!=t||0===t?0:(t>0?nt:tt)(t)},it=Math.max,ot=Math.min,at=function(e,t){var n=rt(e);return n<0?it(n+t,0):ot(n,t)},lt=Math.min,st=function(e){return e>0?lt(rt(e),9007199254740991):0},ct=function(e){return st(e.length)},ut=function(e){return function(t,n,r){var i,o=te(t),a=ct(o),l=at(r,a);if(e&&n!=n){for(;a>l;)if((i=o[l++])!=i)return!0}else for(;a>l;l++)if((e||l in o)&&o[l]===n)return e||l||0;return!e&&-1}},ft={includes:ut(!0),indexOf:ut(!1)},dt={},pt=ft.indexOf,yt=H([].push),gt=function(e,t){var n,r=te(e),i=0,o=[];for(n in r)!ue(dt,n)&&ue(r,n)&&yt(o,n);for(;t.length>i;)ue(r,n=t[i++])&&(~pt(o,n)||yt(o,n));return o},ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vt=Object.keys||function(e){return gt(e,ht)},mt=Ie&&!Ve?Object.defineProperties:function(e,t){Pe(e);for(var n,r=te(t),i=vt(t),o=i.length,a=0;o>a;)et.f(e,n=i[a++],r[n]);return e},bt={f:mt},Ot=he("document","documentElement"),Et=ae("keys"),xt=function(e){return Et[e]||(Et[e]=ye(e))},St=xt("IE_PROTO"),wt=function(){},jt=function(e){return"<script>"+e+"<\/script>"},At=function(e){e.write(jt("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ct=function(){try{xe=new ActiveXObject("htmlfile")}catch(e){}var e,t;Ct="undefined"!=typeof document?document.domain&&xe?At(xe):((t=N("iframe")).style.display="none",Ot.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(jt("document.F=Object")),e.close(),e.F):At(xe);for(var n=ht.length;n--;)delete Ct.prototype[ht[n]];return Ct()};dt[St]=!0;var kt=Object.create||function(e,t){var n;return null!==e?(wt.prototype=Pe(e),n=new wt,wt.prototype=null,n[St]=e):n=Ct(),void 0===t?n:bt.f(n,t)},Dt=Fe("unscopables"),Ft=Array.prototype;null==Ft[Dt]&&et.f(Ft,Dt,{configurable:!0,value:kt(null)});var Rt=function(e){Ft[Dt][e]=!0},Tt={},Pt=H(Function.toString);P(oe.inspectSource)||(oe.inspectSource=function(e){return Pt(e)});var It,Vt,Lt,Nt=oe.inspectSource,_t=R.WeakMap,qt=P(_t)&&/native code/.test(Nt(_t)),Mt=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Wt=Ie?function(e,t,n){return et.f(e,t,Mt(1,n))}:function(e,t,n){return e[t]=n,e},zt="Object already initialized",$t=R.TypeError;if(qt||oe.state){var Bt=oe.state||(oe.state=new(0,R.WeakMap)),Ut=H(Bt.get),Ht=H(Bt.has),Gt=H(Bt.set);It=function(e,t){if(Ht(Bt,e))throw new $t(zt);return t.facade=e,Gt(Bt,e,t),t},Vt=function(e){return Ut(Bt,e)||{}},Lt=function(e){return Ht(Bt,e)}}else{var Kt=xt("state");dt[Kt]=!0,It=function(e,t){if(ue(e,Kt))throw new $t(zt);return t.facade=e,Wt(e,Kt,t),t},Vt=function(e){return ue(e,Kt)?e[Kt]:{}},Lt=function(e){return ue(e,Kt)}}var Jt,Yt,Xt,Qt={set:It,get:Vt,has:Lt,enforce:function(e){return Lt(e)?Vt(e):It(e,{})},getterFor:function(e){return function(t){var n;if(!I(t)||(n=Vt(t)).type!==e)throw $t("Incompatible receiver, "+e+" required");return n}}},Zt={}.propertyIsEnumerable,en=Object.getOwnPropertyDescriptor,tn=en&&!Zt.call({1:2},1)?function(e){var t=en(this,e);return!!t&&t.enumerable}:Zt,nn={f:tn},rn=Object.getOwnPropertyDescriptor,on={f:Ie?rn:function(e,t){if(e=te(e),t=Ye(t),Le)try{return rn(e,t)}catch(e){}if(ue(e,t))return Mt(!_e(nn.f,e,t),e[t])}},an=Function.prototype,ln=Ie&&Object.getOwnPropertyDescriptor,sn=ue(an,"name"),cn={EXISTS:sn,PROPER:sn&&"something"===function(){}.name,CONFIGURABLE:sn&&(!Ie||Ie&&ln(an,"name").configurable)},un=C(function(e){var t=cn.CONFIGURABLE,n=Qt.get,r=Qt.enforce,i=String(String).split("String");(e.exports=function(e,n,o,a){var l,s=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;P(o)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ue(o,"name")||t&&o.name!==f)&&Wt(o,"name",f),(l=r(o)).source||(l.source=i.join("string"==typeof f?f:""))),e!==R?(s?!u&&e[n]&&(c=!0):delete e[n],c?e[n]=o:Wt(e,n,o)):c?e[n]=o:re(n,o)})(Function.prototype,"toString",function(){return P(this)&&n(this).source||Nt(this)})}),fn=ht.concat("length","prototype"),dn={f:Object.getOwnPropertyNames||function(e){return gt(e,fn)}},pn={f:Object.getOwnPropertySymbols},yn=H([].concat),gn=he("Reflect","ownKeys")||function(e){var t=dn.f(Pe(e)),n=pn.f;return n?yn(t,n(e)):t},hn=function(e,t,n){for(var r=gn(t),i=et.f,o=on.f,a=0;a<r.length;a++){var l=r[a];ue(e,l)||n&&ue(n,l)||i(e,l,o(t,l))}},vn=/#|\.prototype\./,mn=function(e,t){var n=On[bn(e)];return n==xn||n!=En&&(P(t)?W(t):!!t)},bn=mn.normalize=function(e){return String(e).replace(vn,".").toLowerCase()},On=mn.data={},En=mn.NATIVE="N",xn=mn.POLYFILL="P",Sn=mn,wn=on.f,jn=function(e,t){var n,r,i,o,a,l=e.target,s=e.global,c=e.stat;if(n=s?R:c?R[l]||re(l,{}):(R[l]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=wn(n,r))&&a.value:n[r],!Sn(s?r:l+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;hn(o,i)}(e.sham||i&&i.sham)&&Wt(o,"sham",!0),un(n,r,o,e)}},An=!W(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Cn=xt("IE_PROTO"),kn=R.Object,Dn=kn.prototype,Fn=An?kn.getPrototypeOf:function(e){var t=se(e);if(ue(t,Cn))return t[Cn];var n=t.constructor;return P(n)&&t instanceof n?n.prototype:t instanceof kn?Dn:null},Rn=Fe("iterator"),Tn=!1;[].keys&&("next"in(Xt=[].keys())?(Yt=Fn(Fn(Xt)))!==Object.prototype&&(Jt=Yt):Tn=!0);var Pn=null==Jt||W(function(){var e={};return Jt[Rn].call(e)!==e});Pn&&(Jt={}),P(Jt[Rn])||un(Jt,Rn,function(){return this});var In={IteratorPrototype:Jt,BUGGY_SAFARI_ITERATORS:Tn},Vn=et.f,Ln=Fe("toStringTag"),Nn=function(e,t,n){e&&!n&&(e=e.prototype),e&&!ue(e,Ln)&&Vn(e,Ln,{configurable:!0,value:t})},_n=In.IteratorPrototype,qn=function(){return this},Mn=R.String,Wn=R.TypeError,zn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=H(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Pe(n),function(e){if("object"==typeof e||P(e))return e;throw Wn("Can't set "+Mn(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),$n=cn.PROPER,Bn=cn.CONFIGURABLE,Un=In.IteratorPrototype,Hn=In.BUGGY_SAFARI_ITERATORS,Gn=Fe("iterator"),Kn="keys",Jn="values",Yn="entries",Xn=function(){return this},Qn=et.f,Zn="Array Iterator",er=Qt.set,tr=Qt.getterFor(Zn),nr=function(e,t,n,r,i,o,a){!function(e,t,n,r){var i="Array Iterator";e.prototype=kt(_n,{next:Mt(1,function(){var e=tr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}})}),Nn(e,i,!1),Tt[i]=qn}(n);var l,s,c,u=function(e){if(e===i&&y)return y;if(!Hn&&e in d)return d[e];switch(e){case Kn:case Jn:case Yn:return function(){return new n(this,e)}}return function(){return new n(this)}},f=!1,d=e.prototype,p=d[Gn]||d["@@iterator"]||d.values,y=!Hn&&p||u(i),g=d.entries||p;if(g&&(l=Fn(g.call(new e)))!==Object.prototype&&l.next&&(Fn(l)!==Un&&(zn?zn(l,Un):P(l[Gn])||un(l,Gn,Xn)),Nn(l,"Array Iterator",!0)),$n&&p&&p.name!==Jn&&(Bn?Wt(d,"name",Jn):(f=!0,y=function(){return _e(p,this)})),void(s={values:u(Jn),keys:u(Kn),entries:u(Yn)}))for(c in s)(Hn||f||!(c in d))&&un(d,c,s[c]);else jn({target:"Array",proto:!0,forced:Hn||f},s);return d[Gn]!==y&&un(d,Gn,y,{name:i}),Tt.Array=y,s}(Array,0,function(e,t){er(this,{type:Zn,target:te(e),index:0,kind:t})},0,"values"),rr=Tt.Arguments=Tt.Array;if(Rt("keys"),Rt("values"),Rt("entries"),Ie&&"values"!==rr.name)try{Qn(rr,"name",{value:"values"})}catch(e){}var ir=Fe("iterator"),or=Fe("toStringTag"),ar=nr.values,lr=function(e,t){if(e){if(e[ir]!==ar)try{Wt(e,ir,ar)}catch(t){e[ir]=ar}if(e[or]||Wt(e,or,t),T[t])for(var n in nr)if(e[n]!==nr[n])try{Wt(e,n,nr[n])}catch(t){e[n]=nr[n]}}};for(var sr in T)lr(R[sr]&&R[sr].prototype,sr);lr(M,"DOMTokenList");var cr=Object.assign,ur=Object.defineProperty,fr=H([].concat),dr=!cr||W(function(){if(Ie&&1!==cr({b:1},cr(ur({},"a",{enumerable:!0,get:function(){ur(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=cr({},e)[n]||vt(cr({},t)).join("")!=r})?function(e,t){for(var n=se(e),r=arguments.length,i=1,o=pn.f,a=nn.f;r>i;)for(var l,s=Q(arguments[i++]),c=o?fr(vt(s),o(s)):vt(s),u=c.length,f=0;u>f;)l=c[f++],Ie&&!_e(a,s,l)||(n[l]=s[l]);return n}:cr;jn({target:"Object",stat:!0,forced:Object.assign!==dr},{assign:dr});var pr="function"==typeof Symbol&&Symbol.for,yr=pr?Symbol.for("react.element"):60103,gr=pr?Symbol.for("react.portal"):60106,hr=pr?Symbol.for("react.fragment"):60107,vr=pr?Symbol.for("react.strict_mode"):60108,mr=pr?Symbol.for("react.profiler"):60114,br=pr?Symbol.for("react.provider"):60109,Or=pr?Symbol.for("react.context"):60110,Er=pr?Symbol.for("react.async_mode"):60111,xr=pr?Symbol.for("react.concurrent_mode"):60111,Sr=pr?Symbol.for("react.forward_ref"):60112,wr=pr?Symbol.for("react.suspense"):60113,jr=pr?Symbol.for("react.suspense_list"):60120,Ar=pr?Symbol.for("react.memo"):60115,Cr=pr?Symbol.for("react.lazy"):60116,kr=pr?Symbol.for("react.block"):60121,Dr=pr?Symbol.for("react.fundamental"):60117,Fr=pr?Symbol.for("react.responder"):60118,Rr=pr?Symbol.for("react.scope"):60119;function Tr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case yr:switch(e=e.type){case Er:case xr:case hr:case mr:case vr:case wr:return e;default:switch(e=e&&e.$$typeof){case Or:case Sr:case Cr:case Ar:case br:return e;default:return t}}case gr:return t}}}function Pr(e){return Tr(e)===xr}var Ir={AsyncMode:Er,ConcurrentMode:xr,ContextConsumer:Or,ContextProvider:br,Element:yr,ForwardRef:Sr,Fragment:hr,Lazy:Cr,Memo:Ar,Portal:gr,Profiler:mr,StrictMode:vr,Suspense:wr,isAsyncMode:function(e){return Pr(e)||Tr(e)===Er},isConcurrentMode:Pr,isContextConsumer:function(e){return Tr(e)===Or},isContextProvider:function(e){return Tr(e)===br},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===yr},isForwardRef:function(e){return Tr(e)===Sr},isFragment:function(e){return Tr(e)===hr},isLazy:function(e){return Tr(e)===Cr},isMemo:function(e){return Tr(e)===Ar},isPortal:function(e){return Tr(e)===gr},isProfiler:function(e){return Tr(e)===mr},isStrictMode:function(e){return Tr(e)===vr},isSuspense:function(e){return Tr(e)===wr},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===hr||e===xr||e===mr||e===vr||e===wr||e===jr||"object"==typeof e&&null!==e&&(e.$$typeof===Cr||e.$$typeof===Ar||e.$$typeof===br||e.$$typeof===Or||e.$$typeof===Sr||e.$$typeof===Dr||e.$$typeof===Fr||e.$$typeof===Rr||e.$$typeof===kr)},typeOf:Tr};function Vr(){}function Lr(){}C(function(e,t){}),C(function(e){e.exports=Ir}),Lr.resetWarningCache=Vr;var Nr=C(function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Lr,resetWarningCache:Vr};return n.PropTypes=n,n}()}),_r=Function.prototype,qr=_r.apply,Mr=_r.call,Wr="object"==typeof Reflect&&Reflect.apply||(z?Mr.bind(qr):function(){return Mr.apply(qr,arguments)}),zr=R.Array,$r=he("JSON","stringify"),Br=H(/./.exec),Ur=H("".charAt),Hr=H("".charCodeAt),Gr=H("".replace),Kr=H(1..toString),Jr=/[\uD800-\uDFFF]/g,Yr=/^[\uD800-\uDBFF]$/,Xr=/^[\uDC00-\uDFFF]$/,Qr=function(e,t,n){var r=Ur(n,t-1),i=Ur(n,t+1);return Br(Yr,e)&&!Br(Xr,i)||Br(Xr,e)&&!Br(Yr,r)?"\\u"+Kr(Hr(e,0),16):e},Zr=W(function(){return'"\\udf06\\ud834"'!==$r("\udf06\ud834")||'"\\udead"'!==$r("\udead")});$r&&jn({target:"JSON",stat:!0,forced:Zr},{stringify:function(e,t,n){for(var r=0,i=arguments.length,o=zr(i);r<i;r++)o[r]=arguments[r];var a=Wr($r,null,o);return"string"==typeof a?Gr(a,Jr,Qr):a}});const ei=function(e,t,n){if(void 0===n&&(n="stages-form-"),"local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage){const t=localStorage.getItem(""+n+e)||"{}";let r={};try{r=JSON.parse(t)}catch(e){}return r}return{}},ti=function(e,t,n,r){if(void 0===t&&(t={}),void 0===r&&(r="stages-form-"),("local"===n&&"undefined"!=typeof localStorage||"session"===n&&"undefined"!=typeof sessionStorage)&&"object"==typeof t){let n="{}";try{n=JSON.stringify(t)}catch(e){}localStorage.setItem(""+r+e,n)}},ni=function(e,t,n){void 0===n&&(n="stages-form-"),("local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage)&&localStorage.removeItem(""+n+e)},ri=()=>"undefined"!=typeof window&&"function"==typeof window.stagesLogging,ii=e=>{let{children:t,initialData:r,initialStep:i,render:o,validateOnStepChange:a,onChange:l,autoSave:s,id:c}=e;const[u]=n.useState("stages-"+(c||+new Date)),[f,d]=n.useState((()=>{if(!c||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)){if(c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get){const e=s.get(c);if(Object.keys(e).length>0)return e}}else{const e=ei(c,"object"==typeof s?s.type:s);if(Object.keys(e).length>0)return e}return r})()),[p,y]=n.useState([]),[g,v]=n.useState({}),[m,b]=n.useState(i||0),[O,E]=n.useState([]),x=e=>{const t=O&&O[e]?O[e].key:e;return f&&f[t]?f[t]:{}},S=(e,t)=>(O[t]||(O[t]={key:e,visible:!0},E([...O])),e),w=(e,t,n)=>{const r=Object.assign({},f),i=O&&O[n]?O[n].key:n;ri()&&window.stagesLogging('Handle onChange for "'+i+'"',u),g[n]=t,v(Object.assign({},g)),r[i]=e,f[i]=e,d(Object.assign({},r)),"function"==typeof l&&l({data:r,errors:g}),c&&("local"===s||"session"===s?0===Object.keys(g).length&&ti(c,r,s):"object"!=typeof s||"local"!==s.type&&"session"!==s.type?c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.save&&(s.validDataOnly&&0===Object.keys(g).length||!s.validDataOnly)&&s.save(c,r):(s.validDataOnly&&0===Object.keys(g).length||!s.validDataOnly)&&ti(c,r,s.type))},j=()=>{c&&("local"!==s&&"session"!==s||ni(c,s),"object"!=typeof s||"local"!==s.type&&"session"!==s.type||ni(c,s.type),c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.remove&&s.remove(c)),d(r),b(0),"function"==typeof l&&l({data:r,errors:g})};n.useEffect(()=>{ri()&&(!c||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)?c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get?window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:i,errors:g,currentStep:m,savedData:s.get(c)}):window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:i,errors:g,currentStep:m,savedData:{}}):window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:i,errors:g,currentStep:m,savedData:ei(c,"object"==typeof s?s.type:s)}))},[O,f,g,m]),n.useEffect(()=>{ri()&&window.stagesLogging("Init Stages",u),t.map((e,t)=>e({index:t,setStepKey:S,initializing:!0})).filter(e=>e)},[]),n.useEffect(()=>{if(a){const e=C();e<m&&b(-1===e?0:e+1)}y(t.map((e,t)=>e({data:x(t),allData:f,onChange:w,reset:j,onNav:A,isActive:t===m,index:t,errors:g[t]||{},setStepKey:S})).filter((e,t)=>{const n=null!==e;return O[t]&&(O[t].visible=n),n}))},[m,f]);const A=(e,t)=>{let n=m;if(ri()&&window.stagesLogging('On nav "'+e+'" -> "'+t+'"',u),"next"===e){let e=!1;for(let t=m+1;t<O.length;t++)O[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=m-1;t>=0;t--)O[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<O.length;t++)O[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=O.length-1;t>=0;t--)O[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=C()),"step"===e&&O[t]&&O[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=h.default(O,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>O.length&&(n=O.length),b(n)},C=()=>{let e=-1,t=!1;return Object.keys(g).forEach(n=>{const r=h.default(O,{key:n});(0===Object.keys(g[n]).length||r>-1&&!O[r].visible)&&!t?e=Number(n):t=!0}),e};return 0===p.length?null:o?o({navigationProps:{currentStep:m,data:f,onChangeStep:e=>{const t=C();ri()&&window.stagesLogging('On change step "'+e+'"',u),("number"==typeof t&&"number"==typeof e&&t+1>=e||!1===a)&&b(e)},errors:g,keys:O,stepCount:p.length,lastValidStep:C(),reset:j},progressionProps:(()=>{const e=p.length,t=C();let n=0;return Object.keys(g).forEach((e,r)=>{const i=x(r);r<=t&&0===Object.keys(g[r]).length&&Object.keys(i).length>0&&n++}),{currentStep:m,stepCount:e,validSteps:n,percentage:100/e*n,data:f,errors:g}})(),routerProps:{step:m,onChange:b,keys:O},steps:p}):null};ii.propTypes={children:Nr.arrayOf(Nr.oneOfType([Nr.node,Nr.func])).isRequired,initialData:Nr.object,render:Nr.oneOfType([Nr.node,Nr.func]).isRequired,initialStep:Nr.number,validateOnStepChange:Nr.bool,id:Nr.oneOfType([Nr.string,Nr.number])},ii.defaultProps={initialData:{},validateOnStepChange:!0,autoSave:!1};var oi={};oi[Fe("toStringTag")]="z";var ai="[object z]"===String(oi),li=Fe("toStringTag"),si=R.Object,ci="Arguments"==J(function(){return arguments}()),ui=ai?J:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=si(e),li))?n:ci?J(t):"Object"==(r=J(t))&&P(t.callee)?"Arguments":r},fi=R.String,di=function(e){if("Symbol"===ui(e))throw TypeError("Cannot convert a Symbol value to a string");return fi(e)},pi=function(){var e=Pe(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},yi=R.RegExp,gi=W(function(){var e=yi("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),hi=gi||W(function(){return!yi("a","y").sticky}),vi=gi||W(function(){var e=yi("^r","gy");return e.lastIndex=2,null!=e.exec("str")}),mi={BROKEN_CARET:vi,MISSED_STICKY:hi,UNSUPPORTED_Y:gi},bi=R.RegExp,Oi=W(function(){var e=bi(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),Ei=R.RegExp,xi=W(function(){var e=Ei("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Si=Qt.get,wi=ae("native-string-replace",String.prototype.replace),ji=RegExp.prototype.exec,Ai=ji,Ci=H("".charAt),ki=H("".indexOf),Di=H("".replace),Fi=H("".slice),Ri=function(){var e=/a/,t=/b*/g;return _e(ji,e,"a"),_e(ji,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Ti=mi.BROKEN_CARET,Pi=void 0!==/()??/.exec("")[1];(Ri||Pi||Ti||Oi||xi)&&(Ai=function(e){var t,n,r,i,o,a,l,s=this,c=Si(s),u=di(e),f=c.raw;if(f)return f.lastIndex=s.lastIndex,t=_e(Ai,f,u),s.lastIndex=f.lastIndex,t;var d=c.groups,p=Ti&&s.sticky,y=_e(pi,s),g=s.source,h=0,v=u;if(p&&(y=Di(y,"y",""),-1===ki(y,"g")&&(y+="g"),v=Fi(u,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==Ci(u,s.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,h++),n=new RegExp("^(?:"+g+")",y)),Pi&&(n=new RegExp("^"+g+"$(?!\\s)",y)),Ri&&(r=s.lastIndex),i=_e(ji,p?n:s,v),p?i?(i.input=Fi(i.input,h),i[0]=Fi(i[0],h),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:Ri&&i&&(s.lastIndex=s.global?i.index+i[0].length:r),Pi&&i&&i.length>1&&_e(wi,i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&d)for(i.groups=a=kt(null),o=0;o<d.length;o++)a[(l=d[o])[0]]=i[l[1]];return i});var Ii=Ai;jn({target:"RegExp",proto:!0,forced:/./.exec!==Ii},{exec:Ii});var Vi=Fe("species"),Li=RegExp.prototype,Ni=Fe("match"),_i=function(e){var t;return I(e)&&(void 0!==(t=e[Ni])?!!t:"RegExp"==J(e))},qi=function(){},Mi=[],Wi=he("Reflect","construct"),zi=/^\s*(?:class|function)\b/,$i=H(zi.exec),Bi=!zi.exec(qi),Ui=function(e){if(!P(e))return!1;try{return Wi(qi,Mi,e),!0}catch(e){return!1}},Hi=function(e){if(!P(e))return!1;switch(ui(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Bi||!!$i(zi,Nt(e))}catch(e){return!0}};Hi.sham=!0;var Gi=!Wi||W(function(){var e;return Ui(Ui.call)||!Ui(Object)||!Ui(function(){e=!0})||e})?Hi:Ui,Ki=R.TypeError,Ji=Fe("species"),Yi=function(e,t){var n,r=Pe(e).constructor;return void 0===r||null==(n=Pe(r)[Ji])?t:function(e){if(Gi(e))return e;throw Ki($e(e)+" is not a constructor")}(n)},Xi=H("".charAt),Qi=H("".charCodeAt),Zi=H("".slice),eo=function(e){return function(t,n){var r,i,o=di(ee(t)),a=rt(n),l=o.length;return a<0||a>=l?e?"":void 0:(r=Qi(o,a))<55296||r>56319||a+1===l||(i=Qi(o,a+1))<56320||i>57343?e?Xi(o,a):r:e?Zi(o,a,a+2):i-56320+(r-55296<<10)+65536}},to=(eo(!1),eo(!0)),no=function(e,t,n){return t+(n?to(e,t).length:1)},ro=R.Array,io=Math.max,oo=function(e,t,n){for(var r,i,o,a=ct(e),l=at(t,a),s=at(void 0===n?a:n,a),c=ro(io(s-l,0)),u=0;l<s;l++,u++)r=c,i=e[l],(o=Ye(u))in r?et.f(r,o,Mt(0,i)):r[o]=i;return c.length=u,c},ao=R.TypeError,lo=function(e,t){var n=e.exec;if(P(n)){var r=_e(n,e,t);return null!==r&&Pe(r),r}if("RegExp"===J(e))return _e(Ii,e,t);throw ao("RegExp#exec called on incompatible receiver")},so=mi.UNSUPPORTED_Y,co=4294967295,uo=Math.min,fo=[].push,po=H(/./.exec),yo=H(fo),go=H("".slice),ho=!W(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});!function(e,t,n,r){var i,o,a,l,s=Fe(e),c=!W(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)}),u=c&&!W(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[Vi]=function(){return t},t.flags="",t[s]=/./[s],t.exec=function(){return e=!0,null},t[s](""),!e});if(!c||!u||n){var f=H(/./[s]),d=(i=s,o=""[e],a=function(e,t,n,r,i){var o=H(e),a=t.exec;return a===Ii||a===Li.exec?c&&!i?{done:!0,value:f(t,n,r)}:{done:!0,value:o(n,t,r)}:{done:!1}},l="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=di(ee(this)),r=void 0===t?co:t>>>0;if(0===r)return[];if(void 0===e)return[n];if(!_i(e))return _e(o,n,e,r);for(var i,a,l,s=[],c=0,u=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=_e(Ii,u,n))&&!((a=u.lastIndex)>c&&(yo(s,go(n,c,i.index)),i.length>1&&i.index<n.length&&Wr(fo,s,oo(i,1)),l=i[0].length,c=a,s.length>=r));)u.lastIndex===i.index&&u.lastIndex++;return c===n.length?!l&&po(u,"")||yo(s,""):yo(s,go(n,c)),s.length>r?oo(s,0,r):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:_e(o,this,e,t)}:o,[function(e,t){var n=ee(this),r=null==e?void 0:He(e,i);return r?_e(r,e,n,t):_e(l,di(n),e,t)},function(e,t){var n=Pe(this),r=di(e),i=a(l,n,r,t,l!==o);if(i.done)return i.value;var s=Yi(n,RegExp),c=n.unicode,u=new s(so?"^(?:"+n.source+")":n,(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(so?"g":"y")),f=void 0===t?co:t>>>0;if(0===f)return[];if(0===r.length)return null===lo(u,r)?[r]:[];for(var d=0,p=0,y=[];p<r.length;){u.lastIndex=so?0:p;var g,h=lo(u,so?go(r,p):r);if(null===h||(g=uo(st(u.lastIndex+(so?p:0)),r.length))===d)p=no(r,p,c);else{if(yo(y,go(r,d,p)),y.length===f)return y;for(var v=1;v<=h.length-1;v++)if(yo(y,h[v]),y.length===f)return y;p=d=g}}return yo(y,go(r,d)),y}]);un(String.prototype,e,d[0]),un(Li,s,d[1])}r&&Wt(Li[s],"sham",!0)}("split",0,!ho,so);var vo=Fe("species"),mo=function(e){var t=he(e);Ie&&t&&!t[vo]&&(0,et.f)(t,vo,{configurable:!0,get:function(){return this}})},bo=et.f,Oo=dn.f,Eo=Qt.enforce,xo=Fe("match"),So=R.RegExp,wo=So.prototype,jo=R.SyntaxError,Ao=H(pi),Co=H(wo.exec),ko=H("".charAt),Do=H("".replace),Fo=H("".indexOf),Ro=H("".slice),To=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Po=/a/g,Io=/a/g,Vo=new So(Po)!==Po,Lo=mi.MISSED_STICKY,No=mi.UNSUPPORTED_Y,_o=Ie&&(!Vo||Lo||Oi||xi||W(function(){return Io[xo]=!1,So(Po)!=Po||So(Io)==Io||"/a/i"!=So(Po,"i")}));if(Sn("RegExp",_o)){for(var qo=function(e,t){var n,r,i,o,a,l,s,c,u,f,d=qe(wo,this),p=_i(e),y=void 0===t,g=[],h=e;if(!d&&p&&y&&e.constructor===qo)return e;if((p||qe(wo,e))&&(e=e.source,y&&(t="flags"in h?h.flags:Ao(h))),e=void 0===e?"":di(e),t=void 0===t?"":di(t),h=e,Oi&&"dotAll"in Po&&(r=!!t&&Fo(t,"s")>-1)&&(t=Do(t,/s/g,"")),n=t,Lo&&"sticky"in Po&&(i=!!t&&Fo(t,"y")>-1)&&No&&(t=Do(t,/y/g,"")),xi&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},l=!1,s=!1,c=0,u="";r<=n;r++){if("\\"===(t=ko(e,r)))t+=ko(e,++r);else if("]"===t)l=!1;else if(!l)switch(!0){case"["===t:l=!0;break;case"("===t:Co(To,Ro(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===u||ue(a,u))throw new jo("Invalid capture group name");a[u]=!0,o[o.length]=[u,c],s=!1,u="";continue}s?u+=t:i+=t}return[i,o]}(e),e=o[0],g=o[1]),s=So(e,t),c=qo,zn&&P(u=(d?this:wo).constructor)&&u!==c&&I(f=u.prototype)&&f!==c.prototype&&zn(s,f),a=s,(r||i||g.length)&&(l=Eo(a),r&&(l.dotAll=!0,l.raw=qo(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=ko(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+ko(e,++r);return i}(e),n)),i&&(l.sticky=!0),g.length&&(l.groups=g)),e!==h)try{Wt(a,"source",""===h?"(?:)":h)}catch(e){}return a},Mo=function(e){e in qo||bo(qo,e,{configurable:!0,get:function(){return So[e]},set:function(t){So[e]=t}})},Wo=Oo(So),zo=0;Wo.length>zo;)Mo(Wo[zo++]);wo.constructor=qo,qo.prototype=wo,un(R,"RegExp",qo)}mo("RegExp");var $o=cn.PROPER,Bo="toString",Uo=RegExp.prototype,Ho=Uo.toString,Go=H(pi);(W(function(){return"/a/b"!=Ho.call({source:"a",flags:"b"})})||$o&&Ho.name!=Bo)&&un(RegExp.prototype,Bo,function(){var e=Pe(this),t=di(e.source),n=e.flags;return"/"+t+"/"+di(void 0===n&&qe(Uo,e)&&!("flags"in Uo)?Go(e):n)},{unsafe:!0});var Ko,Jo,Yo=(Ko=!1,(Jo=/[ac]/).exec=function(){return Ko=!0,/./.exec.apply(this,arguments)},!0===Jo.test("abc")&&Ko),Xo=R.Error,Qo=H(/./.test);jn({target:"RegExp",proto:!0,forced:!Yo},{test:function(e){var t=this.exec;if(!P(t))return Qo(this,e);var n=_e(t,this,e);if(null!==n&&!I(n))throw new Xo("RegExp exec method returned something other than an Object or null");return!!n}});var Zo,ea=R.TypeError,ta=function(e){if(_i(e))throw ea("The method doesn't accept regular expressions");return e},na=Fe("match"),ra=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[na]=!1,"/./"[e](t)}catch(e){}}return!1},ia=on.f,oa=H("".startsWith),aa=H("".slice),la=Math.min,sa=ra("startsWith"),ca=!(sa||(Zo=ia(String.prototype,"startsWith"),!Zo||Zo.writable));jn({target:"String",proto:!0,forced:!ca&&!sa},{startsWith:function(e){var t=di(ee(this));ta(e);var n=st(la(arguments.length>1?arguments[1]:void 0,t.length)),r=di(e);return oa?oa(t,r,n):aa(t,n,n+r.length)===r}});var ua=R.Promise,fa=R.TypeError,da=H(H.bind),pa=function(e,t){return Ue(e),void 0===t?e:z?da(e,t):function(){return e.apply(t,arguments)}},ya=Fe("iterator"),ga=Array.prototype,ha=Fe("iterator"),va=function(e){if(null!=e)return He(e,ha)||He(e,"@@iterator")||Tt[ui(e)]},ma=R.TypeError,ba=function(e,t,n){var r,i;Pe(e);try{if(!(r=He(e,"return"))){if("throw"===t)throw n;return n}r=_e(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Pe(r),n},Oa=R.TypeError,Ea=function(e,t){this.stopped=e,this.result=t},xa=Ea.prototype,Sa=function(e,t,n){var r,i,o,a,l,s,c,u,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),y=pa(t,n&&n.that),g=function(e){return r&&ba(r,"normal",e),new Ea(!0,e)},h=function(e){return f?(Pe(e),p?y(e[0],e[1],g):y(e[0],e[1])):p?y(e,g):y(e)};if(d)r=e;else{if(!(i=va(e)))throw Oa($e(e)+" is not iterable");if(void 0!==(u=i)&&(Tt.Array===u||ga[ya]===u)){for(o=0,a=ct(e);a>o;o++)if((l=h(e[o]))&&qe(xa,l))return l;return new Ea(!1)}r=function(e,t){var n=arguments.length<2?va(e):t;if(Ue(n))return Pe(_e(n,e));throw ma($e(e)+" is not iterable")}(e,i)}for(s=r.next;!(c=_e(s,r)).done;){try{l=h(c.value)}catch(e){ba(r,"throw",e)}if("object"==typeof l&&l&&qe(xa,l))return l}return new Ea(!1)},wa=Fe("iterator"),ja=!1;try{var Aa=0,Ca={next:function(){return{done:!!Aa++}},return:function(){ja=!0}};Ca[wa]=function(){return this},Array.from(Ca,function(){throw 2})}catch(e){}var ka,Da,Fa,Ra,Ta=H([].slice),Pa=R.TypeError,Ia=function(e,t){if(e<t)throw Pa("Not enough arguments");return e},Va=/(?:ipad|iphone|ipod).*applewebkit/i.test(ve),La="process"==J(R.process),Na=R.setImmediate,_a=R.clearImmediate,qa=R.process,Ma=R.Dispatch,Wa=R.Function,za=R.MessageChannel,$a=R.String,Ba=0,Ua={};try{ka=R.location}catch(e){}var Ha=function(e){if(ue(Ua,e)){var t=Ua[e];delete Ua[e],t()}},Ga=function(e){return function(){Ha(e)}},Ka=function(e){Ha(e.data)},Ja=function(e){R.postMessage($a(e),ka.protocol+"//"+ka.host)};Na&&_a||(Na=function(e){Ia(arguments.length,1);var t=P(e)?e:Wa(e),n=Ta(arguments,1);return Ua[++Ba]=function(){Wr(t,void 0,n)},Da(Ba),Ba},_a=function(e){delete Ua[e]},La?Da=function(e){qa.nextTick(Ga(e))}:Ma&&Ma.now?Da=function(e){Ma.now(Ga(e))}:za&&!Va?(Ra=(Fa=new za).port2,Fa.port1.onmessage=Ka,Da=pa(Ra.postMessage,Ra)):R.addEventListener&&P(R.postMessage)&&!R.importScripts&&ka&&"file:"!==ka.protocol&&!W(Ja)?(Da=Ja,R.addEventListener("message",Ka,!1)):Da="onreadystatechange"in N("script")?function(e){Ot.appendChild(N("script")).onreadystatechange=function(){Ot.removeChild(this),Ha(e)}}:function(e){setTimeout(Ga(e),0)});var Ya,Xa,Qa,Za,el,tl,nl,rl,il={set:Na,clear:_a},ol=/ipad|iphone|ipod/i.test(ve)&&void 0!==R.Pebble,al=/web0s(?!.*chrome)/i.test(ve),ll=il.set,sl=R.MutationObserver||R.WebKitMutationObserver,cl=R.document,ul=R.process,fl=R.Promise,dl=(0,on.f)(R,"queueMicrotask"),pl=dl&&dl.value;pl||(Ya=function(){var e,t;for(La&&(e=ul.domain)&&e.exit();Xa;){t=Xa.fn,Xa=Xa.next;try{t()}catch(e){throw Xa?Za():Qa=void 0,e}}Qa=void 0,e&&e.enter()},Va||La||al||!sl||!cl?!ol&&fl&&fl.resolve?((nl=fl.resolve(void 0)).constructor=fl,rl=pa(nl.then,nl),Za=function(){rl(Ya)}):La?Za=function(){ul.nextTick(Ya)}:(ll=pa(ll,R),Za=function(){ll(Ya)}):(el=!0,tl=cl.createTextNode(""),new sl(Ya).observe(tl,{characterData:!0}),Za=function(){tl.data=el=!el}));var yl=pl||function(e){var t={fn:e,next:void 0};Qa&&(Qa.next=t),Xa||(Xa=t,Za()),Qa=t},gl=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Ue(t),this.reject=Ue(n)},hl={f:function(e){return new gl(e)}},vl=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ml=function(){this.head=null,this.tail=null};ml.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var bl,Ol,El,xl,Sl=ml,wl="object"==typeof window,jl=il.set,Al=Fe("species"),Cl="Promise",kl=Qt.getterFor(Cl),Dl=Qt.set,Fl=Qt.getterFor(Cl),Rl=ua&&ua.prototype,Tl=ua,Pl=Rl,Il=R.TypeError,Vl=R.document,Ll=R.process,Nl=hl.f,_l=Nl,ql=!!(Vl&&Vl.createEvent&&R.dispatchEvent),Ml=P(R.PromiseRejectionEvent),Wl="unhandledrejection",zl=!1,$l=Sn(Cl,function(){var e=Nt(Tl),t=e!==String(Tl);if(!t&&66===Se)return!0;if(Se>=51&&/native code/.test(e))return!1;var n=new Tl(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[Al]=r,!(zl=n.then(function(){})instanceof r)||!t&&wl&&!Ml}),Bl=$l||!function(e,t){if(!ja)return!1;var n=!1;try{var r={};r[wa]=function(){return{next:function(){return{done:n=!0}}}},Tl.all(r).catch(function(){})}catch(e){}return n}(),Ul=function(e){var t;return!(!I(e)||!P(t=e.then))&&t},Hl=function(e,t){var n,r,i,o=t.value,a=1==t.state,l=a?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{l?(a||(2===t.rejection&&Xl(t),t.rejection=1),!0===l?n=o:(u&&u.enter(),n=l(o),u&&(u.exit(),i=!0)),n===e.promise?c(Il("Promise-chain cycle")):(r=Ul(n))?_e(r,n,s,c):s(n)):c(o)}catch(e){u&&!i&&u.exit(),c(e)}},Gl=function(e,t){e.notified||(e.notified=!0,yl(function(){for(var n,r=e.reactions;n=r.get();)Hl(n,e);e.notified=!1,t&&!e.rejection&&Jl(e)}))},Kl=function(e,t,n){var r,i;ql?((r=Vl.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),R.dispatchEvent(r)):r={promise:t,reason:n},!Ml&&(i=R["on"+e])?i(r):e===Wl&&function(e,t){var n=R.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Jl=function(e){_e(jl,R,function(){var t,n=e.facade,r=e.value;if(Yl(e)&&(t=vl(function(){La?Ll.emit("unhandledRejection",r,n):Kl(Wl,n,r)}),e.rejection=La||Yl(e)?2:1,t.error))throw t.value})},Yl=function(e){return 1!==e.rejection&&!e.parent},Xl=function(e){_e(jl,R,function(){var t=e.facade;La?Ll.emit("rejectionHandled",t):Kl("rejectionhandled",t,e.value)})},Ql=function(e,t,n){return function(r){e(t,r,n)}},Zl=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Gl(e,!0))},es=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Il("Promise can't be resolved itself");var r=Ul(t);r?yl(function(){var n={done:!1};try{_e(r,t,Ql(es,n,e),Ql(Zl,n,e))}catch(t){Zl(n,t,e)}}):(e.value=t,e.state=1,Gl(e,!1))}catch(t){Zl({done:!1},t,e)}}};if($l&&(Tl=function(e){!function(e,t){if(qe(t,e))return e;throw fa("Incorrect invocation")}(this,Pl),Ue(e),_e(bl,this);var t=kl(this);try{e(Ql(es,t),Ql(Zl,t))}catch(e){Zl(t,e)}},(bl=function(e){Dl(this,{type:Cl,done:!1,notified:!1,parent:!1,reactions:new Sl,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)un(e,r,t[r],void 0);return e}(Pl=Tl.prototype,{then:function(e,t){var n=Fl(this),r=Nl(Yi(this,Tl));return n.parent=!0,r.ok=!P(e)||e,r.fail=P(t)&&t,r.domain=La?Ll.domain:void 0,0==n.state?n.reactions.add(r):yl(function(){Hl(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),Ol=function(){var e=new bl,t=kl(e);this.promise=e,this.resolve=Ql(es,t),this.reject=Ql(Zl,t)},hl.f=Nl=function(e){return e===Tl||e===El?new Ol(e):_l(e)},P(ua)&&Rl!==Object.prototype)){xl=Rl.then,zl||(un(Rl,"then",function(e,t){var n=this;return new Tl(function(e,t){_e(xl,n,e,t)}).then(e,t)},{unsafe:!0}),un(Rl,"catch",Pl.catch,{unsafe:!0}));try{delete Rl.constructor}catch(e){}zn&&zn(Rl,Pl)}jn({global:!0,wrap:!0,forced:$l},{Promise:Tl}),Nn(Tl,Cl,!1),mo(Cl),El=he(Cl),jn({target:Cl,stat:!0,forced:$l},{reject:function(e){var t=Nl(this);return _e(t.reject,void 0,e),t.promise}}),jn({target:Cl,stat:!0,forced:$l},{resolve:function(e){return function(e,t){if(Pe(e),I(t)&&t.constructor===e)return t;var n=hl.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),jn({target:Cl,stat:!0,forced:Bl},{all:function(e){var t=this,n=Nl(t),r=n.resolve,i=n.reject,o=vl(function(){var n=Ue(t.resolve),o=[],a=0,l=1;Sa(e,function(e){var s=a++,c=!1;l++,_e(n,t,e).then(function(e){c||(c=!0,o[s]=e,--l||r(o))},i)}),--l||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Nl(t),r=n.reject,i=vl(function(){var i=Ue(t.resolve);Sa(e,function(e){_e(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var ts,ns=Math.floor,rs=function(e,t){var n=e.length,r=ns(n/2);return n<8?is(e,t):os(e,rs(oo(e,0,r),t),rs(oo(e,r),t),t)},is=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},os=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,l=0;a<i||l<o;)e[a+l]=a<i&&l<o?r(t[a],n[l])<=0?t[a++]:n[l++]:a<i?t[a++]:n[l++];return e},as=rs,ls=ve.match(/firefox\/(\d+)/i),ss=!!ls&&+ls[1],cs=/MSIE|Trident/.test(ve),us=ve.match(/AppleWebKit\/(\d+)\./),fs=!!us&&+us[1],ds=[],ps=H(ds.sort),ys=H(ds.push),gs=W(function(){ds.sort(void 0)}),hs=W(function(){ds.sort(null)}),vs=!!(ts=[].sort)&&W(function(){ts.call(null,function(){return 1},1)}),ms=!W(function(){if(Se)return Se<70;if(!(ss&&ss>3)){if(cs)return!0;if(fs)return fs<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)ds.push({k:t+r,v:n})}for(ds.sort(function(e,t){return t.v-e.v}),r=0;r<ds.length;r++)t=ds[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});jn({target:"Array",proto:!0,forced:gs||!hs||!vs||!ms},{sort:function(e){void 0!==e&&Ue(e);var t=se(this);if(ms)return void 0===e?ps(t):ps(t,e);var n,r,i=[],o=ct(t);for(r=0;r<o;r++)r in t&&ys(i,t[r]);for(as(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:di(t)>di(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<o;)delete t[r++];return t}});var bs=Array.isArray||function(e){return"Array"==J(e)},Os=H([].reverse),Es=[1,2];jn({target:"Array",proto:!0,forced:String(Es)===String(Es.reverse())},{reverse:function(){return bs(this)&&(this.length=this.length),Os(this)}});var xs=H(1..valueOf),Ss=R.RangeError,ws=R.RangeError,js=R.String,As=Math.floor,Cs=H(function(e){var t=di(ee(this)),n="",r=rt(e);if(r<0||Infinity==r)throw Ss("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),ks=H("".slice),Ds=H(1..toFixed),Fs=function(e,t,n){return 0===t?n:t%2==1?Fs(e,t-1,n*e):Fs(e*e,t/2,n)},Rs=function(e,t,n){for(var r=-1,i=n;++r<6;)e[r]=(i+=t*e[r])%1e7,i=As(i/1e7)},Ts=function(e,t){for(var n=6,r=0;--n>=0;)e[n]=As((r+=e[n])/t),r=r%t*1e7},Ps=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=js(e[t]);n=""===n?r:n+Cs("0",7-r.length)+r}return n},Is=W(function(){return"0.000"!==Ds(8e-5,3)||"1"!==Ds(.9,0)||"1.25"!==Ds(1.255,2)||"1000000000000000128"!==Ds(0xde0b6b3a7640080,0)})||!W(function(){Ds({})});jn({target:"Number",proto:!0,forced:Is},{toFixed:function(e){var t,n,r,i,o=xs(this),a=rt(e),l=[0,0,0,0,0,0],s="",c="0";if(a<0||a>20)throw ws("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return js(o);if(o<0&&(s="-",o=-o),o>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*Fs(2,69,1))-69,n=t<0?o*Fs(2,-t,1):o/Fs(2,t,1),n*=4503599627370496,(t=52-t)>0){for(Rs(l,0,n),r=a;r>=7;)Rs(l,1e7,0),r-=7;for(Rs(l,Fs(10,r,1),0),r=t-1;r>=23;)Ts(l,1<<23),r-=23;Ts(l,1<<r),Rs(l,1,1),Ts(l,2),c=Ps(l)}else Rs(l,0,n),Rs(l,1<<-t,0),c=Ps(l)+Cs("0",a);return a>0?s+((i=c.length)<=a?"0."+Cs("0",a-i)+c:ks(c,0,i-a)+"."+ks(c,i-a)):s+c}});var Vs=on.f,Ls=H("".endsWith),Ns=H("".slice),_s=Math.min,qs=ra("endsWith"),Ms=!qs&&!!function(){var e=Vs(String.prototype,"endsWith");return e&&!e.writable}();jn({target:"String",proto:!0,forced:!Ms&&!qs},{endsWith:function(e){var t=di(ee(this));ta(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:_s(st(n),r),o=di(e);return Ls?Ls(t,o,i):Ns(t,i-o.length,i)===o}});const Ws=(e,t,n)=>n&&Array.isArray(e)?"number"===t?e.map(e=>Number(e)):"string"===t?e.map(e=>String(e)):"boolean"===t?e.map(e=>Boolean(e)):"date"===t?e.map(e=>new Date(e)):e:"number"===t?Number(e):"string"===t?String(e):"boolean"===t?Boolean(e):"date"===t?new Date(e):e,zs=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{n[r]=void 0!==e[r]?e[r]:t[r].default,void 0===e[r]&&t[r].required&&console.warn('Param "'+r+'" is required but is missing in field configs!'),void 0!==e[r]&&typeof e[r]!==t[r].type&&console.warn('Param "'+r+'" is not of type "'+t[r].type+'"!')}),n},$s={};let Bs,Us,Hs,Gs=0;const Ks={},Js=e=>{let{config:t,data:r,render:i,renderFields:o,fields:a,onChange:l,isVisible:s,isDisabled:c,id:u,onValidation:f,parentRunValidation:d,validateOn:p,throttleWait:v,customEvents:A,enableUndo:C,undoMaxDepth:k,customRuleHandlers:D,autoSave:F,typeValidations:R,fieldsets:T,initialInterfaceState:P,hashSeparator:I}=e;const V=n.useRef(!1),[L,N]=n.useState(P),_=Object.assign({},r);w.default(_,L);const[q]=n.useState("form-"+(u||"noid")+"-"+ +new Date),[M,W]=n.useState(!1),[z,$]=n.useState({}),[B,U]=n.useState(!1),[H,G]=n.useState([]),[K,J]=n.useState(0),[Y,X]=n.useState(!1),[Q,Z]=n.useState(!1),[ee,te]=n.useState({}),[ne,re]=n.useState({}),[ie,oe]=n.useState(),[ae,le]=n.useState({}),[se,ce]=n.useState(!1),[ue,fe]=n.useState(""),[de,pe]=n.useState(""),[ye,ge]=n.useState([]),[he,ve]=n.useState({}),me=((e,t,n,r,i,o)=>{let a="function"==typeof e.fields?e.fields(t,n,r):"function"==typeof e?e(t,n,r):Array.isArray(e)?e:[];const l=i=>{if("string"==typeof i&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[i])return e.fieldConfigs[i](t,n,r);if("object"==typeof i&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[i.type]){const o=e.fieldConfigs[i.type](t,n,r);return Object.assign({},o,i,{type:o.type})}return"object"==typeof i&&o[i.type]?{id:i.id,type:"fieldset",fieldset:i.type,fields:o[i.type].config({data:t,asyncData:n,interfaceState:r,params:zs(i.params||{},o[i.type].params)}),params:i.params}:"function"==typeof i?i(t,n,r):i};return a=a.map(e=>("object"!=typeof e||"group"!==e.type&&"collection"!==e.type&&"fieldset"!==e.type||!Array.isArray(e.fields)||(e.fields=e.fields.map(e=>l(e))),"object"==typeof e&&"wizard"===e.type&&Array.isArray(e.stages)&&(e.stages=e.stages.map(e=>l(e))),l(e))),i.forEach(e=>{const r=y.default(a,e.path);if(Array.isArray(r)){if("add"===e.action&&r.push(e.fields(t,n)),"remove"===e.action){const i=e.fields(t,n),o=h.default(r,{id:i.id});o>-1&&r.splice(o,1)}x.default(a,e.path,r)}}),a})(t,_,ie,L,ye,T),be=((e,t,n)=>{const r=[];return function i(o,a,l){void 0===o&&(o=""),void 0===a&&(a=""),void 0===l&&(l="");let s=[o?y.default(e,o):e],c=[];Array.isArray(s[0])||(c=Object.keys(s[0]),s=Object.values(s[0])),("stage"!==l||((e,t)=>{let n=!1;return Object.keys(e).forEach(r=>{r+"."+e[r]===t&&(n=!0)}),n})(n,a))&&s.forEach((e,n)=>{const l=void 0!==c[n]?c[n]:void 0;Array.isArray(e)&&e.forEach((e,n)=>{const s=a?a+"."+e.id:e.id,c=y.default(t,s),u=y.default(t,a);if((l&&u&&u.__typename===l||!l)&&r.push({path:s,config:e,data:c}),"collection"===e.type){const r=a?y.default(t,a+"."+e.id):t[e.id];r&&Array.isArray(r)&&r.forEach((t,r)=>{i(o+"["+n+"].fields",a?a+"."+e.id+"["+r+"]":e.id+"["+r+"]")})}else"group"===e.type||"fieldset"===e.type||"stage"===e.type?i(o+"["+n+"].fields",s,e.type):"wizard"===e.type&&i(o+"["+n+"].stages",s,"wizard")})})}(),r})(me,_,he);n.useEffect(()=>(V.current=!0,()=>{V.current=!1}),[]),n.useEffect(()=>{const e=("undefined"!=typeof window?window.location.hash.substring(2):"").split(I||":"),t=Object.assign({},he);e.forEach(e=>{const n=e.split("."),r=n.slice(0,-1).join("."),i=n[n.length-1];r&&i&&(t[r]=i)}),be.forEach(e=>{"wizard"!==e.config.type||t[e.path]||(t[e.path]=e.config.stages[0].id)}),ve(t)},[t]);const Oe=()=>V&&!0===V.current;n.useEffect(()=>{if(r&&!B){let e;ri()&&window.stagesLogging("Set initial data",q),be.forEach(t=>{if(void 0!==t.config.defaultValue&&void 0===y.default(r,t.path)){const e="function"==typeof t.config.defaultValue?t.config.defaultValue(r):t.config.defaultValue;x.default(r,t.path,e),x.default(_,t.path,e)}if(Array.isArray(t.config.validateOn)&&t.config.validateOn.indexOf("init")>-1||Array.isArray(p)&&p.indexOf("init")>-1){const n=Se(t.path,"init",r,ae);e=Object.assign({},ae,n)}e&&le(e)});const t=j.default(r);let n;U(JSON.parse(t)),"local"===F||"session"===F||"object"==typeof F&&("local"===F.type||"session"===F.type)?n=ei(u,"object"==typeof F?F.type:F):u&&"object"==typeof F&&"custom"===F.type&&"function"==typeof F.get&&(n=F.get(u)),n&&Object.keys(n).length>0&&setTimeout(()=>{W(!!n.isDirty),$("object"==typeof n.dirtyFields?n.dirtyFields:{}),ke(n.data,we(!1,n.data),u)},0)}},[r]),n.useEffect(()=>{if(ri()){let e;e="local"===F||"session"===F||"object"==typeof F&&("local"===F.type||"session"===F.type)?ei(u,"object"==typeof F?F.type:F):u&&"object"==typeof F&&"custom"===F.type&&"function"==typeof F.get?F.get(u):{},window.stagesLogging({id:q,data:r,initialData:B,interfaceState:L,undoData:H,asyncData:ie,errors:ae,fieldPaths:be,isDirty:M,focusedField:ue,lastFocusedField:de,dirtyFields:z,loading:se,parsedFieldConfig:me,savedData:e})}},[r,ae,M,ue,de,z,se]);const Ee=e=>"collection"===e||"subform"===e||"group"===e||"fieldset"===e||"config"===e||"wizard"===e||"stage"===e,xe=(e,t,n,r)=>{if(!a[t.type])return!0;const i=y.default(n,e),o=!Ee(t.type)&&a[t.type].isValid(i,t);if(R[t.type]&&"function"==typeof R[t.type].validation&&!t.customValidation)return R[t.type].validation({data:i,allData:n,interfaceState:L,fieldConfig:t,isValid:o,fieldHasFocus:!(!ue||ue!==e),fieldIsDirty:void 0!==z[e],triggeringEvent:r});if(("string"==typeof t.regexValidation||t.regexValidation instanceof RegExp)&&!t.customValidation){let e;if("string"==typeof t.regexValidation)try{e=new RegExp(t.regexValidation)}catch(e){}else e=t.regexValidation;return o&&(e.test(i)||!i)}if(!Ee(t.type)&&"function"==typeof t.customValidation){const a=t.customValidation({data:i,allData:n,interfaceState:L,fieldConfig:t,isValid:o,fieldHasFocus:!(!ue||ue!==e),fieldIsDirty:void 0!==z[e],triggeringEvent:r});if(!function(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}(a))return a;!function(){const n=+new Date;Bs=Object.assign({},Bs,{[e]:n}),a.then(r=>{Bs[e]===n&&(!0!==r?(delete Bs[e],le(Object.assign({},ae,{[e]:{field:t}}))):(delete Bs[e],le(Object.assign({},ae))),Bs=Object.assign({},Bs))})}()}return o},Se=(e,t,n,r,i)=>{const o=m.default(be,{path:e}).config;ri()&&"render"!==t&&window.stagesLogging('Validate field "'+e+'"',q);const l=xe(e,o,n,t),s=y.default(n,e);return r[e]&&delete r[e],Ee(o.type)||!0===l?"collection"===o.type&&o.isRequired&&(!s||0===s.length||1===s.length&&0===Object.keys(s[0]).length)?(i||(i=e),r[e]={value:s,field:o}):"collection"===o.type&&(Array.isArray(o.fields)?o.fields.forEach(i=>{s&&s.forEach((l,c)=>{const u=e+"["+c+"]."+i.id;if(!(o.isRequired||l&&0!==Object.keys(l).length))return;const f=xe(i,u,l,t);if(a[i.type]&&!0!==f)r[e]={value:s,subField:i,errorCode:!1!==f?f:void 0};else if(a[i.type]&&i.isUnique){let t=y.default(n,e,[]).filter(e=>void 0!==e[i.id]).map(e=>e[i.id]);[...new Set(t)].length!==t.length&&(r[e]={value:s,subField:i,errorCode:"notUnique"})}})}):s&&s.forEach((n,i)=>{(o.isRequired||n&&0!==Object.keys(n).length)&&o.fields[n.__typename]&&o.fields[n.__typename].forEach(o=>{const l=xe(o,e+"["+i+"]."+o.id,n,t);a[o.type]&&!0!==l&&(r[e]={value:s,subField:o,errorCode:!1!==l?l:void 0})})})):(i||(i=e),r[e]={value:s,field:o,errorCode:!1!==l?l:void 0}),"collection"===o.type&&o.uniqEntries&&s&&O.default(s,(e,t)=>j.default(e)===j.default(t)).length!==s.length&&(r[e]={value:s,field:o}),"collection"===o.type&&o.rules&&"object"==typeof o.rules&&s&&Object.keys(o.rules).forEach(t=>{const n=o.rules[t];Object.keys(n).forEach(i=>{const a=n[i],l=t.indexOf(",")>-1?t.split(","):[t],c=i.indexOf(",")>-1?i.split(","):[i],u=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);const n=[];return e.forEach(e=>{t.forEach(t=>{n.push([e,t])})}),n}(l,c);let f=!0;if(a.maxCount&&"number"==typeof a.maxCount&&u.forEach(e=>{let t=0;s.forEach(n=>y.default(n,e[0])===e[1]?t++:void 0),t>a.maxCount&&(f=!1)}),a.minCount&&"number"==typeof a.minCount&&u.forEach(e=>{let t=0;s.forEach(n=>y.default(n,e[0])===e[1]?t++:void 0),t<a.minCount&&(f=!1)}),a.exactCount&&"number"==typeof a.exactCount&&u.forEach(e=>{let t=0;s.forEach(n=>y.default(n,e[0])===e[1]?t++:void 0),t!==a.exactCount&&(f=!1)}),a.sameCountAs&&"string"==typeof a.sameCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{y.default(r,e[0])===e[1]&&t++,y.default(r,e[0])===a.sameCountAs&&n++}),t!==n&&(f=!1)}),a.differentCountAs&&"string"==typeof a.differentCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{y.default(r,e[0])===e[1]&&t++,y.default(r,e[0])===a.differentCountAs&&n++}),t===n&&(f=!1)}),(a.sameSumAs&&"string"==typeof a.sameSumAs||a.differentSumAs&&"string"==typeof a.differentSumAs||a.biggerSumAs&&"string"==typeof a.biggerSumAs||a.smallerSumAs&&"string"==typeof a.smallerSumAs)&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{const i=Number(y.default(r,e[0])),o=Number(y.default(r,a.sameSumAs||a.differentSumAs||a.biggerSumAs||a.smallerSumAs));isNaN(i)||(t+=i),isNaN(o)||(n+=o)}),a.sameSumAs&&t!==n&&(f=!1),a.differentSumAs&&t===n&&(f=!1),a.biggerSumAs&&t<=n&&(f=!1),a.smallerSumAs&&t>=n&&(f=!1)}),a.isUnique&&l.length>0){const e=[];let t=!1;s.forEach(n=>{const r=l.map(e=>y.default(n,e));e.forEach(e=>{E.default(r,e)&&(t=!0)}),e.push(r)}),t&&(f=!1)}a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{y.default(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{y.default(r,e[0])===n&&(t=!0)}):y.default(r,e[0])===a.disallow&&(t=!0)}),n&&t&&(f=!1)}),a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{y.default(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{y.default(r,e[0])===n&&(t=!0)}):y.default(r,e[0])===a.disallow&&(t=!0)}),n&&!t&&(f=!1)}),f&&"object"==typeof D&&Object.keys(D).forEach(e=>{void 0!==a[e]&&"function"==typeof D[e]&&(D[e]({fieldValueCombos:u,fieldValidationData:s,valueRules:a,get:y.default})||(f=!1))}),f||(r[e]={value:s,field:o,errorCode:a.errorCode||"invalidRule"})})}),{errors:r,firstErrorField:i}},we=function(e,t,n){void 0===n&&(n="");let r,i={};if(t||(t=_),be.forEach(e=>{if(""===n||e.path.startsWith(n)){if(!a[e.config.type]&&!Ee(e.config.type))return;const o=Se(e.path,""!==n?"render":"action",t,i,r);i=o.errors,r=o.firstErrorField}}),r&&s&&e){const e=document.getElementById(r);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return i},je=()=>we(!1);n.useEffect(()=>{if("function"==typeof f&&d){ri()&&window.stagesLogging("Get errors on validation",q);let e=we(!0);le(e),f(e)}},[f]);const Ae=(e,t)=>{ri()&&window.stagesLogging('Get sub form errors for sub id "'+e+'"',q),we(!0),t&&Object.keys(t).length>0&&(ae[e]=t)},Ce=function(e,t,n){try{const r=function(){if(t.loader&&"function"==typeof t.loader){function r(){t.enableCaching&&((e,t)=>{ri()&&window.stagesLogging('Update options cache for "'+e+'"',q),re(n=>Object.assign({},n,{[e]:t}))})(o,a),s===l&&(((e,t)=>{ri()&&window.stagesLogging('Update options loaded for "'+e+'"',q),te(n=>Object.assign({},n,{[e]:t}))})(e,a),t.onOptionsChange&&"function"==typeof t.onOptionsChange&&t.onOptionsChange(a,n,Ve))}const i={};let o,a;const l="number"==typeof $s[e]?$s[e]+1:0;let s=l;$s[e]=l,ri()&&window.stagesLogging('Create dynamic options for field "'+e+'"',q),t.enableCaching&&(t.watchFields.forEach(e=>{const t=y.default(n,e);t&&(i[e]=t)}),o=e+"-"+j.default(i));const c=function(){if(!t.enableCaching||!ne[o])return Promise.resolve(t.loader(n,Ve)).then(function(t){a=t,s=$s[e]});a=ne[o]}();return c&&c.then?c.then(r):r()}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},ke=function(e,t,n,r,i){let o;void 0===i&&(i=!1);try{o=j.default({newData:e,errors:Object.keys(t),id:n,fieldKey:r,interfaceState:L})}catch(e){}(o!==Hs||i)&&(l((e=>{const t={},n=Object.assign({},e);return be.forEach(r=>{if(r.config.isInterfaceState){const i=y.default(e,r.path);void 0!==i&&(x.default(t,r.path,i),S.default(n,r.path))}}),N(t),n})(e),t,n,r,L,we(!1,e)),Hs=o)},De=()=>{if(Oe()&&C&&K>0){const e=K-1,t=JSON.parse(H[e]);J(e),le(t.errors),W(t.isDirty),$(t.dirtyFields),ke(t.data,t.errors,u)}},Fe=()=>{if(Oe()&&C&&K<H.length-1){const e=K+1,t=JSON.parse(H[e]);J(e),le(t.errors),W(t.isDirty),$(t.dirtyFields),ke(t.data,t.errors,u)}};n.useEffect(()=>{let e=Object.assign({},_);if(ri()&&window.stagesLogging('Is visible change to "'+(s?"visible":"invisible")+'"',q),be.forEach(t=>{const n=t.config;let r=y.default(e,t.path);if("collection"===n.type&&n.init){const i=n.min?Number(n.min):1;r&&0!==r.length||(r=[]);for(let t=r.length;t<i;t++)r.push("string"==typeof n.init?"function"==typeof n.setInitialData?n.setInitialData(r,e,n.init):{__typename:n.init}:"function"==typeof n.setInitialData?n.setInitialData(r,e):{});x.default(e,t.path,r)}}),e=Re(e),"function"==typeof t.asyncDataLoader&&s&&!Q)try{return ce(!0),Promise.resolve(t.asyncDataLoader()).then(function(e){oe(e),Z(!0),ce(!1)})}catch(e){Promise.reject(e)}s&&(Array.isArray(be)&&be.forEach(t=>{t.config.dynamicOptions&&t.config.dynamicOptions.events&&t.config.dynamicOptions.events.indexOf("init")>-1&&Ce(t.path,t.config.dynamicOptions,e)}),0===K&&0===H.length&&G([j.default({data:e,isDirty:M,dirtyFields:z,errors:ae})])),ke(e,we(),u)},[s]);const Re=e=>{const t=Object.assign({},e);return be.forEach(n=>{if("function"==typeof n.config.computedValue){const r=y.default(_,n.path.split(".").slice(0,-1).join(".")),i=n.config.computedValue(e,r,L);x.default(t,n.path,i)}}),t},Te=e=>m.default(be,{path:e}).config,Pe=(e,t,n)=>{const r=[];return"object"==typeof A&&Object.keys(A).forEach(i=>{"function"==typeof A[i]&&A[i]({fieldValue:n,data:t,dirtyFields:z,optionsLoaded:ee,asyncData:ie,errors:ae,focusedField:ue,triggeringEvent:e})&&r.push(i)}),r},Ie=e=>Array.isArray(e)&&1===e.length?e[0]:e,Ve=function e(t,n,r,i){if(void 0===i&&(i=!1),!Oe())return;let o,a=!1;const l=+new Date,s=Te(t);i||(Gs=l);let c=Object.assign({},r||_),f="function"==typeof s.filter?s.filter(n):n;s.cast&&"function"==typeof s.cast.data&&(f=s.cast.data(f)),s.cast&&"string"==typeof s.cast.data&&(f=Ws(f,s.cast.data)),s.cast&&Array.isArray(s.cast.data)&&(f=Ws(f,s.cast.data[0],!0)),ri()&&window.stagesLogging('Handle change for field "'+t+'"',q),x.default(c,t,f||void 0),c=Re(c);const d={data:y.default(c,t),fieldIsDirty:!!z[t],fieldConfig:s,fieldHasFocus:!(!ue||ue!==t)};i||(0===Gs||l-Gs<Number(v||400))&&(!s.validateOn&&Array.isArray(p)&&p.indexOf("throttledChange")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1||!s.validateOn&&"function"==typeof p&&p(d).indexOf("throttledChange")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("throttledChange")>-1)&&(Us&&clearTimeout(Us),Us=setTimeout(()=>e(t,n,r,!0),v||400),a=!0);const g=Pe("change",c,f);if(!s.validateOn&&Array.isArray(p)&&g.some(e=>p.indexOf(e)>-1)||s.validateOn&&Array.isArray(s.validateOn)&&g.some(e=>s.validateOn.indexOf(e)>-1)){const e=Se(t,Ie(g),c,ae);o=Object.assign({},ae,e.errors),le(o)}else if(!s.validateOn&&Array.isArray(p)&&p.indexOf("change")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("change")>-1||!s.validateOn&&Array.isArray(p)&&p.indexOf("throttledChange")>-1&&!a||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1&&!a||!s.validateOn&&"function"==typeof p&&p(d).indexOf("change")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("change")>-1||!s.validateOn&&"function"==typeof p&&p(d).indexOf("throttledChange")>-1&&!a||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("throttledChange")>-1&&!a){const e=Se(t,"change",c,ae);o=Object.assign({},ae,e.errors),le(o)}if(B&&(E.default(y.default(c,t),y.default(B,t))?void 0!==z[t]&&delete z[t]:z[t]={oldData:y.default(B,t),newData:y.default(c,t)},W(Object.keys(z).length>0),$(z)),s.clearFields&&(Array.isArray(s.clearFields)||"function"==typeof s.clearFields)){const e=Object.assign({},ee);(Array.isArray(s.clearFields)?s.clearFields:s.clearFields(f,c,o)).forEach(t=>{x.default(c,t,void 0),delete e[t]}),te(e)}if(Array.isArray(be)&&be.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("change")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t)>-1&&(!s.dynamicOptions||s.dynamicOptions&&ee[e.path]&&ee[e.path].indexOf(y.default(c,t))>-1||!ee[e.path])&&Ce(e.path,e.config.dynamicOptions,c)}),(e=>{const t=e.split(".").at(-2);return"]"===(t?t.slice(-1):"")})(t)){const e=(e=>{const t=e.split(".");t.pop();let n=t.join(".");if("]"===n.slice(-1)){const e=n.lastIndexOf("[");n=n.substring(0,e)}return n})(t),n=Te(e);if(n.sort&&n.sort.by&&n.sort.by.indexOf(s.id)>-1){let t=y.default(c,e,[]);t=b.default(t,n.sort.by),"desc"===n.sort.dir&&(t=t.reverse()),x.default(c,e,t)}}ke(c,we(!1,c),u,t)},Le=e=>{const t={};return be.forEach(n=>{if(!e||n.path.startsWith(e+"."))if("fieldset"===n.config.type&&T[n.config.fieldset]){const e=Le(n.path);x.default(t,n.path,T[n.config.fieldset].render({params:zs(n.config.params||{},T[n.config.fieldset].params),fieldProps:{fields:y.default(e,n.path),onCollectionAction:Ne,onWizardNav:_e,getWizardNavHash:qe,isWizardStepActive:Me,isWizardStepDisabled:We,modifyConfig:ze,data:r,interfaceState:L,errors:ae,asyncData:ie,isDirty:M,focusedField:ue,lastFocusedField:de,dirtyFields:z,get:y.default},actionProps:{handleActionClick:$e,handleUndo:De,handleRedo:Fe,isDisabled:c,isDirty:M,focusedField:ue,lastFocusedField:de,dirtyFields:z,silentlyGetValidationErrors:je}}))}else{const e=((e,t,n)=>{if(!a[e.type]&&"subform"!==e.type||"function"==typeof e.isRendered&&!e.isRendered(n,t,_))return null;const i=Object.assign({},e);if(i.id=n,ee[n])i.options=ee[n];else if("function"==typeof i.options)i.options=i.options(n,t,_);else if("object"==typeof i.computedOptions){let t=y.default(r,i.computedOptions.source,[]),o=y.default(_,n);"function"==typeof i.computedOptions.filter&&(t=t.filter(i.computedOptions.filter)),"function"==typeof i.computedOptions.sort&&(t=t.sort(i.computedOptions.sort)),"function"==typeof i.computedOptions.map&&(t=t.map(i.computedOptions.map)),i.computedOptions.initWith&&Array.isArray(i.computedOptions.initWith)&&(t=i.computedOptions.initWith.concat(t)),e.isUnique&&(t=t.map(t=>{if(""===t.value)return t;const i=n.substring(0,n.lastIndexOf("["));let a=y.default(r,i,[]);return h.default(a,{[e.id]:t.value})>-1&&t.value!==o?Object.assign({},t,{disabled:!0}):t})),i.options=t,m.default(t,{value:o})||(i.value="",x.default(_,n,""))}return delete i.computedValue,delete i.computedOptions,delete i.filter,delete i.clearFields,delete i.dynamicOptions,delete i.isRendered,delete i.defaultValue,delete i.cleanUp,delete i.precision,i.placeholder&&Array.isArray(i.placeholder)&&i.placeholder.length>1&&(void 0===Ks[n]&&(Ks[n]=i.placeholder[Math.floor(Math.random()*i.placeholder.length)]),i.placeholder=Ks[n]),R[e.type]&&"function"==typeof R[e.type].renderer&&!e.errorRenderer&&(i.errorRenderer=R[e.type].renderer),Bs&&Bs[n]&&(i.isValidating=!0),Ee(e.type)||Object.keys(i).forEach(e=>{"id"!==e&&"function"==typeof i[e]&&e.endsWith("Fn")&&(i[e.substring(0,e.length-2)]=i[e]({path:n,fieldData:t,alldata:_,interfaceState:L}),delete i[e])}),"fieldset"===e.type?null:"subform"!==e.type?/*#__PURE__*/g.default.createElement(a[e.type].component,Object.assign({key:n,value:(o=t,e.cast&&"function"==typeof e.cast.field?e.cast.field(o):e.cast&&"string"==typeof e.cast.field?Ws(o,e.cast.field):e.cast&&Array.isArray(e.cast.field)?Ws(o,e.cast.field[0],!0):o),initialValue:y.default(B,n),error:ae[n],isDirty:!!z[n],isDisabled:c||e.isDisabled,hasFocus:!(!ue||ue!==n),onChange:e=>Ve(n,e),onFocus:()=>(e=>{if(!Oe())return;const t=Te(e),n=Object.assign({},_),r=y.default(n,e);fe(e),pe(e);const i={data:r,fieldIsDirty:!!z[e],fieldConfig:t,fieldHasFocus:!(!ue||ue!==e)},o=Pe("focus",n,r);if(!t.validateOn&&Array.isArray(p)&&o.some(e=>p.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&o.some(e=>t.validateOn.indexOf(e)>-1)){const t=Se(e,Ie(o),n,ae);le(Object.assign({},ae,t.errors)),ke(n,t.errors,u,e)}else if(!t.validateOn&&Array.isArray(p)&&p.indexOf("focus")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("focus")>-1||!t.validateOn&&"function"==typeof p&&p(i).indexOf("focus")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(i).indexOf("focus")>-1){const t=Se(e,"focus",n,ae);le(Object.assign({},ae,t.errors)),ke(n,t.errors,u,e)}})(n),onBlur:()=>(e=>{if(!Oe())return;fe("");const t=Te(e),n=Object.assign({},_),r=Object.assign({},_);let i=y.default(n,e);Gs=0,ri()&&window.stagesLogging('Handle blur for field "'+e+'"',q),t.cleanUp&&"function"==typeof t.cleanUp&&void 0!==i&&(i=t.cleanUp(i),x.default(n,e,i),Ve(e,i,n,!0)),"number"==typeof t.precision&&(x.default(n,e,Number(i).toFixed(t.precision)),ke(n,ae,u,e));const o={data:i,fieldIsDirty:!!z[e],fieldConfig:t,fieldHasFocus:!(!ue||ue!==e)},a=Pe("blur",n,i);if(!t.validateOn&&Array.isArray(p)&&a.some(e=>p.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&a.some(e=>t.validateOn.indexOf(e)>-1)){const t=Se(e,Ie(a),n,ae);le(Object.assign({},ae,t.errors)),ke(n,t.errors,u,e)}else if(!t.validateOn&&Array.isArray(p)&&p.indexOf("blur")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("blur")>-1||!t.validateOn&&"function"==typeof p&&p(o).indexOf("blur")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(o).indexOf("blur")>-1){const t=Se(e,"blur",n,ae);le(Object.assign({},ae,t.errors)),ke(n,t.errors,u,e)}if(Array.isArray(be)&&be.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("blur")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t.id)>-1&&Ce(e.config.id,e.config.dynamicOptions,n),void 0!==F&&e.config.disableAutoSave&&S.default(r,e.path)}),(e=>{if(C){const t=[...H];t.length=K+1,t.push(j.default({data:e,isDirty:M,dirtyFields:z,errors:ae})),t.length>k&&t.shift(),G(t),J(t.length-1)}})(n),void 0!==F)if("local"===F||"session"===F){const e=we(!1,n);0===Object.keys(e).length&&ti(u,{data:r,isDirty:M,dirtyFields:z},F)}else if("object"!=typeof F||"local"!==F.type&&"session"!==F.type){if("object"==typeof F&&"custom"===F.type&&"function"==typeof F.save){const e=we(!1,n);(F.validDataOnly&&0===Object.keys(e).length||!F.validDataOnly)&&F.save(u,{data:r,isDirty:M,dirtyFields:z})}}else{const e=we(!1,n);(F.validDataOnly&&0===Object.keys(e).length||!F.validDataOnly)&&ti(u,{data:r,isDirty:M,dirtyFields:z},F.type)}})(n)},i)):/*#__PURE__*/g.default.createElement(Js,{config:e.config,render:t=>{let{fieldProps:n}=t;/*#__PURE__*/return g.default.createElement(e.render,n)},fields:a,id:n,onChange:(e,t)=>Ve(n,e),onValidation:e=>Ae(n,e),parentRunValidation:Y,data:_&&y.default(_,n),isVisible:s,isDisabled:c,validateOn:p});var o})(n.config,n.data,n.path);e&&x.default(t,n.path,e)}}),t},Ne=(e,t,n,r)=>{if(!Oe())return;const i=Object.assign({},_),o=Te(e),a=o&&o.min?Number(o.min):0,l=o&&o.max?Number(o.max):99999999999999;let s,c=y.default(i,e,[]),f=!1;if("last"===n&&(n=c.length-1),"last"===r&&(r=c.length-1),ri()&&window.stagesLogging('On collection action "'+e+'"',q),"add"===t&&("string"==typeof n&&o.fields[n]?l>c.length&&c.push("function"==typeof o.setInitialData?o.setInitialData(c,i,n):{__typename:n}):l>c.length&&c.push("function"==typeof o.setInitialData?o.setInitialData(c,i):{}),f=!0),"remove"===t&&(a<c.length&&c.splice(n,1),f=!0),"move"===t&&"number"==typeof n&&"number"==typeof r&&n>-1&&r>-1){const[e]=c.splice(n,1);c.splice(r,0,e),f=!0}if("sort"===t&&c.length>0&&n&&(c=b.default(c,n),f=!0),"duplicate"===t&&"number"==typeof n&&n>-1&&(c.splice(n+1,0,Object.assign({},c[n])),f=!0),o.sort&&o.sort.by&&(c=b.default(c,o.sort.by),"desc"===o.sort.dir&&(c=c.reverse()),f=!0),"update"===t&&Array.isArray(n)?(f=!0,x.default(i,e,n)):x.default(i,e,c),f){const t=y.default(B,e),n=y.default(i,e);try{JSON.stringify(t)!==JSON.stringify(n)?(W(!0),z[e]={oldData:t,newData:n},$(z)):(delete z[e],Object.keys(z).forEach(t=>{t.startsWith(e)&&delete z[t]}),$(z),W(Object.keys(z).length>0))}catch(e){}}if(p.indexOf("collectionAction")>-1||o.validateOn&&o.validateOn.indexOf("collectionAction")>-1){const t=Se(e,"collectionAction",i,ae);s=Object.assign({},ae,t.errors),le(s)}ke(i,s||we(),u,e)},_e=(e,t,n)=>{const r=Object.assign({},he),i=r[t],o=Te(t);if("step"===e&&(r[t]=n),"next"===e){const e=h.default(o.stages,{id:i})+1;o.stages[e]&&(r[t]=o.stages[e].id)}if("prev"===e){const e=h.default(o.stages,{id:i})-1;o.stages[e]&&(r[t]=o.stages[e].id)}"first"===e&&(r[t]=o.stages[0].id),"last"===e&&(r[t]=o.stages[o.stages.length-1].id),ve(r)},qe=function(e,t,n){void 0===n&&(n="step");const r=he[e],i=Te(e),o=[];if("step"===n||"first"===n||"last"===n)return Object.keys(he).forEach(r=>{r.startsWith(e)?("step"===n&&o.push(r+"."+t),"first"===n&&o.push(r+"."+i.stages[0].id),"last"===n&&o.push(r+"."+i.stages[i.stages.length-1].id)):o.push(r+"."+he[r])}),"#!"+o.join(I||":");if("prev"===n){const t=h.default(i.stages,{id:r})-1;return!!i.stages[t]&&(Object.keys(he).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+he[n])}),"#!"+o.join(I||":"))}if("next"===n){const t=h.default(i.stages,{id:r})+1;return!!i.stages[t]&&(Object.keys(he).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+he[n])}),"#!"+o.join(I||":"))}return!1},Me=(e,t)=>he[e]===t,We=function(e,t,n){void 0===n&&(n=!1);const i=t.substring(2).split(I||":");let o="";if(i.forEach(t=>{t.startsWith(e+".")&&(o=t.substring(e.length+1))}),o){const t=Te(e),i=h.default(t.stages,{id:o});if(i>h.default(t.stages,{id:he[e]})+1)return!0;if(n&&Me(e,o))return!0;for(let n=0;n<i;n++){const i=we(!1,r,e+"."+t.stages[n].id);if(Object.keys(i).length>0)return!0}}return!1},ze=(e,n,r)=>{if(t.fieldConfigs&&"function"==typeof t.fieldConfigs[n]){const i=e.split(".");let o="";i.forEach(e=>{const t=o?y.default(me,o):me;if(e.endsWith("]")){const n=e.split("["),r=h.default(t,{id:n[0]});r>-1&&(o+="["+r+"].fields")}else{const n=h.default(t,{id:e});n>-1&&(o+="["+n+"].fields")}}),""!==o&&(ye.push({fields:t.fieldConfigs[n],path:o,action:r}),ge([...ye]))}},$e=(e,t,n)=>{ri()&&window.stagesLogging("Handle action click",q),n&&("local"!==F&&"session"!==F||ni(u,F),"object"!=typeof F||"local"!==F.type&&"session"!==F.type||ni(u,F.type),u&&"object"==typeof F&&"custom"===F.type&&"function"==typeof F.remove&&F.remove(u),ke(B,we(),u),$({}),W(!1));const r=Pe("action",_);let i=!1;if(Array.isArray(p)&&p.indexOf("action")>-1||Array.isArray(p)&&r.some(e=>p.indexOf(e)>-1)){t&&(X(!0),setTimeout(()=>X(!1),0));let e=t?we(!0):{};le(e),Object.keys(e).length>0&&(i=!0)}i||e()};return!1===s?null:i?i({actionProps:{handleActionClick:$e,handleUndo:De,handleRedo:Fe,isDisabled:!!(Bs&&Object.keys(Bs).length>0)||c,isDirty:M,focusedField:ue,lastFocusedField:de,dirtyFields:z,silentlyGetValidationErrors:je,updateData:e=>{ke(e,we(),u);let t=!1,n={};be.forEach(r=>{if(!r.config.isInterfaceState){const i=y.default(e,r.path),o=y.default(B,r.path);i!==o&&(t=!0,void 0!==i&&(n[r.path]={oldData:o,newData:i}))}}),W(t),$(n)}},fieldProps:{fields:Le(),onCollectionAction:Ne,onWizardNav:_e,getWizardNavHash:qe,isWizardStepActive:Me,isWizardStepDisabled:We,modifyConfig:ze,data:r,interfaceState:L,errors:ae,asyncData:ie,isDirty:M,focusedField:ue,lastFocusedField:de,dirtyFields:z,get:y.default,getConfig:e=>{const t=m.default(be,{path:e});return t?t.config:void 0}},loading:se}):o?o(Le()):null};function Ys(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}Js.propTypes={config:Nr.oneOfType([Nr.object,Nr.array,Nr.func]).isRequired,data:Nr.object,render:Nr.oneOfType([Nr.node,Nr.func]),renderFields:Nr.oneOfType([Nr.node,Nr.func]),fields:Nr.object.isRequired,onChange:Nr.func,isVisible:Nr.bool,isDisabled:Nr.bool,id:Nr.oneOfType([Nr.string,Nr.number]),onValidation:Nr.func,parentRunValidation:Nr.bool,validateOn:Nr.array,customRuleHandlers:Nr.object,undoMaxDepth:Nr.number,typeValidations:Nr.object,fieldsets:Nr.object,initialInterfaceState:Nr.object},Js.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1,validateOn:["action"],customRuleHandlers:{},undoMaxDepth:10,autoSave:!1,typeValidations:{},fieldsets:{},initialInterfaceState:{}};const Xs=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","hasFocus","prefix","suffix","secondaryText","type","errorRenderer"],Qs=e=>{let{id:t,label:n,value:r,onChange:i,onBlur:o,onFocus:a,error:l,placeholder:s,isRequired:c,isDisabled:u,isValidating:f,prefix:d,suffix:p,secondaryText:y,type:h,errorRenderer:v}=e;return Ys(e,Xs),/*#__PURE__*/g.default.createElement("div",null,n?/*#__PURE__*/g.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/g.default.createElement("div",null,d?/*#__PURE__*/g.default.createElement("span",null,d):null,/*#__PURE__*/g.default.createElement("input",{id:t,name:t,value:r||"",placeholder:s,type:h||"text",disabled:!!u,required:!!c,autoComplete:"password"===h?"current-password":"off",onChange:e=>{"function"==typeof i&&i(e.target.value)},onFocus:e=>{"function"==typeof a&&a()},onBlur:e=>{"function"==typeof o&&o()}}),p?/*#__PURE__*/g.default.createElement("span",null,p):null),y?/*#__PURE__*/g.default.createElement("div",null,y):null,l&&!f?v?v(l):/*#__PURE__*/g.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,f?/*#__PURE__*/g.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},Zs=(e,t)=>!t.isRequired||""!==e&&void 0!==e,ec=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","type","errorRenderer"],tc=["id","label","value","options","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],nc=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],rc=["id","label","error","isRequired","isValidating","secondaryText","errorRenderer"],ic={text:{component:Qs,isValid:Zs},number:{component:Qs,isValid:Zs},email:{component:Qs,isValid:Zs},password:{component:Qs,isValid:Zs},tel:{component:Qs,isValid:Zs},time:{component:Qs,isValid:Zs},date:{component:Qs,isValid:Zs},checkbox:{component:e=>{let{id:t,label:n,value:r,onChange:i,onBlur:o,onFocus:a,error:l,placeholder:s,isRequired:c,isDisabled:u,isValidating:f,prefix:d,suffix:p,secondaryText:y,type:h,errorRenderer:v}=e;return Ys(e,ec),/*#__PURE__*/g.default.createElement("div",null,n?/*#__PURE__*/g.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/g.default.createElement("div",null,d?/*#__PURE__*/g.default.createElement("span",null,d):null,/*#__PURE__*/g.default.createElement("input",{id:t,name:t,value:"1",placeholder:s,type:h,disabled:!!u,required:!!c,checked:!!r,onChange:()=>{},onClick:e=>{"function"==typeof i&&i(!!e.target.checked)},onBlur:e=>{"function"==typeof o&&o()},onFocus:e=>{"function"==typeof a&&a()}}),p?/*#__PURE__*/g.default.createElement("span",null,p):null),y?/*#__PURE__*/g.default.createElement("div",null,y):null,l&&!f?v?v(l):/*#__PURE__*/g.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,f?/*#__PURE__*/g.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:t,label:n,value:r,options:i,onChange:o,onBlur:a,onFocus:l,error:s,placeholder:c,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:h,errorRenderer:v}=e;return Ys(e,tc),/*#__PURE__*/g.default.createElement("div",null,n?/*#__PURE__*/g.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/g.default.createElement("div",null,p?/*#__PURE__*/g.default.createElement("span",null,p):null,/*#__PURE__*/g.default.createElement("select",{id:t,name:t,value:void 0===r?"":r,placeholder:c,disabled:!!f,required:!!u,onChange:e=>{"function"==typeof o&&o(e.target.value)},onBlur:e=>{"function"==typeof a&&a()},onFocus:e=>{"function"==typeof l&&l()}},i.map(e=>/*#__PURE__*/g.default.createElement("option",{value:e.value,key:e.value,disabled:!!e.disabled||null},e.text))),y?/*#__PURE__*/g.default.createElement("span",null,y):null),h?/*#__PURE__*/g.default.createElement("div",null,h):null,s&&!d?v?v(s):/*#__PURE__*/g.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/g.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:e=>{let{id:t,label:r,value:i,options:o,onChange:a,onBlur:l,onFocus:s,error:c,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:h,errorRenderer:v}=e;return Ys(e,nc),/*#__PURE__*/g.default.createElement("div",{id:t},r?/*#__PURE__*/g.default.createElement("label",null,r,u?" *":""):null,/*#__PURE__*/g.default.createElement("div",null,p?/*#__PURE__*/g.default.createElement("span",null,p):null,o.map(e=>/*#__PURE__*/g.default.createElement(n.Fragment,{key:t+"-"+e.value},/*#__PURE__*/g.default.createElement("input",{type:"radio",name:t,id:t+"-"+e.value,value:e.value,checked:i===e.value,disabled:!!f,onChange:()=>{},onClick:t=>{"function"==typeof a&&a(e.value)},onBlur:e=>{"function"==typeof l&&l()},onFocus:e=>{"function"==typeof s&&s()}}),/*#__PURE__*/g.default.createElement("label",{htmlFor:t+"-"+e.value},e.text)," ")),y?/*#__PURE__*/g.default.createElement("span",null,y):null),h?/*#__PURE__*/g.default.createElement("div",null,h):null,c&&!d?v?v(c):/*#__PURE__*/g.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/g.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},dummy:{component:e=>{let{id:t,label:n,error:r,isRequired:i,isValidating:o,secondaryText:a,errorRenderer:l}=e;return Ys(e,rc),n||a||r?/*#__PURE__*/g.default.createElement("div",{id:t},n?/*#__PURE__*/g.default.createElement("label",{htmlFor:t},n,i?" *":""):null,a?/*#__PURE__*/g.default.createElement("div",null,a):null,r&&!o?l?l(r):/*#__PURE__*/g.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,o?/*#__PURE__*/g.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null):null},isValid:()=>!0}};Object.defineProperty(e,"get",{enumerable:!0,get:function(){return y.default}}),e.Actions=e=>{let{config:t,handleActionClick:n,isDisabled:r}=e;/*#__PURE__*/return g.default.createElement(g.default.Fragment,null,t.map((e,t)=>/*#__PURE__*/g.default.createElement("button",{type:"button",onClick:()=>n(e.onClick,e.validate),key:"action-"+t,disabled:r},"primary"===e.type?/*#__PURE__*/g.default.createElement("strong",null,e.title):e.title)))},e.Debugger=()=>{const[e,t]=n.useState({}),[r,i]=n.useState({}),[o,a]=n.useState({}),[l,s]=n.useState({}),[c,u]=n.useState(!1),f=(n,o)=>{if("string"==typeof n)r[o]||(r[o]=[]),r[o].push({action:n,time:+new Date}),i(r);else{const r=Object.assign(e,{}),i=Object.keys(r)[0];r[n.id]=n,t(Object.assign({},r)),a(e=>({key:e.key?e.key:i,tab:e.tab?e.tab:"data"}))}};return n.useEffect(()=>{"undefined"!=typeof window&&(window.stagesLogging=f)},[]),0===Object.keys(e).length?null:/*#__PURE__*/g.default.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",width:"320px",padding:"8px",fontSize:"14px",color:"#333",border:"1px #bbb solid",borderRadius:"4px",background:"#fbfbfb",fontFamily:"Open Sans, Helvetica, Arial, sans",zIndex:1e3}},/*#__PURE__*/g.default.createElement("strong",{style:{lineHeight:"22px"}},"Debugger:"),/*#__PURE__*/g.default.createElement("button",{type:"button",style:{float:"right"},onClick:()=>u(!c)},c?"hide":"show"),c?Object.keys(e).map(t=>{const n=t.split("-");n.pop();let i="";return i="logs"===o.tab?r[o.key]?r[o.key].map(e=>e.time+": "+e.action).join("\n"):"":v.default(l[t]?y.default(e[o.key][o.tab],l[t]||""):e[o.key][o.tab],null,2),/*#__PURE__*/g.default.createElement("div",{key:t+"-"+o.tab},/*#__PURE__*/g.default.createElement("h3",{style:{background:"#333",color:"#fff",margin:"8px 0 0 0",padding:"2px 6px",textTransform:"capitalize",position:"relative"}},n.join(" "),":",e[t].isDirty?/*#__PURE__*/g.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"4px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"dirty"):null,Object.keys(e[t].errors).length?/*#__PURE__*/g.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"48px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"errors"):null,e[t].loading?/*#__PURE__*/g.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"98px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"loading"):null),/*#__PURE__*/g.default.createElement("div",null,/*#__PURE__*/g.default.createElement("select",{onChange:e=>a({key:t,tab:e.target.value}),value:o.key===t?o.tab:"data",style:{width:"47%",minWidth:"47%",maxWidth:"47%",marginRight:"2%",height:"25px"}},e[t].keys?/*#__PURE__*/g.default.createElement(g.default.Fragment,null,/*#__PURE__*/g.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/g.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/g.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/g.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/g.default.createElement("option",{value:"keys"},"Keys"),/*#__PURE__*/g.default.createElement("option",{value:"logs"},"Logs")):/*#__PURE__*/g.default.createElement(g.default.Fragment,null,/*#__PURE__*/g.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/g.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/g.default.createElement("option",{value:"parsedFieldConfig"},"Field Config"),/*#__PURE__*/g.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/g.default.createElement("option",{value:"interfaceState"},"Interface State"),/*#__PURE__*/g.default.createElement("option",{value:"undoData"},"Undo Data"),/*#__PURE__*/g.default.createElement("option",{value:"asyncData"},"Async Data"),/*#__PURE__*/g.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/g.default.createElement("option",{value:"fieldPaths"},"Field Paths"),/*#__PURE__*/g.default.createElement("option",{value:"logs"},"Logs"))),/*#__PURE__*/g.default.createElement("input",{value:l[t]||"",placeholder:"your.data.filter.path",onChange:e=>{const n=Object.assign({},l);n[t]=e.target.value,s(n)},style:{width:"47%",minWidth:"47%",maxWidth:"47%",fontSize:"12px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"4px",padding:"4px",overflowX:"scroll",whiteSpace:"pre"}})),o&&o.key===t?/*#__PURE__*/g.default.createElement("textarea",{readOnly:!0,style:{width:"calc(100% - 8px)",minWidth:"calc(100% - 8px)",maxWidth:"calc(100% - 8px)",height:"200px",fontSize:"10px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"8px",overflowX:"scroll",whiteSpace:"pre"},value:i}):null)}):null)},e.Form=Js,e.HashRouter=e=>{let{step:t,onChange:r,keys:i,prefix:o,hashFormat:a="#!"}=e;const[l,s]=(()=>{const[e,t]=n.useState(()=>window.location.hash),r=n.useCallback(()=>{t(window.location.hash)},[]);var i,o;i=()=>{!function(e){e&&e.addEventListener&&e.addEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},o=()=>{!function(e){e&&e.removeEventListener&&e.removeEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},n.useEffect(()=>(i&&i(),()=>{o&&o()}),[]);const a=n.useCallback(t=>{t!==e&&(window.location.hash=t)},[e]);return[e,a]})(),[c,u]=n.useState(!1),f=e=>i&&i[e]?i[e].key:o?o+"-"+e:e,d=()=>{if("string"==typeof l&&-1!==l.indexOf(a)){const e=(e=>{const t=e.split(a);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):h.default(i,{key:e})}return-1})(l);-1!==e&&("function"==typeof s&&s(""+a+f(e)),r(e))}else"function"==typeof s&&s(""+a+f(t))};return n.useEffect(()=>{c&&d()},[l]),n.useEffect(()=>{c&&"function"==typeof s&&s(""+a+f(t))},[t]),p=()=>{d(),u(!0)},n.useEffect(()=>{p()},[]),null;var p},e.Navigation=e=>{let{currentStep:t,onChangeStep:n,lastValidStep:r,keys:i}=e;const o=[];for(let e=0;e<i.length;e++)if(i&&i[e]&&i[e].visible){const a=i&&i[e]?i[e].key:"Step "+(e+1);o.push(t===e?/*#__PURE__*/g.default.createElement("li",{key:a,style:{textTransform:"capitalize"}},/*#__PURE__*/g.default.createElement("strong",null,a)):/*#__PURE__*/g.default.createElement("li",r>-1&&r+1<e||-1===r&&e>0?{key:a,style:{color:"#999",textTransform:"capitalize"}}:{key:a,style:{textTransform:"capitalize"},onClick:()=>n(e)},a))}/*#__PURE__*/return g.default.createElement("ul",null,o)},e.Progression=e=>{let{stepCount:t,validSteps:n,percentage:r}=e;/*#__PURE__*/return g.default.createElement("div",null,n+" / "+t+" ("+Math.round(r)+"%)")},e.Stages=ii,e.plainFields=ic});
//# sourceMappingURL=lib.umd.js.map

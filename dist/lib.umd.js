!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("lodash.findindex"),require("react-use"),require("lodash.find")):"function"==typeof define&&define.amd?define(["exports","react","lodash.findindex","react-use","lodash.find"],t):t((e||self).reactStages={},e.react,e.findIndex,e.reactUse,e.find)}(this,function(e,t,n,r,o){function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/i(t),u=/*#__PURE__*/i(n),c=/*#__PURE__*/i(o),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){var t={exports:{}};return e(t,t.exports),t.exports}var f,d,p=function(e){return e&&e.Math==Math&&e},y=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof l&&l)||function(){return this}()||Function("return this")(),h={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},v=function(e){return"function"==typeof e},m=function(e){return"object"==typeof e?null!==e:v(e)},g=y.document,b=m(g)&&m(g.createElement),E=function(e){return b?g.createElement(e):{}},S=E("span").classList,x=S&&S.constructor&&S.constructor.prototype,O=x===Object.prototype?void 0:x,w=function(e){try{return!!e()}catch(e){return!0}},j=!w(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),T=Function.prototype,P=T.call,R=j&&T.bind.bind(P,P),C=j?function(e){return e&&R(e)}:function(e){return e&&function(){return P.apply(e,arguments)}},k=C({}.toString),I=C("".slice),A=function(e){return I(k(e),8,-1)},L=y.Object,_=C("".split),D=w(function(){return!L("z").propertyIsEnumerable(0)})?function(e){return"String"==A(e)?_(e,""):L(e)}:L,M=y.TypeError,F=function(e){if(null==e)throw M("Can't call method on "+e);return e},V=function(e){return D(F(e))},N=Object.defineProperty,q=function(e,t){try{N(y,e,{value:t,configurable:!0,writable:!0})}catch(n){y[e]=t}return t},$="__core-js_shared__",G=y[$]||q($,{}),z=s(function(e){(e.exports=function(e,t){return G[e]||(G[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),U=y.Object,B=function(e){return U(F(e))},H=C({}.hasOwnProperty),W=Object.hasOwn||function(e,t){return H(B(e),t)},K=0,Y=Math.random(),X=C(1..toString),J=function(e){return"Symbol("+(void 0===e?"":e)+")_"+X(++K+Y,36)},Q=function(e){return v(e)?e:void 0},Z=function(e,t){return arguments.length<2?Q(y[e]):y[e]&&y[e][t]},ee=Z("navigator","userAgent")||"",te=y.process,ne=y.Deno,re=te&&te.versions||ne&&ne.version,oe=re&&re.v8;oe&&(d=(f=oe.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!d&&ee&&(!(f=ee.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=ee.match(/Chrome\/(\d+)/))&&(d=+f[1]);var ie,ae=d,ue=!!Object.getOwnPropertySymbols&&!w(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ae&&ae<41}),ce=ue&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,le=z("wks"),se=y.Symbol,fe=se&&se.for,de=ce?se:se&&se.withoutSetter||J,pe=function(e){if(!W(le,e)||!ue&&"string"!=typeof le[e]){var t="Symbol."+e;le[e]=ue&&W(se,e)?se[e]:ce&&fe?fe(t):de(t)}return le[e]},ye=y.String,he=y.TypeError,ve=function(e){if(m(e))return e;throw he(ye(e)+" is not an object")},me=!w(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ge=me&&w(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),be=!me&&!w(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}),Ee=Function.prototype.call,Se=j?Ee.bind(Ee):function(){return Ee.apply(Ee,arguments)},xe=C({}.isPrototypeOf),Oe=y.Object,we=ce?function(e){return"symbol"==typeof e}:function(e){var t=Z("Symbol");return v(t)&&xe(t.prototype,Oe(e))},je=y.String,Te=function(e){try{return je(e)}catch(e){return"Object"}},Pe=y.TypeError,Re=function(e){if(v(e))return e;throw Pe(Te(e)+" is not a function")},Ce=function(e,t){var n=e[t];return null==n?void 0:Re(n)},ke=y.TypeError,Ie=y.TypeError,Ae=pe("toPrimitive"),Le=function(e){var t=function(e,t){if(!m(e)||we(e))return e;var n,r=Ce(e,Ae);if(r){if(void 0===t&&(t="default"),n=Se(r,e,t),!m(n)||we(n))return n;throw Ie("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&v(n=e.toString)&&!m(r=Se(n,e)))return r;if(v(n=e.valueOf)&&!m(r=Se(n,e)))return r;if("string"!==t&&v(n=e.toString)&&!m(r=Se(n,e)))return r;throw ke("Can't convert object to primitive value")}(e,t)}(e,"string");return we(t)?t:t+""},_e=y.TypeError,De=Object.defineProperty,Me=Object.getOwnPropertyDescriptor,Fe={f:me?ge?function(e,t,n){if(ve(e),t=Le(t),ve(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=Me(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return De(e,t,n)}:De:function(e,t,n){if(ve(e),t=Le(t),ve(n),be)try{return De(e,t,n)}catch(e){}if("get"in n||"set"in n)throw _e("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ve=Math.ceil,Ne=Math.floor,qe=function(e){var t=+e;return t!=t||0===t?0:(t>0?Ne:Ve)(t)},$e=Math.max,Ge=Math.min,ze=function(e,t){var n=qe(e);return n<0?$e(n+t,0):Ge(n,t)},Ue=Math.min,Be=function(e){return e>0?Ue(qe(e),9007199254740991):0},He=function(e){return Be(e.length)},We=function(e){return function(t,n,r){var o,i=V(t),a=He(i),u=ze(r,a);if(e&&n!=n){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}},Ke={includes:We(!0),indexOf:We(!1)},Ye={},Xe=Ke.indexOf,Je=C([].push),Qe=function(e,t){var n,r=V(e),o=0,i=[];for(n in r)!W(Ye,n)&&W(r,n)&&Je(i,n);for(;t.length>o;)W(r,n=t[o++])&&(~Xe(i,n)||Je(i,n));return i},Ze=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],et=Object.keys||function(e){return Qe(e,Ze)},tt=me&&!ge?Object.defineProperties:function(e,t){ve(e);for(var n,r=V(t),o=et(t),i=o.length,a=0;i>a;)Fe.f(e,n=o[a++],r[n]);return e},nt={f:tt},rt=Z("document","documentElement"),ot=z("keys"),it=function(e){return ot[e]||(ot[e]=J(e))},at=it("IE_PROTO"),ut=function(){},ct=function(e){return"<script>"+e+"<\/script>"},lt=function(e){e.write(ct("")),e.close();var t=e.parentWindow.Object;return e=null,t},st=function(){try{ie=new ActiveXObject("htmlfile")}catch(e){}var e,t;st="undefined"!=typeof document?document.domain&&ie?lt(ie):((t=E("iframe")).style.display="none",rt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ct("document.F=Object")),e.close(),e.F):lt(ie);for(var n=Ze.length;n--;)delete st.prototype[Ze[n]];return st()};Ye[at]=!0;var ft=Object.create||function(e,t){var n;return null!==e?(ut.prototype=ve(e),n=new ut,ut.prototype=null,n[at]=e):n=st(),void 0===t?n:nt.f(n,t)},dt=pe("unscopables"),pt=Array.prototype;null==pt[dt]&&Fe.f(pt,dt,{configurable:!0,value:ft(null)});var yt=function(e){pt[dt][e]=!0},ht={},vt=C(Function.toString);v(G.inspectSource)||(G.inspectSource=function(e){return vt(e)});var mt,gt,bt,Et=G.inspectSource,St=y.WeakMap,xt=v(St)&&/native code/.test(Et(St)),Ot=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},wt=me?function(e,t,n){return Fe.f(e,t,Ot(1,n))}:function(e,t,n){return e[t]=n,e},jt="Object already initialized",Tt=y.TypeError;if(xt||G.state){var Pt=G.state||(G.state=new(0,y.WeakMap)),Rt=C(Pt.get),Ct=C(Pt.has),kt=C(Pt.set);mt=function(e,t){if(Ct(Pt,e))throw new Tt(jt);return t.facade=e,kt(Pt,e,t),t},gt=function(e){return Rt(Pt,e)||{}},bt=function(e){return Ct(Pt,e)}}else{var It=it("state");Ye[It]=!0,mt=function(e,t){if(W(e,It))throw new Tt(jt);return t.facade=e,wt(e,It,t),t},gt=function(e){return W(e,It)?e[It]:{}},bt=function(e){return W(e,It)}}var At,Lt,_t,Dt={set:mt,get:gt,has:bt,enforce:function(e){return bt(e)?gt(e):mt(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=gt(t)).type!==e)throw Tt("Incompatible receiver, "+e+" required");return n}}},Mt={}.propertyIsEnumerable,Ft=Object.getOwnPropertyDescriptor,Vt={f:Ft&&!Mt.call({1:2},1)?function(e){var t=Ft(this,e);return!!t&&t.enumerable}:Mt},Nt=Object.getOwnPropertyDescriptor,qt={f:me?Nt:function(e,t){if(e=V(e),t=Le(t),be)try{return Nt(e,t)}catch(e){}if(W(e,t))return Ot(!Se(Vt.f,e,t),e[t])}},$t=Function.prototype,Gt=me&&Object.getOwnPropertyDescriptor,zt=W($t,"name"),Ut={EXISTS:zt,PROPER:zt&&"something"===function(){}.name,CONFIGURABLE:zt&&(!me||me&&Gt($t,"name").configurable)},Bt=s(function(e){var t=Ut.CONFIGURABLE,n=Dt.get,r=Dt.enforce,o=String(String).split("String");(e.exports=function(e,n,i,a){var u,c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,s=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;v(i)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!W(i,"name")||t&&i.name!==f)&&wt(i,"name",f),(u=r(i)).source||(u.source=o.join("string"==typeof f?f:""))),e!==y?(c?!s&&e[n]&&(l=!0):delete e[n],l?e[n]=i:wt(e,n,i)):l?e[n]=i:q(n,i)})(Function.prototype,"toString",function(){return v(this)&&n(this).source||Et(this)})}),Ht=Ze.concat("length","prototype"),Wt={f:Object.getOwnPropertyNames||function(e){return Qe(e,Ht)}},Kt={f:Object.getOwnPropertySymbols},Yt=C([].concat),Xt=Z("Reflect","ownKeys")||function(e){var t=Wt.f(ve(e)),n=Kt.f;return n?Yt(t,n(e)):t},Jt=function(e,t,n){for(var r=Xt(t),o=Fe.f,i=qt.f,a=0;a<r.length;a++){var u=r[a];W(e,u)||n&&W(n,u)||o(e,u,i(t,u))}},Qt=/#|\.prototype\./,Zt=function(e,t){var n=tn[en(e)];return n==rn||n!=nn&&(v(t)?w(t):!!t)},en=Zt.normalize=function(e){return String(e).replace(Qt,".").toLowerCase()},tn=Zt.data={},nn=Zt.NATIVE="N",rn=Zt.POLYFILL="P",on=Zt,an=qt.f,un=function(e,t){var n,r,o,i,a,u=e.target,c=e.global,l=e.stat;if(n=c?y:l?y[u]||q(u,{}):(y[u]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=an(n,r))&&a.value:n[r],!on(c?r:u+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Jt(i,o)}(e.sham||o&&o.sham)&&wt(i,"sham",!0),Bt(n,r,i,e)}},cn=!w(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ln=it("IE_PROTO"),sn=y.Object,fn=sn.prototype,dn=cn?sn.getPrototypeOf:function(e){var t=B(e);if(W(t,ln))return t[ln];var n=t.constructor;return v(n)&&t instanceof n?n.prototype:t instanceof sn?fn:null},pn=pe("iterator"),yn=!1;[].keys&&("next"in(_t=[].keys())?(Lt=dn(dn(_t)))!==Object.prototype&&(At=Lt):yn=!0);var hn=null==At||w(function(){var e={};return At[pn].call(e)!==e});hn&&(At={}),v(At[pn])||Bt(At,pn,function(){return this});var vn={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:yn},mn=Fe.f,gn=pe("toStringTag"),bn=function(e,t,n){e&&!n&&(e=e.prototype),e&&!W(e,gn)&&mn(e,gn,{configurable:!0,value:t})},En=vn.IteratorPrototype,Sn=function(){return this},xn=y.String,On=y.TypeError,wn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=C(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return ve(n),function(e){if("object"==typeof e||v(e))return e;throw On("Can't set "+xn(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),jn=Ut.PROPER,Tn=Ut.CONFIGURABLE,Pn=vn.IteratorPrototype,Rn=vn.BUGGY_SAFARI_ITERATORS,Cn=pe("iterator"),kn="keys",In="values",An="entries",Ln=function(){return this},_n=Fe.f,Dn="Array Iterator",Mn=Dt.set,Fn=Dt.getterFor(Dn),Vn=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o="Array Iterator";e.prototype=ft(En,{next:Ot(1,function(){var e=Fn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}})}),bn(e,o,!1),ht[o]=Sn}(n);var u,c,l,s=function(e){if(e===o&&y)return y;if(!Rn&&e in d)return d[e];switch(e){case kn:case In:case An:return function(){return new n(this,e)}}return function(){return new n(this)}},f=!1,d=e.prototype,p=d[Cn]||d["@@iterator"]||d.values,y=!Rn&&p||s(o),h=d.entries||p;if(h&&(u=dn(h.call(new e)))!==Object.prototype&&u.next&&(dn(u)!==Pn&&(wn?wn(u,Pn):v(u[Cn])||Bt(u,Cn,Ln)),bn(u,"Array Iterator",!0)),jn&&p&&p.name!==In&&(Tn?wt(d,"name",In):(f=!0,y=function(){return Se(p,this)})),void(c={values:s(In),keys:s(kn),entries:s(An)}))for(l in c)(Rn||f||!(l in d))&&Bt(d,l,c[l]);else un({target:"Array",proto:!0,forced:Rn||f},c);return d[Cn]!==y&&Bt(d,Cn,y,{name:o}),ht.Array=y,c}(Array,0,function(e,t){Mn(this,{type:Dn,target:V(e),index:0,kind:t})},0,"values"),Nn=ht.Arguments=ht.Array;if(yt("keys"),yt("values"),yt("entries"),me&&"values"!==Nn.name)try{_n(Nn,"name",{value:"values"})}catch(e){}var qn=pe("iterator"),$n=pe("toStringTag"),Gn=Vn.values,zn=function(e,t){if(e){if(e[qn]!==Gn)try{wt(e,qn,Gn)}catch(t){e[qn]=Gn}if(e[$n]||wt(e,$n,t),h[t])for(var n in Vn)if(e[n]!==Vn[n])try{wt(e,n,Vn[n])}catch(t){e[n]=Vn[n]}}};for(var Un in h)zn(y[Un]&&y[Un].prototype,Un);zn(O,"DOMTokenList");var Bn=Object.assign,Hn=Object.defineProperty,Wn=C([].concat),Kn=!Bn||w(function(){if(me&&1!==Bn({b:1},Bn(Hn({},"a",{enumerable:!0,get:function(){Hn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=Bn({},e)[n]||et(Bn({},t)).join("")!=r})?function(e,t){for(var n=B(e),r=arguments.length,o=1,i=Kt.f,a=Vt.f;r>o;)for(var u,c=D(arguments[o++]),l=i?Wn(et(c),i(c)):et(c),s=l.length,f=0;s>f;)u=l[f++],me&&!Se(a,c,u)||(n[u]=c[u]);return n}:Bn;un({target:"Object",stat:!0,forced:Object.assign!==Kn},{assign:Kn});var Yn="function"==typeof Symbol&&Symbol.for,Xn=Yn?Symbol.for("react.element"):60103,Jn=Yn?Symbol.for("react.portal"):60106,Qn=Yn?Symbol.for("react.fragment"):60107,Zn=Yn?Symbol.for("react.strict_mode"):60108,er=Yn?Symbol.for("react.profiler"):60114,tr=Yn?Symbol.for("react.provider"):60109,nr=Yn?Symbol.for("react.context"):60110,rr=Yn?Symbol.for("react.async_mode"):60111,or=Yn?Symbol.for("react.concurrent_mode"):60111,ir=Yn?Symbol.for("react.forward_ref"):60112,ar=Yn?Symbol.for("react.suspense"):60113,ur=Yn?Symbol.for("react.suspense_list"):60120,cr=Yn?Symbol.for("react.memo"):60115,lr=Yn?Symbol.for("react.lazy"):60116,sr=Yn?Symbol.for("react.block"):60121,fr=Yn?Symbol.for("react.fundamental"):60117,dr=Yn?Symbol.for("react.responder"):60118,pr=Yn?Symbol.for("react.scope"):60119;function yr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Xn:switch(e=e.type){case rr:case or:case Qn:case er:case Zn:case ar:return e;default:switch(e=e&&e.$$typeof){case nr:case ir:case lr:case cr:case tr:return e;default:return t}}case Jn:return t}}}function hr(e){return yr(e)===or}var vr={AsyncMode:rr,ConcurrentMode:or,ContextConsumer:nr,ContextProvider:tr,Element:Xn,ForwardRef:ir,Fragment:Qn,Lazy:lr,Memo:cr,Portal:Jn,Profiler:er,StrictMode:Zn,Suspense:ar,isAsyncMode:function(e){return hr(e)||yr(e)===rr},isConcurrentMode:hr,isContextConsumer:function(e){return yr(e)===nr},isContextProvider:function(e){return yr(e)===tr},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Xn},isForwardRef:function(e){return yr(e)===ir},isFragment:function(e){return yr(e)===Qn},isLazy:function(e){return yr(e)===lr},isMemo:function(e){return yr(e)===cr},isPortal:function(e){return yr(e)===Jn},isProfiler:function(e){return yr(e)===er},isStrictMode:function(e){return yr(e)===Zn},isSuspense:function(e){return yr(e)===ar},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===Qn||e===or||e===er||e===Zn||e===ar||e===ur||"object"==typeof e&&null!==e&&(e.$$typeof===lr||e.$$typeof===cr||e.$$typeof===tr||e.$$typeof===nr||e.$$typeof===ir||e.$$typeof===fr||e.$$typeof===dr||e.$$typeof===pr||e.$$typeof===sr)},typeOf:yr};function mr(){}function gr(){}s(function(e,t){}),s(function(e){e.exports=vr}),gr.resetWarningCache=mr;var br=s(function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gr,resetWarningCache:mr};return n.PropTypes=n,n}()});const Er=e=>{let{children:n,initialData:r,initialStep:o,render:i,validateOnStepChange:a,onChange:c}=e;const[l,s]=t.useState(r),[f,d]=t.useState([]),[p,y]=t.useState({}),[h,v]=t.useState(o||0),[m,g]=t.useState([]),b=e=>{const t=m&&m[e]?m[e].key:e;return l&&l[t]?l[t]:{}},E=(e,t)=>(m[t]||(m[t]={key:e,visible:!0},g([...m])),e),S=(e,t,n)=>{const r=m&&m[n]?m[n].key:n;p[n]=t,y(Object.assign({},p)),l[r]=e,s(Object.assign({},l)),"function"==typeof c&&c({data:l,errors:p})};t.useEffect(()=>{n.map((e,t)=>e({index:t,setStepKey:E,initializing:!0})).filter(e=>e)},[]),t.useEffect(()=>{if(a){const e=O();e<h&&v(-1===e?0:e+1)}d(n.map((e,t)=>e({data:b(t),allData:l,onChange:S,onNav:x,isActive:t===h,index:t,errors:p[t]||{},setStepKey:E})).filter((e,t)=>{const n=null!==e;return m[t].visible=n,n}))},[h,l]);const x=(e,t)=>{let n=h;if("next"===e){let e=!1;for(let t=h+1;t<m.length;t++)m[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=h-1;t>=0;t--)m[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<m.length;t++)m[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=m.length-1;t>=0;t--)m[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=O()),"step"===e&&m[t]&&m[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=u.default(m,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>m.length&&(n=m.length),v(n)},O=()=>{let e=-1,t=!1;return Object.keys(p).forEach(n=>{0!==Object.keys(p[n]).length&&m[n].visible||t?t=!0:e=Number(n)}),e};return 0===f.length?null:i?i({navigationProps:{currentStep:h,data:l,onChangeStep:e=>{(O()+1>=e||!1===a)&&v(e)},errors:p,keys:m,stepCount:f.length,lastValidStep:O()},progressionProps:(()=>{const e=f.length,t=O();let n=0;return Object.keys(p).forEach(e=>{const r=b(e);e<=t&&0===Object.keys(p[e]).length&&Object.keys(r).length>0&&n++}),{currentStep:h,stepCount:e,validSteps:n,percentage:100/e*n,data:l,errors:p}})(),routerProps:{step:h,onChange:v,keys:m},steps:f}):null};Er.propTypes={children:br.arrayOf(br.oneOfType([br.node,br.func])).isRequired,initialData:br.object,render:br.oneOfType([br.node,br.func]).isRequired,initialStep:br.number,validateOnStepChange:br.bool},Er.defaultProps={initialData:{},validateOnStepChange:!0};var Sr={};Sr[pe("toStringTag")]="z";var xr,Or,wr="[object z]"===String(Sr),jr=pe("toStringTag"),Tr=y.Object,Pr="Arguments"==A(function(){return arguments}()),Rr=wr?A:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Tr(e),jr))?n:Pr?A(t):"Object"==(r=A(t))&&v(t.callee)?"Arguments":r},Cr=y.String,kr=function(e){if("Symbol"===Rr(e))throw TypeError("Cannot convert a Symbol value to a string");return Cr(e)},Ir=function(){var e=ve(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Ar=y.RegExp,Lr=w(function(){var e=Ar("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),_r=Lr||w(function(){return!Ar("a","y").sticky}),Dr={BROKEN_CARET:Lr||w(function(){var e=Ar("^r","gy");return e.lastIndex=2,null!=e.exec("str")}),MISSED_STICKY:_r,UNSUPPORTED_Y:Lr},Mr=y.RegExp,Fr=w(function(){var e=Mr(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),Vr=y.RegExp,Nr=w(function(){var e=Vr("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),qr=Dt.get,$r=z("native-string-replace",String.prototype.replace),Gr=RegExp.prototype.exec,zr=Gr,Ur=C("".charAt),Br=C("".indexOf),Hr=C("".replace),Wr=C("".slice),Kr=(Or=/b*/g,Se(Gr,xr=/a/,"a"),Se(Gr,Or,"a"),0!==xr.lastIndex||0!==Or.lastIndex),Yr=Dr.BROKEN_CARET,Xr=void 0!==/()??/.exec("")[1];(Kr||Xr||Yr||Fr||Nr)&&(zr=function(e){var t,n,r,o,i,a,u,c=this,l=qr(c),s=kr(e),f=l.raw;if(f)return f.lastIndex=c.lastIndex,t=Se(zr,f,s),c.lastIndex=f.lastIndex,t;var d=l.groups,p=Yr&&c.sticky,y=Se(Ir,c),h=c.source,v=0,m=s;if(p&&(y=Hr(y,"y",""),-1===Br(y,"g")&&(y+="g"),m=Wr(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Ur(s,c.lastIndex-1))&&(h="(?: "+h+")",m=" "+m,v++),n=new RegExp("^(?:"+h+")",y)),Xr&&(n=new RegExp("^"+h+"$(?!\\s)",y)),Kr&&(r=c.lastIndex),o=Se(Gr,p?n:c,m),p?o?(o.input=Wr(o.input,v),o[0]=Wr(o[0],v),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Kr&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Xr&&o&&o.length>1&&Se($r,o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&d)for(o.groups=a=ft(null),i=0;i<d.length;i++)a[(u=d[i])[0]]=o[u[1]];return o});var Jr=zr;un({target:"RegExp",proto:!0,forced:/./.exec!==Jr},{exec:Jr});var Qr=Function.prototype,Zr=Qr.apply,eo=Qr.call,to="object"==typeof Reflect&&Reflect.apply||(j?eo.bind(Zr):function(){return eo.apply(Zr,arguments)}),no=pe("species"),ro=RegExp.prototype,oo=pe("match"),io=function(){},ao=[],uo=Z("Reflect","construct"),co=/^\s*(?:class|function)\b/,lo=C(co.exec),so=!co.exec(io),fo=function(e){if(!v(e))return!1;try{return uo(io,ao,e),!0}catch(e){return!1}},po=function(e){if(!v(e))return!1;switch(Rr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return so||!!lo(co,Et(e))}catch(e){return!0}};po.sham=!0;var yo=!uo||w(function(){var e;return fo(fo.call)||!fo(Object)||!fo(function(){e=!0})||e})?po:fo,ho=y.TypeError,vo=pe("species"),mo=function(e,t){var n,r=ve(e).constructor;return void 0===r||null==(n=ve(r)[vo])?t:function(e){if(yo(e))return e;throw ho(Te(e)+" is not a constructor")}(n)},go=C("".charAt),bo=C("".charCodeAt),Eo=C("".slice),So=function(e){return function(t,n){var r,o,i=kr(F(t)),a=qe(n),u=i.length;return a<0||a>=u?e?"":void 0:(r=bo(i,a))<55296||r>56319||a+1===u||(o=bo(i,a+1))<56320||o>57343?e?go(i,a):r:e?Eo(i,a,a+2):o-56320+(r-55296<<10)+65536}},xo=(So(!1),So(!0)),Oo=function(e,t,n){return t+(n?xo(e,t).length:1)},wo=y.Array,jo=Math.max,To=function(e,t,n){for(var r,o,i,a=He(e),u=ze(t,a),c=ze(void 0===n?a:n,a),l=wo(jo(c-u,0)),s=0;u<c;u++,s++)r=l,o=e[u],(i=Le(s))in r?Fe.f(r,i,Ot(0,o)):r[i]=o;return l.length=s,l},Po=y.TypeError,Ro=function(e,t){var n=e.exec;if(v(n)){var r=Se(n,e,t);return null!==r&&ve(r),r}if("RegExp"===A(e))return Se(Jr,e,t);throw Po("RegExp#exec called on incompatible receiver")},Co=Dr.UNSUPPORTED_Y,ko=4294967295,Io=Math.min,Ao=[].push,Lo=C(/./.exec),_o=C(Ao),Do=C("".slice),Mo=!w(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});!function(e,t,n,r){var o=pe(e),i=!w(function(){var t={};return t[o]=function(){return 7},7!=""[e](t)}),a=i&&!w(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[no]=function(){return t},t.flags="",t[o]=/./[o],t.exec=function(){return e=!0,null},t[o](""),!e});if(!i||!a||n){var u=C(/./[o]),c=t(o,""[e],function(e,t,n,r,o){var a=C(e),c=t.exec;return c===Jr||c===ro.exec?i&&!o?{done:!0,value:u(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}});Bt(String.prototype,e,c[0]),Bt(ro,o,c[1])}r&&wt(ro[o],"sham",!0)}("split",function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r,o,i=kr(F(this)),a=void 0===n?ko:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!m(r=e)||!(void 0!==(o=r[oo])?o:"RegExp"==A(r)))return Se(t,i,e,a);for(var u,c,l,s=[],f=0,d=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(u=Se(Jr,d,i))&&!((c=d.lastIndex)>f&&(_o(s,Do(i,f,u.index)),u.length>1&&u.index<i.length&&to(Ao,s,To(u,1)),l=u[0].length,f=c,s.length>=a));)d.lastIndex===u.index&&d.lastIndex++;return f===i.length?!l&&Lo(d,"")||_o(s,""):_o(s,Do(i,f)),s.length>a?To(s,0,a):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:Se(t,this,e,n)}:t,[function(t,n){var o=F(this),i=null==t?void 0:Ce(t,e);return i?Se(i,t,o,n):Se(r,kr(o),t,n)},function(e,o){var i=ve(this),a=kr(e),u=n(r,i,a,o,r!==t);if(u.done)return u.value;var c=mo(i,RegExp),l=i.unicode,s=new c(Co?"^(?:"+i.source+")":i,(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Co?"g":"y")),f=void 0===o?ko:o>>>0;if(0===f)return[];if(0===a.length)return null===Ro(s,a)?[a]:[];for(var d=0,p=0,y=[];p<a.length;){s.lastIndex=Co?0:p;var h,v=Ro(s,Co?Do(a,p):a);if(null===v||(h=Io(Be(s.lastIndex+(Co?p:0)),a.length))===d)p=Oo(a,p,l);else{if(_o(y,Do(a,d,p)),y.length===f)return y;for(var m=1;m<=v.length-1;m++)if(_o(y,v[m]),y.length===f)return y;p=d=h}}return _o(y,Do(a,d)),y}]},!Mo,Co);var Fo=y.Promise,Vo=pe("species"),No=y.TypeError,qo=C(C.bind),$o=function(e,t){return Re(e),void 0===t?e:j?qo(e,t):function(){return e.apply(t,arguments)}},Go=pe("iterator"),zo=Array.prototype,Uo=pe("iterator"),Bo=function(e){if(null!=e)return Ce(e,Uo)||Ce(e,"@@iterator")||ht[Rr(e)]},Ho=y.TypeError,Wo=function(e,t,n){var r,o;ve(e);try{if(!(r=Ce(e,"return"))){if("throw"===t)throw n;return n}r=Se(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return ve(r),n},Ko=y.TypeError,Yo=function(e,t){this.stopped=e,this.result=t},Xo=Yo.prototype,Jo=function(e,t,n){var r,o,i,a,u,c,l,s,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),y=$o(t,n&&n.that),h=function(e){return r&&Wo(r,"normal",e),new Yo(!0,e)},v=function(e){return f?(ve(e),p?y(e[0],e[1],h):y(e[0],e[1])):p?y(e,h):y(e)};if(d)r=e;else{if(!(o=Bo(e)))throw Ko(Te(e)+" is not iterable");if(void 0!==(s=o)&&(ht.Array===s||zo[Go]===s)){for(i=0,a=He(e);a>i;i++)if((u=v(e[i]))&&xe(Xo,u))return u;return new Yo(!1)}r=function(e,t){var n=arguments.length<2?Bo(e):t;if(Re(n))return ve(Se(n,e));throw Ho(Te(e)+" is not iterable")}(e,o)}for(c=r.next;!(l=Se(c,r)).done;){try{u=v(l.value)}catch(e){Wo(r,"throw",e)}if("object"==typeof u&&u&&xe(Xo,u))return u}return new Yo(!1)},Qo=pe("iterator"),Zo=!1;try{var ei=0,ti={next:function(){return{done:!!ei++}},return:function(){Zo=!0}};ti[Qo]=function(){return this},Array.from(ti,function(){throw 2})}catch(e){}var ni,ri,oi,ii,ai=C([].slice),ui=y.TypeError,ci=function(e,t){if(e<t)throw ui("Not enough arguments");return e},li=/(?:ipad|iphone|ipod).*applewebkit/i.test(ee),si="process"==A(y.process),fi=y.setImmediate,di=y.clearImmediate,pi=y.process,yi=y.Dispatch,hi=y.Function,vi=y.MessageChannel,mi=y.String,gi=0,bi={};try{ni=y.location}catch(e){}var Ei=function(e){if(W(bi,e)){var t=bi[e];delete bi[e],t()}},Si=function(e){return function(){Ei(e)}},xi=function(e){Ei(e.data)},Oi=function(e){y.postMessage(mi(e),ni.protocol+"//"+ni.host)};fi&&di||(fi=function(e){ci(arguments.length,1);var t=v(e)?e:hi(e),n=ai(arguments,1);return bi[++gi]=function(){to(t,void 0,n)},ri(gi),gi},di=function(e){delete bi[e]},si?ri=function(e){pi.nextTick(Si(e))}:yi&&yi.now?ri=function(e){yi.now(Si(e))}:vi&&!li?(ii=(oi=new vi).port2,oi.port1.onmessage=xi,ri=$o(ii.postMessage,ii)):y.addEventListener&&v(y.postMessage)&&!y.importScripts&&ni&&"file:"!==ni.protocol&&!w(Oi)?(ri=Oi,y.addEventListener("message",xi,!1)):ri="onreadystatechange"in E("script")?function(e){rt.appendChild(E("script")).onreadystatechange=function(){rt.removeChild(this),Ei(e)}}:function(e){setTimeout(Si(e),0)});var wi,ji,Ti,Pi,Ri,Ci,ki,Ii,Ai={set:fi,clear:di},Li=/ipad|iphone|ipod/i.test(ee)&&void 0!==y.Pebble,_i=/web0s(?!.*chrome)/i.test(ee),Di=Ai.set,Mi=y.MutationObserver||y.WebKitMutationObserver,Fi=y.document,Vi=y.process,Ni=y.Promise,qi=(0,qt.f)(y,"queueMicrotask"),$i=qi&&qi.value;$i||(wi=function(){var e,t;for(si&&(e=Vi.domain)&&e.exit();ji;){t=ji.fn,ji=ji.next;try{t()}catch(e){throw ji?Pi():Ti=void 0,e}}Ti=void 0,e&&e.enter()},li||si||_i||!Mi||!Fi?!Li&&Ni&&Ni.resolve?((ki=Ni.resolve(void 0)).constructor=Ni,Ii=$o(ki.then,ki),Pi=function(){Ii(wi)}):si?Pi=function(){Vi.nextTick(wi)}:(Di=$o(Di,y),Pi=function(){Di(wi)}):(Ri=!0,Ci=Fi.createTextNode(""),new Mi(wi).observe(Ci,{characterData:!0}),Pi=function(){Ci.data=Ri=!Ri}));var Gi=$i||function(e){var t={fn:e,next:void 0};Ti&&(Ti.next=t),ji||(ji=t,Pi()),Ti=t},zi=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Re(t),this.reject=Re(n)},Ui={f:function(e){return new zi(e)}},Bi=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Hi=function(){this.head=null,this.tail=null};Hi.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Wi,Ki,Yi,Xi,Ji,Qi=Hi,Zi="object"==typeof window,ea=Ai.set,ta=pe("species"),na="Promise",ra=Dt.getterFor(na),oa=Dt.set,ia=Dt.getterFor(na),aa=Fo&&Fo.prototype,ua=Fo,ca=aa,la=y.TypeError,sa=y.document,fa=y.process,da=Ui.f,pa=da,ya=!!(sa&&sa.createEvent&&y.dispatchEvent),ha=v(y.PromiseRejectionEvent),va="unhandledrejection",ma=!1,ga=on(na,function(){var e=Et(ua),t=e!==String(ua);if(!t&&66===ae)return!0;if(ae>=51&&/native code/.test(e))return!1;var n=new ua(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[ta]=r,!(ma=n.then(function(){})instanceof r)||!t&&Zi&&!ha}),ba=ga||!function(e,t){if(!Zo)return!1;var n=!1;try{var r={};r[Qo]=function(){return{next:function(){return{done:n=!0}}}},ua.all(r).catch(function(){})}catch(e){}return n}(),Ea=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},Sa=function(e,t){var n,r,o,i=t.value,a=1==t.state,u=a?e.ok:e.fail,c=e.resolve,l=e.reject,s=e.domain;try{u?(a||(2===t.rejection&&Ta(t),t.rejection=1),!0===u?n=i:(s&&s.enter(),n=u(i),s&&(s.exit(),o=!0)),n===e.promise?l(la("Promise-chain cycle")):(r=Ea(n))?Se(r,n,c,l):c(n)):l(i)}catch(e){s&&!o&&s.exit(),l(e)}},xa=function(e,t){e.notified||(e.notified=!0,Gi(function(){for(var n,r=e.reactions;n=r.get();)Sa(n,e);e.notified=!1,t&&!e.rejection&&wa(e)}))},Oa=function(e,t,n){var r,o;ya?((r=sa.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),y.dispatchEvent(r)):r={promise:t,reason:n},!ha&&(o=y["on"+e])?o(r):e===va&&function(e,t){var n=y.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},wa=function(e){Se(ea,y,function(){var t,n=e.facade,r=e.value;if(ja(e)&&(t=Bi(function(){si?fa.emit("unhandledRejection",r,n):Oa(va,n,r)}),e.rejection=si||ja(e)?2:1,t.error))throw t.value})},ja=function(e){return 1!==e.rejection&&!e.parent},Ta=function(e){Se(ea,y,function(){var t=e.facade;si?fa.emit("rejectionHandled",t):Oa("rejectionhandled",t,e.value)})},Pa=function(e,t,n){return function(r){e(t,r,n)}},Ra=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,xa(e,!0))},Ca=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw la("Promise can't be resolved itself");var r=Ea(t);r?Gi(function(){var n={done:!1};try{Se(r,t,Pa(Ca,n,e),Pa(Ra,n,e))}catch(t){Ra(n,t,e)}}):(e.value=t,e.state=1,xa(e,!1))}catch(t){Ra({done:!1},t,e)}}};if(ga&&(ua=function(e){!function(e,t){if(xe(t,e))return e;throw No("Incorrect invocation")}(this,ca),Re(e),Se(Wi,this);var t=ra(this);try{e(Pa(Ca,t),Pa(Ra,t))}catch(e){Ra(t,e)}},(Wi=function(e){oa(this,{type:na,done:!1,notified:!1,parent:!1,reactions:new Qi,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)Bt(e,r,t[r],void 0);return e}(ca=ua.prototype,{then:function(e,t){var n=ia(this),r=da(mo(this,ua));return n.parent=!0,r.ok=!v(e)||e,r.fail=v(t)&&t,r.domain=si?fa.domain:void 0,0==n.state?n.reactions.add(r):Gi(function(){Sa(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),Ki=function(){var e=new Wi,t=ra(e);this.promise=e,this.resolve=Pa(Ca,t),this.reject=Pa(Ra,t)},Ui.f=da=function(e){return e===ua||e===Yi?new Ki(e):pa(e)},v(Fo)&&aa!==Object.prototype)){Xi=aa.then,ma||(Bt(aa,"then",function(e,t){var n=this;return new ua(function(e,t){Se(Xi,n,e,t)}).then(e,t)},{unsafe:!0}),Bt(aa,"catch",ca.catch,{unsafe:!0}));try{delete aa.constructor}catch(e){}wn&&wn(aa,ca)}un({global:!0,wrap:!0,forced:ga},{Promise:ua}),bn(ua,na,!1),Ji=Z(na),me&&Ji&&!Ji[Vo]&&(0,Fe.f)(Ji,Vo,{configurable:!0,get:function(){return this}}),Yi=Z(na),un({target:na,stat:!0,forced:ga},{reject:function(e){var t=da(this);return Se(t.reject,void 0,e),t.promise}}),un({target:na,stat:!0,forced:ga},{resolve:function(e){return function(e,t){if(ve(e),m(t)&&t.constructor===e)return t;var n=Ui.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),un({target:na,stat:!0,forced:ba},{all:function(e){var t=this,n=da(t),r=n.resolve,o=n.reject,i=Bi(function(){var n=Re(t.resolve),i=[],a=0,u=1;Jo(e,function(e){var c=a++,l=!1;u++,Se(n,t,e).then(function(e){l||(l=!0,i[c]=e,--u||r(i))},o)}),--u||r(i)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=da(t),r=n.reject,o=Bi(function(){var o=Re(t.resolve);Jo(e,function(e){Se(o,t,e).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});const ka=e=>{let{config:n,data:r,render:o,fields:i,onChange:u,isVisible:l,isDisabled:s,id:f}=e;const[d,p]=t.useState(!1),[y,h]=t.useState(),[v,m]=t.useState({}),[g,b]=t.useState(!1),E="function"==typeof n.fields?n.fields(r,y):[],S={},x=e=>{let t,n={};if(E.forEach(e=>{if(!i[e.type]&&"collection"!==e.type)return;const o="collection"!==e.type&&i[e.type].isValid(r[e.id],e),a="collection"!==e.type&&e.customValidation?e.customValidation({data:r[e.id],allData:r,fieldConfig:e,isValid:o}):o;"collection"===e.type||a?"collection"===e.type&&e.isRequired&&(!r[e.id]||0===r[e.id].length||1===r[e.id].length&&0===Object.keys(r[e.id][0]).length)?(t||(t=e.id),n[e.id]={value:r[e.id],field:e}):"collection"===e.type&&e.fields.forEach(t=>{r[e.id]&&r[e.id].forEach((o,a)=>{if(!(e.isRequired||o&&0!==Object.keys(o).length))return;const u=i[t.type]&&i[t.type].isValid(o[t.id],t),c=t.customValidation?t.customValidation(o[t.id],t,u):u;i[t.type]&&!c&&(n[e.id+"-"+a+"-"+t.id]={value:r[e.id],subField:t})})}):(t||(t=e.id),n[e.id]={value:r[e.id],field:e})}),t&&l&&e){const e=document.getElementById(t);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return n};t.useEffect(()=>{let e=Object.assign({},r);if(E.forEach(t=>{if("collection"===t.type&&t.init){const n=t.min?Number(t.min):1;e[t.id]&&0!==e[t.id].length||(e[t.id]=[]);for(let r=e[t.id].length;r<n;r++)e[t.id].push({})}}),e=O(E,e),"function"==typeof n.asyncDataLoader&&l&&!d)try{return b(!0),Promise.resolve(n.asyncDataLoader()).then(function(e){h(e),p(!0),b(!1)})}catch(e){Promise.reject(e)}u(e,x(),f)},[l]);const O=(e,t)=>(e.forEach(e=>{"function"==typeof e.computedValue&&(t[e.id]=e.computedValue(t)),"collection"===e.type&&e.fields.forEach(n=>{"function"==typeof n.computedValue&&t[e.id].forEach((r,o)=>{t[e.id][o][n.id]=n.computedValue(t,t[e.id][o])})})}),t),w=(e,t,n)=>{let o=Object.assign({},r);const i=n=>{const r=c.default(E,{id:e});return r&&"function"==typeof r.filter?r.filter(t):n};Array.isArray(e)?o[e[0]][n][e[1]]=i(t):o[e]=i(t),o=O(E,o),u(o,x(),f)};return E.forEach(e=>{(i[e.type]||"collection"===e.type)&&("collection"!==e.type?S[e.id]=/*#__PURE__*/a.default.createElement(i[e.type].component,Object.assign({key:e.id,value:r[e.id],error:v[e.id],isDisabled:s||e.isDisabled,onChange:t=>w(e.id,t)},e)):(Array.isArray(S[e.id])||(S[e.id]=[]),r[e.id]&&r[e.id].forEach((t,n)=>{const r={};e.fields.forEach(o=>{i[o.type]&&(r[o.id]=/*#__PURE__*/a.default.createElement(i[o.type].component,Object.assign({key:e.id+"-"+n+"-"+o.id,value:t[o.id],error:v[e.id+"-"+n+"-"+o.id],isDisabled:s||o.isDisabled,onChange:t=>w([e.id,o.id],t,n)},o)))}),S[e.id].push(r)})))}),!1===l?null:o?o({actionProps:{handleActionClick:(e,t)=>{let n=t?x(!0):{};m(n),0===Object.keys(n).length&&e()},isDisabled:s},fieldProps:{fields:S,onCollectionAction:(e,t,n)=>{const o=Object.assign({},r),i=c.default(E,{id:e}),a=i&&i.min?Number(i.min):0,l=i&&i.max?Number(i.max):99999999999999;"add"===t&&(Array.isArray(o[e])||(o[e]=[]),l>o[e].length&&o[e].push({})),"remove"===t&&a<o[e].length&&o[e].splice(n,1),u(o,x(),f)},data:r,errors:v,asyncData:y},loading:g}):null};ka.propTypes={config:br.object.isRequired,data:br.object,render:br.oneOfType([br.node,br.func]).isRequired,fields:br.object.isRequired,onChange:br.func,isVisible:br.bool,isDisabled:br.bool,id:br.oneOfType([br.string,br.number]).isRequired},ka.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1};const Ia=e=>{let{id:t,label:n,value:r,onChange:o,error:i,placeholder:u,isRequired:c,isDisabled:l,prefix:s,suffix:f,secondaryText:d,type:p,errorRenderer:y}=e;/*#__PURE__*/return a.default.createElement("div",{id:t},n?/*#__PURE__*/a.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/a.default.createElement("div",null,s?/*#__PURE__*/a.default.createElement("span",null,s):null,/*#__PURE__*/a.default.createElement("input",{name:t,value:r||"",placeholder:u,type:p||"text",disabled:!!l,required:!!c,onChange:e=>{"function"==typeof o&&o(e.target.value)}}),f?/*#__PURE__*/a.default.createElement("span",null,f):null),d?/*#__PURE__*/a.default.createElement("div",null,d):null,i?y?y(i):/*#__PURE__*/a.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null)},Aa=(e,t)=>!t.isRequired||""!==e&&void 0!==e,La={text:{component:Ia,isValid:Aa},number:{component:Ia,isValid:Aa},email:{component:Ia,isValid:Aa},password:{component:Ia,isValid:Aa},tel:{component:Ia,isValid:Aa},time:{component:Ia,isValid:Aa},date:{component:Ia,isValid:Aa},checkbox:{component:e=>{let{id:t,label:n,value:r,onChange:o,error:i,placeholder:u,isRequired:c,isDisabled:l,prefix:s,suffix:f,secondaryText:d,type:p,errorRenderer:y}=e;/*#__PURE__*/return a.default.createElement("div",{id:t},n?/*#__PURE__*/a.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/a.default.createElement("div",null,s?/*#__PURE__*/a.default.createElement("span",null,s):null,/*#__PURE__*/a.default.createElement("input",{name:t,value:"1",placeholder:u,type:p,disabled:!!l,required:!!c,checked:!!r,onChange:()=>{},onClick:e=>{"function"==typeof o&&o(!!e.target.checked)}}),f?/*#__PURE__*/a.default.createElement("span",null,f):null),d?/*#__PURE__*/a.default.createElement("div",null,d):null,i?y?y(i):/*#__PURE__*/a.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:t,label:n,value:r,options:o,onChange:i,error:u,placeholder:c,isRequired:l,isDisabled:s,prefix:f,suffix:d,secondaryText:p,errorRenderer:y}=e;/*#__PURE__*/return a.default.createElement("div",{id:t},n?/*#__PURE__*/a.default.createElement("label",{htmlFor:t},n,l?" *":""):null,/*#__PURE__*/a.default.createElement("div",null,f?/*#__PURE__*/a.default.createElement("span",null,f):null,/*#__PURE__*/a.default.createElement("select",{name:t,value:r,options:o,placeholder:c,disabled:!!s,required:!!l,onChange:e=>{"function"==typeof i&&i(e.target.value)}},o.map(e=>/*#__PURE__*/a.default.createElement("option",{value:e.value,key:e.value},e.text))),d?/*#__PURE__*/a.default.createElement("span",null,d):null),p?/*#__PURE__*/a.default.createElement("div",null,p):null,u?y?y(u):/*#__PURE__*/a.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:e=>{let{id:n,label:r,value:o,options:i,onChange:u,error:c,isRequired:l,isDisabled:s,prefix:f,suffix:d,secondaryText:p,errorRenderer:y}=e;/*#__PURE__*/return a.default.createElement("div",{id:n},r?/*#__PURE__*/a.default.createElement("label",null,r,l?" *":""):null,/*#__PURE__*/a.default.createElement("div",null,f?/*#__PURE__*/a.default.createElement("span",null,f):null,i.map(e=>/*#__PURE__*/a.default.createElement(t.Fragment,{key:n+"-"+e.value},/*#__PURE__*/a.default.createElement("input",{type:"radio",name:n,id:n+"-"+e.value,value:e.value,checked:o===e.value,disabled:!!s,onChange:()=>{},onClick:t=>{"function"==typeof u&&u(e.value)}}),/*#__PURE__*/a.default.createElement("label",{htmlFor:n+"-"+e.value},e.text)," ")),d?/*#__PURE__*/a.default.createElement("span",null,d):null),p?/*#__PURE__*/a.default.createElement("div",null,p):null,c?y?y(c):/*#__PURE__*/a.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e}};e.Actions=e=>{let{config:t,handleActionClick:n,isDisabled:r}=e;/*#__PURE__*/return a.default.createElement(a.default.Fragment,null,t.map((e,t)=>/*#__PURE__*/a.default.createElement("button",{type:"button",onClick:()=>n(e.onClick,e.validate),key:"action-"+t,disabled:r},"primary"===e.type?/*#__PURE__*/a.default.createElement("strong",null,e.title):e.title)))},e.Form=ka,e.HashRouter=e=>{let{step:n,onChange:o,keys:i,prefix:a,hashFormat:c="#!"}=e;const[l,s]=r.useHash(),[f,d]=t.useState(!1),p=e=>i&&i[e]?i[e].key:a?a+"-"+e:e,y=()=>{if(-1!==l.indexOf(c)){const e=(e=>{const t=e.split(c);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):u.default(i,{key:e})}return-1})(l);-1!==e&&(s(""+c+p(e)),o(e))}else s(""+c+p(n))};return t.useEffect(()=>{f&&y()},[l]),t.useEffect(()=>{f&&s(""+c+p(n))},[n]),r.useMount(()=>{y(),d(!0)}),null},e.Navigation=e=>{let{currentStep:t,onChangeStep:n,lastValidStep:r,keys:o}=e;const i=[];for(let e=0;e<o.length;e++)if(o&&o[e]&&o[e].visible){const u=o&&o[e]?o[e].key:"Step "+(e+1);i.push(t===e?/*#__PURE__*/a.default.createElement("li",{key:u,style:{textTransform:"capitalize"}},/*#__PURE__*/a.default.createElement("strong",null,u)):/*#__PURE__*/a.default.createElement("li",r>-1&&r+1<e||-1===r&&e>0?{key:u,style:{color:"#999",textTransform:"capitalize"}}:{key:u,style:{textTransform:"capitalize"},onClick:()=>n(e)},u))}/*#__PURE__*/return a.default.createElement("ul",null,i)},e.Progression=e=>{let{stepCount:t,validSteps:n,percentage:r}=e;/*#__PURE__*/return a.default.createElement("div",null,n+" / "+t+" ("+Math.round(r)+"%)")},e.Stages=Er,e.plainFields=La});
//# sourceMappingURL=lib.umd.js.map

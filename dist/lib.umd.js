!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("json-beautify"),require("fast-json-stable-stringify")):"function"==typeof define&&define.amd?define(["exports","react","json-beautify","fast-json-stable-stringify"],t):t((e||self).reactStages={},e.react,e.jsonBeautify,e.fastJsonStableStringify)}(this,function(e,t,n,r){function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/i(t),a=/*#__PURE__*/i(n),c=/*#__PURE__*/i(r),s=Array.isArray,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(e){var t={exports:{}};return e(t,t.exports),t.exports}var f="object"==typeof l&&l&&l.Object===Object&&l,d="object"==typeof self&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),y=p.Symbol,g=Object.prototype,h=g.hasOwnProperty,v=g.toString,b=y?y.toStringTag:void 0,m=Object.prototype.toString,O=y?y.toStringTag:void 0,j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?function(e){var t=h.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var i=v.call(e);return r&&(t?e[b]=n:delete e[b]),i}(e):function(e){return m.call(e)}(e)},w=function(e){return null!=e&&"object"==typeof e},E=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==j(e)},S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,A=function(e,t){if(s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!E(e))||x.test(e)||!S.test(e)||null!=t&&e in Object(t)},_=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},C=function(e){if(!_(e))return!1;var t=j(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},k=p["__core-js_shared__"],D=function(){var e=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),F=Function.prototype.toString,R=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},T=/^\[object .+?Constructor\]$/,P=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_(e)||(t=e,D&&D in t))&&(C(e)?P:T).test(R(e));var t}(n)?n:void 0},V=I(Object,"create"),L=Object.prototype.hasOwnProperty,N=Object.prototype.hasOwnProperty;function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}z.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},z.prototype.get=function(e){var t=this.__data__;if(V){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return L.call(t,e)?t[e]:void 0},z.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:N.call(t,e)},z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=V&&void 0===t?"__lodash_hash_undefined__":t,this};var M=z,W=function(e,t){return e===t||e!=e&&t!=t},U=function(e,t){for(var n=e.length;n--;)if(W(e[n][0],t))return n;return-1},q=Array.prototype.splice;function B(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=function(){this.__data__=[],this.size=0},B.prototype.delete=function(e){var t=this.__data__,n=U(t,e);return!(n<0||(n==t.length-1?t.pop():q.call(t,n,1),--this.size,0))},B.prototype.get=function(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]},B.prototype.has=function(e){return U(this.__data__,e)>-1},B.prototype.set=function(e,t){var n=this.__data__,r=U(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var $=B,H=I(p,"Map"),G=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}J.prototype.clear=function(){this.size=0,this.__data__={hash:new M,map:new(H||$),string:new M}},J.prototype.delete=function(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return G(this,e).get(e)},J.prototype.has=function(e){return G(this,e).has(e)},J.prototype.set=function(e,t){var n=G(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var K=J;function Y(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Y.Cache||K),n}Y.Cache=K;var X,Q,Z,ee,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/\\(\\)?/g,re=(X=Y(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,function(e,n,r,i){t.push(r?i.replace(ne,"$1"):n||e)}),t},function(e){return 500===Q.size&&Q.clear(),e}),Q=X.cache,X),ie=re,oe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ae=y?y.prototype:void 0,ce=ae?ae.toString:void 0,se=function e(t){if("string"==typeof t)return t;if(s(t))return oe(t,e)+"";if(E(t))return ce?ce.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},le=function(e){return null==e?"":se(e)},ue=function(e,t){return s(e)?e:A(e,t)?[e]:ie(le(e))},fe=function(e){if("string"==typeof e||E(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},de=function(e,t){for(var n=0,r=(t=ue(t,e)).length;null!=e&&n<r;)e=e[fe(t[n++])];return n&&n==r?e:void 0},pe=function(e,t,n){var r=null==e?void 0:de(e,t);return void 0===r?n:r},ye=function(e){return e&&e.Math===Math&&e},ge=ye("object"==typeof globalThis&&globalThis)||ye("object"==typeof window&&window)||ye("object"==typeof self&&self)||ye("object"==typeof l&&l)||ye("object"==typeof l&&l)||function(){return this}()||Function("return this")(),he=function(e){try{return!!e()}catch(e){return!0}},ve=!he(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),be=!he(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),me=Function.prototype.call,Oe=be?me.bind(me):function(){return me.apply(me,arguments)},je={}.propertyIsEnumerable,we=Object.getOwnPropertyDescriptor,Ee=we&&!je.call({1:2},1)?function(e){var t=we(this,e);return!!t&&t.enumerable}:je,Se={f:Ee},xe=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ae=Function.prototype,_e=Ae.call,Ce=be&&Ae.bind.bind(_e,_e),ke=be?Ce:function(e){return function(){return _e.apply(e,arguments)}},De=ke({}.toString),Fe=ke("".slice),Re=function(e){return Fe(De(e),8,-1)},Te=Object,Pe=ke("".split),Ie=he(function(){return!Te("z").propertyIsEnumerable(0)})?function(e){return"String"===Re(e)?Pe(e,""):Te(e)}:Te,Ve=function(e){return null==e},Le=TypeError,Ne=function(e){if(Ve(e))throw new Le("Can't call method on "+e);return e},ze=function(e){return Ie(Ne(e))},Me="object"==typeof document&&document.all,We=void 0===Me&&void 0!==Me?function(e){return"function"==typeof e||e===Me}:function(e){return"function"==typeof e},Ue=function(e){return"object"==typeof e?null!==e:We(e)},qe=function(e,t){return arguments.length<2?We(n=ge[e])?n:void 0:ge[e]&&ge[e][t];var n},Be=ke({}.isPrototypeOf),$e="undefined"!=typeof navigator&&String(navigator.userAgent)||"",He=ge.process,Ge=ge.Deno,Je=He&&He.versions||Ge&&Ge.version,Ke=Je&&Je.v8;Ke&&(ee=(Z=Ke.split("."))[0]>0&&Z[0]<4?1:+(Z[0]+Z[1])),!ee&&$e&&(!(Z=$e.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=$e.match(/Chrome\/(\d+)/))&&(ee=+Z[1]);var Ye=ee,Xe=ge.String,Qe=!!Object.getOwnPropertySymbols&&!he(function(){var e=Symbol("symbol detection");return!Xe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ye&&Ye<41}),Ze=Qe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,et=Object,tt=Ze?function(e){return"symbol"==typeof e}:function(e){var t=qe("Symbol");return We(t)&&Be(t.prototype,et(e))},nt=String,rt=function(e){try{return nt(e)}catch(e){return"Object"}},it=TypeError,ot=function(e){if(We(e))return e;throw new it(rt(e)+" is not a function")},at=function(e,t){var n=e[t];return Ve(n)?void 0:ot(n)},ct=TypeError,st=Object.defineProperty,lt=function(e,t){try{st(ge,e,{value:t,configurable:!0,writable:!0})}catch(n){ge[e]=t}return t},ut="__core-js_shared__",ft=ge[ut]||lt(ut,{}),dt=u(function(e){(e.exports=function(e,t){return ft[e]||(ft[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),pt=Object,yt=function(e){return pt(Ne(e))},gt=ke({}.hasOwnProperty),ht=Object.hasOwn||function(e,t){return gt(yt(e),t)},vt=0,bt=Math.random(),mt=ke(1..toString),Ot=function(e){return"Symbol("+(void 0===e?"":e)+")_"+mt(++vt+bt,36)},jt=ge.Symbol,wt=dt("wks"),Et=Ze?jt.for||jt:jt&&jt.withoutSetter||Ot,St=function(e){return ht(wt,e)||(wt[e]=Qe&&ht(jt,e)?jt[e]:Et("Symbol."+e)),wt[e]},xt=TypeError,At=St("toPrimitive"),_t=function(e){var t=function(e,t){if(!Ue(e)||tt(e))return e;var n,r=at(e,At);if(r){if(void 0===t&&(t="default"),n=Oe(r,e,t),!Ue(n)||tt(n))return n;throw new xt("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&We(n=e.toString)&&!Ue(r=Oe(n,e)))return r;if(We(n=e.valueOf)&&!Ue(r=Oe(n,e)))return r;if("string"!==t&&We(n=e.toString)&&!Ue(r=Oe(n,e)))return r;throw new ct("Can't convert object to primitive value")}(e,t)}(e,"string");return tt(t)?t:t+""},Ct=ge.document,kt=Ue(Ct)&&Ue(Ct.createElement),Dt=function(e){return kt?Ct.createElement(e):{}},Ft=!ve&&!he(function(){return 7!==Object.defineProperty(Dt("div"),"a",{get:function(){return 7}}).a}),Rt=Object.getOwnPropertyDescriptor,Tt={f:ve?Rt:function(e,t){if(e=ze(e),t=_t(t),Ft)try{return Rt(e,t)}catch(e){}if(ht(e,t))return xe(!Oe(Se.f,e,t),e[t])}},Pt=ve&&he(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),It=String,Vt=TypeError,Lt=function(e){if(Ue(e))return e;throw new Vt(It(e)+" is not an object")},Nt=TypeError,zt=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,Wt="enumerable",Ut="configurable",qt="writable",Bt={f:ve?Pt?function(e,t,n){if(Lt(e),t=_t(t),Lt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&qt in n&&!n[qt]){var r=Mt(e,t);r&&r[qt]&&(e[t]=n.value,n={configurable:Ut in n?n[Ut]:r[Ut],enumerable:Wt in n?n[Wt]:r[Wt],writable:!1})}return zt(e,t,n)}:zt:function(e,t,n){if(Lt(e),t=_t(t),Lt(n),Ft)try{return zt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new Nt("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},$t=ve?function(e,t,n){return Bt.f(e,t,xe(1,n))}:function(e,t,n){return e[t]=n,e},Ht=Function.prototype,Gt=ve&&Object.getOwnPropertyDescriptor,Jt=ht(Ht,"name"),Kt={EXISTS:Jt,PROPER:Jt&&"something"===function(){}.name,CONFIGURABLE:Jt&&(!ve||ve&&Gt(Ht,"name").configurable)},Yt=ke(Function.toString);We(ft.inspectSource)||(ft.inspectSource=function(e){return Yt(e)});var Xt,Qt,Zt,en=ft.inspectSource,tn=ge.WeakMap,nn=We(tn)&&/native code/.test(String(tn)),rn=dt("keys"),on=function(e){return rn[e]||(rn[e]=Ot(e))},an={},cn="Object already initialized",sn=ge.TypeError;if(nn||ft.state){var ln=ft.state||(ft.state=new(0,ge.WeakMap));ln.get=ln.get,ln.has=ln.has,ln.set=ln.set,Xt=function(e,t){if(ln.has(e))throw new sn(cn);return t.facade=e,ln.set(e,t),t},Qt=function(e){return ln.get(e)||{}},Zt=function(e){return ln.has(e)}}else{var un=on("state");an[un]=!0,Xt=function(e,t){if(ht(e,un))throw new sn(cn);return t.facade=e,$t(e,un,t),t},Qt=function(e){return ht(e,un)?e[un]:{}},Zt=function(e){return ht(e,un)}}var fn={set:Xt,get:Qt,has:Zt,enforce:function(e){return Zt(e)?Qt(e):Xt(e,{})},getterFor:function(e){return function(t){var n;if(!Ue(t)||(n=Qt(t)).type!==e)throw new sn("Incompatible receiver, "+e+" required");return n}}},dn=u(function(e){var t=Kt.CONFIGURABLE,n=fn.enforce,r=fn.get,i=String,o=Object.defineProperty,a=ke("".slice),c=ke("".replace),s=ke([].join),l=ve&&!he(function(){return 8!==o(function(){},"length",{value:8}).length}),u=String(String).split("String"),f=e.exports=function(e,r,f){"Symbol("===a(i(r),0,7)&&(r="["+c(i(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),f&&f.getter&&(r="get "+r),f&&f.setter&&(r="set "+r),(!ht(e,"name")||t&&e.name!==r)&&(ve?o(e,"name",{value:r,configurable:!0}):e.name=r),l&&f&&ht(f,"arity")&&e.length!==f.arity&&o(e,"length",{value:f.arity});try{f&&ht(f,"constructor")&&f.constructor?ve&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var d=n(e);return ht(d,"source")||(d.source=s(u,"string"==typeof r?r:"")),e};Function.prototype.toString=f(function(){return We(this)&&r(this).source||en(this)},"toString")}),pn=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(We(n)&&dn(n,o,r),r.global)i?e[t]=n:lt(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:Bt.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},yn=Math.ceil,gn=Math.floor,hn=Math.trunc||function(e){var t=+e;return(t>0?gn:yn)(t)},vn=function(e){var t=+e;return t!=t||0===t?0:hn(t)},bn=Math.max,mn=Math.min,On=Math.min,jn=function(e){var t=vn(e);return t>0?On(t,9007199254740991):0},wn=function(e){return jn(e.length)},En=function(e){return function(t,n,r){var i,o=ze(t),a=wn(o),c=function(e,t){var n=vn(e);return n<0?bn(n+t,0):mn(n,t)}(r,a);if(e&&n!=n){for(;a>c;)if((i=o[c++])!=i)return!0}else for(;a>c;c++)if((e||c in o)&&o[c]===n)return e||c||0;return!e&&-1}},Sn={includes:En(!0),indexOf:En(!1)},xn=Sn.indexOf,An=ke([].push),_n=function(e,t){var n,r=ze(e),i=0,o=[];for(n in r)!ht(an,n)&&ht(r,n)&&An(o,n);for(;t.length>i;)ht(r,n=t[i++])&&(~xn(o,n)||An(o,n));return o},Cn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kn=Cn.concat("length","prototype"),Dn={f:Object.getOwnPropertyNames||function(e){return _n(e,kn)}},Fn={f:Object.getOwnPropertySymbols},Rn=ke([].concat),Tn=qe("Reflect","ownKeys")||function(e){var t=Dn.f(Lt(e)),n=Fn.f;return n?Rn(t,n(e)):t},Pn=function(e,t,n){for(var r=Tn(t),i=Bt.f,o=Tt.f,a=0;a<r.length;a++){var c=r[a];ht(e,c)||n&&ht(n,c)||i(e,c,o(t,c))}},In=/#|\.prototype\./,Vn=function(e,t){var n=Nn[Ln(e)];return n===Mn||n!==zn&&(We(t)?he(t):!!t)},Ln=Vn.normalize=function(e){return String(e).replace(In,".").toLowerCase()},Nn=Vn.data={},zn=Vn.NATIVE="N",Mn=Vn.POLYFILL="P",Wn=Vn,Un=Tt.f,qn=function(e,t){var n,r,i,o,a,c=e.target,s=e.global,l=e.stat;if(n=s?ge:l?ge[c]||lt(c,{}):ge[c]&&ge[c].prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=Un(n,r))&&a.value:n[r],!Wn(s?r:c+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Pn(o,i)}(e.sham||i&&i.sham)&&$t(o,"sham",!0),pn(n,r,o,e)}},Bn=Object.keys||function(e){return _n(e,Cn)},$n=Object.assign,Hn=Object.defineProperty,Gn=ke([].concat),Jn=!$n||he(function(){if(ve&&1!==$n({b:1},$n(Hn({},"a",{enumerable:!0,get:function(){Hn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==$n({},e)[n]||Bn($n({},t)).join("")!==r})?function(e,t){for(var n=yt(e),r=arguments.length,i=1,o=Fn.f,a=Se.f;r>i;)for(var c,s=Ie(arguments[i++]),l=o?Gn(Bn(s),o(s)):Bn(s),u=l.length,f=0;u>f;)c=l[f++],ve&&!Oe(a,s,c)||(n[c]=s[c]);return n}:$n;qn({target:"Object",stat:!0,arity:2,forced:Object.assign!==Jn},{assign:Jn});var Kn,Yn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Xn=Dt("span").classList,Qn=Xn&&Xn.constructor&&Xn.constructor.prototype,Zn=Qn===Object.prototype?void 0:Qn,er=ve&&!Pt?Object.defineProperties:function(e,t){Lt(e);for(var n,r=ze(t),i=Bn(t),o=i.length,a=0;o>a;)Bt.f(e,n=i[a++],r[n]);return e},tr={f:er},nr=qe("document","documentElement"),rr="prototype",ir="script",or=on("IE_PROTO"),ar=function(){},cr=function(e){return"<"+ir+">"+e+"</"+ir+">"},sr=function(e){e.write(cr("")),e.close();var t=e.parentWindow.Object;return e=null,t},lr=function(){try{Kn=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;lr="undefined"!=typeof document?document.domain&&Kn?sr(Kn):(t=Dt("iframe"),n="java"+ir+":",t.style.display="none",nr.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(cr("document.F=Object")),e.close(),e.F):sr(Kn);for(var r=Cn.length;r--;)delete lr[rr][Cn[r]];return lr()};an[or]=!0;var ur=Object.create||function(e,t){var n;return null!==e?(ar[rr]=Lt(e),n=new ar,ar[rr]=null,n[or]=e):n=lr(),void 0===t?n:tr.f(n,t)},fr=Bt.f,dr=St("unscopables"),pr=Array.prototype;void 0===pr[dr]&&fr(pr,dr,{configurable:!0,value:ur(null)});var yr,gr,hr,vr=function(e){pr[dr][e]=!0},br={},mr=!he(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Or=on("IE_PROTO"),jr=Object,wr=jr.prototype,Er=mr?jr.getPrototypeOf:function(e){var t=yt(e);if(ht(t,Or))return t[Or];var n=t.constructor;return We(n)&&t instanceof n?n.prototype:t instanceof jr?wr:null},Sr=St("iterator"),xr=!1;[].keys&&("next"in(hr=[].keys())?(gr=Er(Er(hr)))!==Object.prototype&&(yr=gr):xr=!0);var Ar=!Ue(yr)||he(function(){var e={};return yr[Sr].call(e)!==e});Ar&&(yr={}),We(yr[Sr])||pn(yr,Sr,function(){return this});var _r={IteratorPrototype:yr,BUGGY_SAFARI_ITERATORS:xr},Cr=Bt.f,kr=St("toStringTag"),Dr=function(e,t,n){e&&!n&&(e=e.prototype),e&&!ht(e,kr)&&Cr(e,kr,{configurable:!0,value:t})},Fr=_r.IteratorPrototype,Rr=function(){return this},Tr=String,Pr=TypeError,Ir=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=function(e,t,n){try{return ke(ot(Object.getOwnPropertyDescriptor(e,"__proto__").set))}catch(e){}}(Object.prototype))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Lt(n),function(e){if(function(e){return Ue(e)||null===e}(e))return e;throw new Pr("Can't set "+Tr(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Vr=Kt.PROPER,Lr=Kt.CONFIGURABLE,Nr=_r.IteratorPrototype,zr=_r.BUGGY_SAFARI_ITERATORS,Mr=St("iterator"),Wr="keys",Ur="values",qr="entries",Br=function(){return this},$r=function(e,t){return{value:e,done:t}},Hr=Bt.f,Gr="Array Iterator",Jr=fn.set,Kr=fn.getterFor(Gr),Yr=function(e,t,n,r,i,o,a){!function(e,t,n,r){var i=t+" Iterator";e.prototype=ur(Fr,{next:xe(1,function(){var e=Kr(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,$r(void 0,!0);switch(e.kind){case"keys":return $r(n,!1);case"values":return $r(t[n],!1)}return $r([n,t[n]],!1)})}),Dr(e,i,!1),br[i]=Rr}(n,t);var c,s,l,u=function(e){if(e===i&&g)return g;if(!zr&&e&&e in p)return p[e];switch(e){case Wr:case Ur:case qr:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,y=p[Mr]||p["@@iterator"]||i&&p[i],g=!zr&&y||u(i),h=p.entries||y;if(h&&(c=Er(h.call(new e)))!==Object.prototype&&c.next&&(Er(c)!==Nr&&(Ir?Ir(c,Nr):We(c[Mr])||pn(c,Mr,Br)),Dr(c,f,!0)),Vr&&y&&y.name!==Ur&&(Lr?$t(p,"name",Ur):(d=!0,g=function(){return Oe(y,this)})),i)if(void(s={values:u(Ur),keys:u(Wr),entries:u(qr)}))for(l in s)(zr||d||!(l in p))&&pn(p,l,s[l]);else qn({target:t,proto:!0,forced:zr||d},s);return p[Mr]!==g&&pn(p,Mr,g,{name:i}),br[t]=g,s}(Array,"Array",function(e,t){Jr(this,{type:Gr,target:ze(e),index:0,kind:t})},0,"values"),Xr=br.Arguments=br.Array;if(vr("keys"),vr("values"),vr("entries"),ve&&"values"!==Xr.name)try{Hr(Xr,"name",{value:"values"})}catch(e){}var Qr=St("iterator"),Zr=Yr.values,ei=function(e,t){if(e){if(e[Qr]!==Zr)try{$t(e,Qr,Zr)}catch(t){e[Qr]=Zr}if(Dr(e,t,!0),Yn[t])for(var n in Yr)if(e[n]!==Yr[n])try{$t(e,n,Yr[n])}catch(t){e[n]=Yr[n]}}};for(var ti in Yn)ei(ge[ti]&&ge[ti].prototype,ti);ei(Zn,"DOMTokenList");var ni="function"==typeof Symbol&&Symbol.for,ri=ni?Symbol.for("react.element"):60103,ii=ni?Symbol.for("react.portal"):60106,oi=ni?Symbol.for("react.fragment"):60107,ai=ni?Symbol.for("react.strict_mode"):60108,ci=ni?Symbol.for("react.profiler"):60114,si=ni?Symbol.for("react.provider"):60109,li=ni?Symbol.for("react.context"):60110,ui=ni?Symbol.for("react.async_mode"):60111,fi=ni?Symbol.for("react.concurrent_mode"):60111,di=ni?Symbol.for("react.forward_ref"):60112,pi=ni?Symbol.for("react.suspense"):60113,yi=ni?Symbol.for("react.suspense_list"):60120,gi=ni?Symbol.for("react.memo"):60115,hi=ni?Symbol.for("react.lazy"):60116,vi=ni?Symbol.for("react.block"):60121,bi=ni?Symbol.for("react.fundamental"):60117,mi=ni?Symbol.for("react.responder"):60118,Oi=ni?Symbol.for("react.scope"):60119;function ji(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ri:switch(e=e.type){case ui:case fi:case oi:case ci:case ai:case pi:return e;default:switch(e=e&&e.$$typeof){case li:case di:case hi:case gi:case si:return e;default:return t}}case ii:return t}}}function wi(e){return ji(e)===fi}var Ei={AsyncMode:ui,ConcurrentMode:fi,ContextConsumer:li,ContextProvider:si,Element:ri,ForwardRef:di,Fragment:oi,Lazy:hi,Memo:gi,Portal:ii,Profiler:ci,StrictMode:ai,Suspense:pi,isAsyncMode:function(e){return wi(e)||ji(e)===ui},isConcurrentMode:wi,isContextConsumer:function(e){return ji(e)===li},isContextProvider:function(e){return ji(e)===si},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ri},isForwardRef:function(e){return ji(e)===di},isFragment:function(e){return ji(e)===oi},isLazy:function(e){return ji(e)===hi},isMemo:function(e){return ji(e)===gi},isPortal:function(e){return ji(e)===ii},isProfiler:function(e){return ji(e)===ci},isStrictMode:function(e){return ji(e)===ai},isSuspense:function(e){return ji(e)===pi},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===oi||e===fi||e===ci||e===ai||e===pi||e===yi||"object"==typeof e&&null!==e&&(e.$$typeof===hi||e.$$typeof===gi||e.$$typeof===si||e.$$typeof===li||e.$$typeof===di||e.$$typeof===bi||e.$$typeof===mi||e.$$typeof===Oi||e.$$typeof===vi)},typeOf:ji};function Si(){}function xi(){}u(function(e,t){}),u(function(e){e.exports=Ei}),xi.resetWarningCache=Si;var Ai=u(function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xi,resetWarningCache:Si};return n.PropTypes=n,n}()}),_i=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};function Ci(e){var t=this.__data__=new $(e);this.size=t.size}Ci.prototype.clear=function(){this.__data__=new $,this.size=0},Ci.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ci.prototype.get=function(e){return this.__data__.get(e)},Ci.prototype.has=function(e){return this.__data__.has(e)},Ci.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};var ki=Ci;function Di(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new K;++t<n;)this.add(e[t])}Di.prototype.add=Di.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Di.prototype.has=function(e){return this.__data__.has(e)};var Fi=Di,Ri=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ti=function(e,t){return e.has(t)},Pi=function(e,t,n,r,i,o){var a=1&n,c=e.length,s=t.length;if(c!=s&&!(a&&s>c))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var f=-1,d=!0,p=2&n?new Fi:void 0;for(o.set(e,t),o.set(t,e);++f<c;){var y=e[f],g=t[f];if(r)var h=a?r(g,y,f,t,e,o):r(y,g,f,e,t,o);if(void 0!==h){if(h)continue;d=!1;break}if(p){if(!Ri(t,function(e,t){if(!Ti(p,t)&&(y===e||i(y,e,n,r,o)))return p.push(t)})){d=!1;break}}else if(y!==g&&!i(y,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},Ii=p.Uint8Array,Vi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Li=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Ni=y?y.prototype:void 0,zi=Ni?Ni.valueOf:void 0,Mi=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Wi=Object.prototype.propertyIsEnumerable,Ui=Object.getOwnPropertySymbols,qi=Ui?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,i=null==t?0:t.length,o=0,a=[];++r<i;){var c=t[r];Wi.call(e,c)&&(a[o++]=c)}return a}(Ui(e)))}:function(){return[]},Bi=function(e){return w(e)&&"[object Arguments]"==j(e)},$i=Object.prototype,Hi=$i.hasOwnProperty,Gi=$i.propertyIsEnumerable,Ji=Bi(function(){return arguments}())?Bi:function(e){return w(e)&&Hi.call(e,"callee")&&!Gi.call(e,"callee")},Ki=Ji,Yi=function(){return!1},Xi=u(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?p.Buffer:void 0;e.exports=(i?i.isBuffer:void 0)||Yi}),Qi=/^(?:0|[1-9]\d*)$/,Zi=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qi.test(e))&&e>-1&&e%1==0&&e<t},eo=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},to={};to["[object Float32Array]"]=to["[object Float64Array]"]=to["[object Int8Array]"]=to["[object Int16Array]"]=to["[object Int32Array]"]=to["[object Uint8Array]"]=to["[object Uint8ClampedArray]"]=to["[object Uint16Array]"]=to["[object Uint32Array]"]=!0,to["[object Arguments]"]=to["[object Array]"]=to["[object ArrayBuffer]"]=to["[object Boolean]"]=to["[object DataView]"]=to["[object Date]"]=to["[object Error]"]=to["[object Function]"]=to["[object Map]"]=to["[object Number]"]=to["[object Object]"]=to["[object RegExp]"]=to["[object Set]"]=to["[object String]"]=to["[object WeakMap]"]=!1;var no=function(e){return function(t){return e(t)}},ro=u(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&f.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}),io=ro&&ro.isTypedArray,oo=io?no(io):function(e){return w(e)&&eo(e.length)&&!!to[j(e)]},ao=Object.prototype.hasOwnProperty,co=function(e,t){var n=s(e),r=!n&&Ki(e),i=!n&&!r&&Xi(e),o=!n&&!r&&!i&&oo(e),a=n||r||i||o,c=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=c.length;for(var u in e)!t&&!ao.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Zi(u,l))||c.push(u);return c},so=Object.prototype,lo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||so)},uo=function(e,t){return function(n){return e(t(n))}},fo=uo(Object.keys,Object),po=Object.prototype.hasOwnProperty,yo=function(e){return null!=e&&eo(e.length)&&!C(e)},go=function(e){return yo(e)?co(e):function(e){if(!lo(e))return fo(e);var t=[];for(var n in Object(e))po.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},ho=function(e){return function(e,t,n){var r=t(e);return s(e)?r:Mi(r,n(e))}(e,go,qi)},vo=Object.prototype.hasOwnProperty,bo=I(p,"DataView"),mo=I(p,"Promise"),Oo=I(p,"Set"),jo=I(p,"WeakMap"),wo="[object Map]",Eo="[object Promise]",So="[object Set]",xo="[object WeakMap]",Ao="[object DataView]",_o=R(bo),Co=R(H),ko=R(mo),Do=R(Oo),Fo=R(jo),Ro=j;(bo&&Ro(new bo(new ArrayBuffer(1)))!=Ao||H&&Ro(new H)!=wo||mo&&Ro(mo.resolve())!=Eo||Oo&&Ro(new Oo)!=So||jo&&Ro(new jo)!=xo)&&(Ro=function(e){var t=j(e),n="[object Object]"==t?e.constructor:void 0,r=n?R(n):"";if(r)switch(r){case _o:return Ao;case Co:return wo;case ko:return Eo;case Do:return So;case Fo:return xo}return t});var To=Ro,Po="[object Arguments]",Io="[object Array]",Vo="[object Object]",Lo=Object.prototype.hasOwnProperty,No=function e(t,n,r,i,o){return t===n||(null==t||null==n||!w(t)&&!w(n)?t!=t&&n!=n:function(e,t,n,r,i,o){var a=s(e),c=s(t),l=a?Io:To(e),u=c?Io:To(t),f=(l=l==Po?Vo:l)==Vo,d=(u=u==Po?Vo:u)==Vo,p=l==u;if(p&&Xi(e)){if(!Xi(t))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new ki),a||oo(e)?Pi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ii(e),new Ii(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return W(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Vi;case"[object Set]":if(c||(c=Li),e.size!=t.size&&!(1&r))return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var l=Pi(c(e),c(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(zi)return zi.call(e)==zi.call(t)}return!1}(e,t,l,n,r,i,o);if(!(1&n)){var y=f&&Lo.call(e,"__wrapped__"),g=d&&Lo.call(t,"__wrapped__");if(y||g){var h=y?e.value():e,v=g?t.value():t;return o||(o=new ki),i(h,v,n,r,o)}}return!!p&&(o||(o=new ki),function(e,t,n,r,i,o){var a=1&n,c=ho(e),s=c.length;if(s!=ho(t).length&&!a)return!1;for(var l=s;l--;){var u=c[l];if(!(a?u in t:vo.call(t,u)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var y=a;++l<s;){var g=e[u=c[l]],h=t[u];if(r)var v=a?r(h,g,u,t,e,o):r(g,h,u,e,t,o);if(!(void 0===v?g===h||i(g,h,n,r,o):v)){p=!1;break}y||(y="constructor"==u)}if(p&&!y){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))}(t,n,r,i,e,o))},zo=function(e){return e==e&&!_(e)},Mo=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Wo=function(e,t){return null!=e&&t in Object(e)},Uo=function(e){return e},qo=function(e){return"function"==typeof e?e:null==e?Uo:"object"==typeof e?s(e)?(i=e[1],A(r=e[0])&&zo(i)?Mo(fe(r),i):function(e){var t=pe(e,r);return void 0===t&&t===i?function(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=ue(t,e)).length,o=!1;++r<i;){var a=fe(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&eo(i)&&Zi(a,i)&&(s(e)||Ki(e))}(e,t,Wo)}(e,r):No(i,t,3)}):(n=function(e){for(var t=go(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zo(i)]}return t}(t=e),1==n.length&&n[0][2]?Mo(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,r){var i=n.length,o=i;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],s=e[c],l=a[1];if(a[2]){if(void 0===s&&!(c in e))return!1}else{var u=new ki;if(!No(l,s,3,void 0,u))return!1}}return!0}(e,0,n)}):function(e){return A(e)?(t=fe(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return de(t,e)}}(e);var t}(e);var t,n,r,i},Bo=/\s/,$o=/^\s+/,Ho=/^[-+]0x[0-9a-f]+$/i,Go=/^0b[01]+$/i,Jo=/^0o[0-7]+$/i,Ko=parseInt,Yo=Math.max,Xo=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=function(e){return e?Infinity===(e=function(e){if("number"==typeof e)return e;if(E(e))return NaN;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;var n;e=(n=e)?n.slice(0,function(e){for(var t=e.length;t--&&Bo.test(e.charAt(t)););return t}(n)+1).replace($o,""):n;var r=Go.test(e);return r||Jo.test(e)?Ko(e.slice(2),r?2:8):Ho.test(e)?NaN:+e}(e))||-Infinity===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=Yo(r+i,0)),_i(e,qo(t),i)},Qo=Function.prototype,Zo=Qo.apply,ea=Qo.call,ta="object"==typeof Reflect&&Reflect.apply||(be?ea.bind(Zo):function(){return ea.apply(Zo,arguments)}),na=ke([].slice),ra=Array.isArray||function(e){return"Array"===Re(e)},ia={};ia[St("toStringTag")]="z";var oa="[object z]"===String(ia),aa=St("toStringTag"),ca=Object,sa="Arguments"===Re(function(){return arguments}()),la=oa?Re:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=ca(e),aa))?n:sa?Re(t):"Object"===(r=Re(t))&&We(t.callee)?"Arguments":r},ua=String,fa=function(e){if("Symbol"===la(e))throw new TypeError("Cannot convert a Symbol value to a string");return ua(e)},da=ke([].push),pa=String,ya=qe("JSON","stringify"),ga=ke(/./.exec),ha=ke("".charAt),va=ke("".charCodeAt),ba=ke("".replace),ma=ke(1..toString),Oa=/[\uD800-\uDFFF]/g,ja=/^[\uD800-\uDBFF]$/,wa=/^[\uDC00-\uDFFF]$/,Ea=!Qe||he(function(){var e=qe("Symbol")("stringify detection");return"[null]"!==ya([e])||"{}"!==ya({a:e})||"{}"!==ya(Object(e))}),Sa=he(function(){return'"\\udf06\\ud834"'!==ya("\udf06\ud834")||'"\\udead"'!==ya("\udead")}),xa=function(e,t){var n=na(arguments),r=function(e){if(We(e))return e;if(ra(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?da(n,i):"number"!=typeof i&&"Number"!==Re(i)&&"String"!==Re(i)||da(n,fa(i))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(ra(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}}(t);if(We(r)||void 0!==e&&!tt(e))return n[1]=function(e,t){if(We(r)&&(t=Oe(r,this,pa(e),t)),!tt(t))return t},ta(ya,null,n)},Aa=function(e,t,n){var r=ha(n,t-1),i=ha(n,t+1);return ga(ja,e)&&!ga(wa,i)||ga(wa,e)&&!ga(ja,r)?"\\u"+ma(va(e,0),16):e};ya&&qn({target:"JSON",stat:!0,arity:3,forced:Ea||Sa},{stringify:function(e,t,n){var r=na(arguments),i=ta(Ea?xa:ya,null,r);return Sa&&"string"==typeof i?ba(i,Oa,Aa):i}});const _a=function(e,t,n){if(void 0===n&&(n="stages-form-"),"local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage){const t=localStorage.getItem(""+n+e)||"{}";let r={};try{r=JSON.parse(t)}catch(e){}return r}return{}},Ca=function(e,t,n,r){if(void 0===t&&(t={}),void 0===r&&(r="stages-form-"),("local"===n&&"undefined"!=typeof localStorage||"session"===n&&"undefined"!=typeof sessionStorage)&&"object"==typeof t){let n="{}";try{n=JSON.stringify(t)}catch(e){}localStorage.setItem(""+r+e,n)}},ka=function(e,t,n){void 0===n&&(n="stages-form-"),("local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage)&&localStorage.removeItem(""+n+e)};var Da=function(){var e=Lt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Fa=RegExp.prototype,Ra=function(e){var t=e.flags;return void 0!==t||"flags"in Fa||ht(e,"flags")||!Be(Fa,e)?t:Oe(Da,e)},Ta=Kt.PROPER,Pa="toString",Ia=RegExp.prototype,Va=Ia[Pa];(he(function(){return"/a/b"!==Va.call({source:"a",flags:"b"})})||Ta&&Va.name!==Pa)&&pn(Ia,Pa,function(){var e=Lt(this);return"/"+fa(e.source)+"/"+fa(Ra(e))},{unsafe:!0});const La=()=>"undefined"!=typeof window&&"function"==typeof window.stagesLogging,Na=e=>{let{children:n,initialData:r,initialStep:i,render:o,validateOnStepChange:a,onChange:c,autoSave:s,id:l}=e;const[u]=t.useState("stages-"+(l||+new Date)),[f,d]=t.useState((()=>{if(!l||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)){if(l&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get){const e=s.get(l);if(Object.keys(e).length>0)return e}}else{const e=_a(l,"object"==typeof s?s.type:s);if(Object.keys(e).length>0)return e}return r})()),[p,y]=t.useState([]),[g,h]=t.useState({}),[v,b]=t.useState(i||0),[m,O]=t.useState([]),j=e=>{const t=m&&m[e]?m[e].key:e;return f&&f[t]?f[t]:{}},w=(e,t)=>(m[t]||(m[t]={key:e,visible:!0},O([...m])),e),E=(e,t,n)=>{const r=Object.assign({},f),i=m&&m[n]?m[n].key:n;La()&&window.stagesLogging('Handle onChange for "'+i+'"',u),g[n]=t,h(Object.assign({},g)),r[i]=e,f[i]=e,d(Object.assign({},r)),"function"==typeof c&&c({data:r,errors:g}),l&&("local"===s||"session"===s?0===Object.keys(g).length&&Ca(l,r,s):"object"!=typeof s||"local"!==s.type&&"session"!==s.type?l&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.save&&(s.validDataOnly&&0===Object.keys(g).length||!s.validDataOnly)&&s.save(l,r):(s.validDataOnly&&0===Object.keys(g).length||!s.validDataOnly)&&Ca(l,r,s.type))},S=()=>{l&&("local"!==s&&"session"!==s||ka(l,s),"object"!=typeof s||"local"!==s.type&&"session"!==s.type||ka(l,s.type),l&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.remove&&s.remove(l)),d(r),b(0),"function"==typeof c&&c({data:r,errors:g})};t.useEffect(()=>{La()&&(!l||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)?l&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get?window.stagesLogging({id:u,keys:m,data:f,initialData:r,initialStep:i,errors:g,currentStep:v,savedData:s.get(l)}):window.stagesLogging({id:u,keys:m,data:f,initialData:r,initialStep:i,errors:g,currentStep:v,savedData:{}}):window.stagesLogging({id:u,keys:m,data:f,initialData:r,initialStep:i,errors:g,currentStep:v,savedData:_a(l,"object"==typeof s?s.type:s)}))},[m,f,g,v]),t.useEffect(()=>{La()&&window.stagesLogging("Init Stages",u),n.map((e,t)=>e({index:t,setStepKey:w,initializing:!0})).filter(e=>e)},[]),t.useEffect(()=>{if(a){const e=A();e<v&&b(-1===e?0:e+1)}y(n.map((e,t)=>e({data:j(t),allData:f,onChange:E,reset:S,onNav:x,isActive:t===v,index:t,errors:g[t]||{},setStepKey:w})).filter((e,t)=>{const n=null!==e;return m[t]&&(m[t].visible=n),n}))},[v,f]);const x=(e,t)=>{let n=v;if(La()&&window.stagesLogging('On nav "'+e+'" -> "'+t+'"',u),"next"===e){let e=!1;for(let t=v+1;t<m.length;t++)m[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=v-1;t>=0;t--)m[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<m.length;t++)m[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=m.length-1;t>=0;t--)m[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=A()),"step"===e&&m[t]&&m[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=Xo(m,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>m.length&&(n=m.length),b(n)},A=()=>{let e=-1,t=!1;return Object.keys(g).forEach(n=>{const r=Xo(m,{key:n});(0===Object.keys(g[n]).length||r>-1&&!m[r].visible)&&!t?e=Number(n):t=!0}),e};return 0===p.length?null:o?o({navigationProps:{currentStep:v,data:f,onChangeStep:e=>{const t=A();La()&&window.stagesLogging('On change step "'+e+'"',u),("number"==typeof t&&"number"==typeof e&&t+1>=e||!1===a)&&b(e)},errors:g,keys:m,stepCount:p.length,lastValidStep:A(),reset:S},progressionProps:(()=>{const e=p.length,t=A();let n=0;return Object.keys(g).forEach((e,r)=>{const i=j(r);r<=t&&0===Object.keys(g[r]).length&&Object.keys(i).length>0&&n++}),{currentStep:v,stepCount:e,validSteps:n,percentage:100/e*n,data:f,errors:g}})(),routerProps:{step:v,onChange:b,keys:m},steps:n.map((e,t)=>e({data:j(t),allData:f,onChange:E,reset:S,onNav:x,isActive:t===v,index:t,errors:g[t]||{},setStepKey:w})).filter((e,t)=>{const n=null!==e;return m[t]&&(m[t].visible=n),n})}):null};Na.propTypes={children:Ai.arrayOf(Ai.oneOfType([Ai.node,Ai.func])).isRequired,initialData:Ai.object,render:Ai.oneOfType([Ai.node,Ai.func]).isRequired,initialStep:Ai.number,validateOnStepChange:Ai.bool,id:Ai.oneOfType([Ai.string,Ai.number])},Na.defaultProps={initialData:{},validateOnStepChange:!0,autoSave:!1};var za=ge.RegExp,Ma=he(function(){var e=za("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),Wa=Ma||he(function(){return!za("a","y").sticky}),Ua=Ma||he(function(){var e=za("^r","gy");return e.lastIndex=2,null!==e.exec("str")}),qa={BROKEN_CARET:Ua,MISSED_STICKY:Wa,UNSUPPORTED_Y:Ma},Ba=ge.RegExp,$a=he(function(){var e=Ba(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),Ha=ge.RegExp,Ga=he(function(){var e=Ha("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Ja=fn.get,Ka=dt("native-string-replace",String.prototype.replace),Ya=RegExp.prototype.exec,Xa=Ya,Qa=ke("".charAt),Za=ke("".indexOf),ec=ke("".replace),tc=ke("".slice),nc=function(){var e=/a/,t=/b*/g;return Oe(Ya,e,"a"),Oe(Ya,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),rc=qa.BROKEN_CARET,ic=void 0!==/()??/.exec("")[1];(nc||ic||rc||$a||Ga)&&(Xa=function(e){var t,n,r,i,o,a,c,s=this,l=Ja(s),u=fa(e),f=l.raw;if(f)return f.lastIndex=s.lastIndex,t=Oe(Xa,f,u),s.lastIndex=f.lastIndex,t;var d=l.groups,p=rc&&s.sticky,y=Oe(Da,s),g=s.source,h=0,v=u;if(p&&(y=ec(y,"y",""),-1===Za(y,"g")&&(y+="g"),v=tc(u,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==Qa(u,s.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,h++),n=new RegExp("^(?:"+g+")",y)),ic&&(n=new RegExp("^"+g+"$(?!\\s)",y)),nc&&(r=s.lastIndex),i=Oe(Ya,p?n:s,v),p?i?(i.input=tc(i.input,h),i[0]=tc(i[0],h),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:nc&&i&&(s.lastIndex=s.global?i.index+i[0].length:r),ic&&i&&i.length>1&&Oe(Ka,i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&d)for(i.groups=a=ur(null),o=0;o<d.length;o++)a[(c=d[o])[0]]=i[c[1]];return i});var oc=Xa;qn({target:"RegExp",proto:!0,forced:/./.exec!==oc},{exec:oc});var ac=St("species"),cc=RegExp.prototype,sc=function(){},lc=qe("Reflect","construct"),uc=/^\s*(?:class|function)\b/,fc=ke(uc.exec),dc=!uc.test(sc),pc=function(e){if(!We(e))return!1;try{return lc(sc,[],e),!0}catch(e){return!1}},yc=function(e){if(!We(e))return!1;switch(la(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return dc||!!fc(uc,en(e))}catch(e){return!0}};yc.sham=!0;var gc=!lc||he(function(){var e;return pc(pc.call)||!pc(Object)||!pc(function(){e=!0})||e})?yc:pc,hc=TypeError,vc=St("species"),bc=function(e,t){var n,r=Lt(e).constructor;return void 0===r||Ve(n=Lt(r)[vc])?t:function(e){if(gc(e))return e;throw new hc(rt(e)+" is not a constructor")}(n)},mc=ke("".charAt),Oc=ke("".charCodeAt),jc=ke("".slice),wc=function(e){return function(t,n){var r,i,o=fa(Ne(t)),a=vn(n),c=o.length;return a<0||a>=c?e?"":void 0:(r=Oc(o,a))<55296||r>56319||a+1===c||(i=Oc(o,a+1))<56320||i>57343?e?mc(o,a):r:e?jc(o,a,a+2):i-56320+(r-55296<<10)+65536}},Ec=(wc(!1),wc(!0)),Sc=function(e,t,n){return t+(n?Ec(e,t).length:1)},xc=TypeError,Ac=function(e,t){var n=e.exec;if(We(n)){var r=Oe(n,e,t);return null!==r&&Lt(r),r}if("RegExp"===Re(e))return Oe(oc,e,t);throw new xc("RegExp#exec called on incompatible receiver")},_c=qa.UNSUPPORTED_Y,Cc=Math.min,kc=ke([].push),Dc=ke("".slice),Fc=!he(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Rc="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;!function(e,t,n,r){var i,o,a,c,s=St(e),l=!he(function(){var t={};return t[s]=function(){return 7},7!==""[e](t)}),u=l&&!he(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[ac]=function(){return t},t.flags="",t[s]=/./[s],t.exec=function(){return e=!0,null},t[s](""),!e});if(!l||!u||n){var f=/./[s],d=(i=s,o=""[e],a=function(e,t,n,r,i){var o=t.exec;return o===oc||o===cc.exec?l&&!i?{done:!0,value:Oe(f,t,n,r)}:{done:!0,value:Oe(e,n,t,r)}:{done:!1}},c="0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:Oe(o,this,e,t)}:o,[function(e,t){var n=Ne(this),r=Ve(e)?void 0:at(e,i);return r?Oe(r,e,n,t):Oe(c,fa(n),e,t)},function(e,t){var n=Lt(this),r=fa(e);if(!Rc){var i=a(c,n,r,t,c!==o);if(i.done)return i.value}var s=bc(n,RegExp),l=n.unicode,u=new s(_c?"^(?:"+n.source+")":n,(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(_c?"g":"y")),f=void 0===t?4294967295:t>>>0;if(0===f)return[];if(0===r.length)return null===Ac(u,r)?[r]:[];for(var d=0,p=0,y=[];p<r.length;){u.lastIndex=_c?0:p;var g,h=Ac(u,_c?Dc(r,p):r);if(null===h||(g=Cc(jn(u.lastIndex+(_c?p:0)),r.length))===d)p=Sc(r,p,l);else{if(kc(y,Dc(r,d,p)),y.length===f)return y;for(var v=1;v<=h.length-1;v++)if(kc(y,h[v]),y.length===f)return y;p=d=g}}return kc(y,Dc(r,d)),y}]);pn(String.prototype,e,d[0]),pn(cc,s,d[1])}r&&$t(cc[s],"sham",!0)}("split",0,Rc||!Fc,_c);var Tc=Sn.includes,Pc=he(function(){return!Array(1).includes()});qn({target:"Array",proto:!0,forced:Pc},{includes:function(e){return Tc(this,e,arguments.length>1?arguments[1]:void 0)}}),vr("includes");var Ic=ke([].reverse),Vc=[1,2];qn({target:"Array",proto:!0,forced:String(Vc)===String(Vc.reverse())},{reverse:function(){return ra(this)&&(this.length=this.length),Ic(this)}});var Lc=TypeError,Nc=function(e,t){if(!delete e[t])throw new Lc("Cannot delete property "+rt(t)+" of "+rt(e))},zc=Math.floor,Mc=function(e,t){var n=e.length;if(n<8)for(var r,i,o=1;o<n;){for(i=o,r=e[o];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==o++&&(e[i]=r)}else for(var a=zc(n/2),c=Mc(na(e,0,a),t),s=Mc(na(e,a),t),l=c.length,u=s.length,f=0,d=0;f<l||d<u;)e[f+d]=f<l&&d<u?t(c[f],s[d])<=0?c[f++]:s[d++]:f<l?c[f++]:s[d++];return e},Wc=Mc,Uc=$e.match(/firefox\/(\d+)/i),qc=!!Uc&&+Uc[1],Bc=/MSIE|Trident/.test($e),$c=$e.match(/AppleWebKit\/(\d+)\./),Hc=!!$c&&+$c[1],Gc=[],Jc=ke(Gc.sort),Kc=ke(Gc.push),Yc=he(function(){Gc.sort(void 0)}),Xc=he(function(){Gc.sort(null)}),Qc=function(e,t){var n=[].sort;return!!n&&he(function(){n.call(null,function(){return 1},1)})}(),Zc=!he(function(){if(Ye)return Ye<70;if(!(qc&&qc>3)){if(Bc)return!0;if(Hc)return Hc<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Gc.push({k:t+r,v:n})}for(Gc.sort(function(e,t){return t.v-e.v}),r=0;r<Gc.length;r++)t=Gc[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});qn({target:"Array",proto:!0,forced:Yc||!Xc||!Qc||!Zc},{sort:function(e){void 0!==e&&ot(e);var t=yt(this);if(Zc)return void 0===e?Jc(t):Jc(t,e);var n,r,i=[],o=wn(t);for(r=0;r<o;r++)r in t&&Kc(i,t[r]);for(Wc(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:fa(t)>fa(n)?1:-1}}(e)),n=wn(i),r=0;r<n;)t[r]=i[r++];for(;r<o;)Nc(t,r++);return t}});var es=ke(1..valueOf),ts=RangeError,ns=RangeError,rs=String,is=Math.floor,os=ke(function(e){var t=fa(Ne(this)),n="",r=vn(e);if(r<0||Infinity===r)throw new ts("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),as=ke("".slice),cs=ke(1..toFixed),ss=function(e,t,n){return 0===t?n:t%2==1?ss(e,t-1,n*e):ss(e*e,t/2,n)},ls=function(e,t,n){for(var r=-1,i=n;++r<6;)e[r]=(i+=t*e[r])%1e7,i=is(i/1e7)},us=function(e,t){for(var n=6,r=0;--n>=0;)e[n]=is((r+=e[n])/t),r=r%t*1e7},fs=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=rs(e[t]);n=""===n?r:n+os("0",7-r.length)+r}return n},ds=he(function(){return"0.000"!==cs(8e-5,3)||"1"!==cs(.9,0)||"1.25"!==cs(1.255,2)||"1000000000000000128"!==cs(0xde0b6b3a7640080,0)})||!he(function(){cs({})});qn({target:"Number",proto:!0,forced:ds},{toFixed:function(e){var t,n,r,i,o=es(this),a=vn(e),c=[0,0,0,0,0,0],s="",l="0";if(a<0||a>20)throw new ns("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return rs(o);if(o<0&&(s="-",o=-o),o>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*ss(2,69,1))-69,n=t<0?o*ss(2,-t,1):o/ss(2,t,1),n*=4503599627370496,(t=52-t)>0){for(ls(c,0,n),r=a;r>=7;)ls(c,1e7,0),r-=7;for(ls(c,ss(10,r,1),0),r=t-1;r>=23;)us(c,1<<23),r-=23;us(c,1<<r),ls(c,1,1),us(c,2),l=fs(c)}else ls(c,0,n),ls(c,1<<-t,0),l=fs(c)+os("0",a);return a>0?s+((i=l.length)<=a?"0."+os("0",a-i)+l:as(l,0,i-a)+"."+as(l,i-a)):s+l}});var ps,ys,gs,hs,vs="process"===Re(ge.process),bs=St("species"),ms=function(e){var t,n,r,i=qe(e);ve&&i&&!i[bs]&&(t=i,n=bs,(r={configurable:!0,get:function(){return this}}).get&&dn(r.get,n,{getter:!0}),r.set&&dn(r.set,n,{setter:!0}),Bt.f(t,n,r))},Os=TypeError,js=function(e){if("Function"===Re(e))return ke(e)},ws=js(js.bind),Es=function(e,t){return ot(e),void 0===t?e:be?ws(e,t):function(){return e.apply(t,arguments)}},Ss=TypeError,xs=/(?:ipad|iphone|ipod).*applewebkit/i.test($e),As=ge.setImmediate,_s=ge.clearImmediate,Cs=ge.process,ks=ge.Dispatch,Ds=ge.Function,Fs=ge.MessageChannel,Rs=ge.String,Ts=0,Ps={},Is="onreadystatechange";he(function(){ps=ge.location});var Vs=function(e){if(ht(Ps,e)){var t=Ps[e];delete Ps[e],t()}},Ls=function(e){return function(){Vs(e)}},Ns=function(e){Vs(e.data)},zs=function(e){ge.postMessage(Rs(e),ps.protocol+"//"+ps.host)};As&&_s||(As=function(e){!function(e,t){if(e<1)throw new Ss("Not enough arguments")}(arguments.length);var t=We(e)?e:Ds(e),n=na(arguments,1);return Ps[++Ts]=function(){ta(t,void 0,n)},ys(Ts),Ts},_s=function(e){delete Ps[e]},vs?ys=function(e){Cs.nextTick(Ls(e))}:ks&&ks.now?ys=function(e){ks.now(Ls(e))}:Fs&&!xs?(hs=(gs=new Fs).port2,gs.port1.onmessage=Ns,ys=Es(hs.postMessage,hs)):ge.addEventListener&&We(ge.postMessage)&&!ge.importScripts&&ps&&"file:"!==ps.protocol&&!he(zs)?(ys=zs,ge.addEventListener("message",Ns,!1)):ys=Is in Dt("script")?function(e){nr.appendChild(Dt("script"))[Is]=function(){nr.removeChild(this),Vs(e)}}:function(e){setTimeout(Ls(e),0)});var Ms={set:As,clear:_s},Ws=Object.getOwnPropertyDescriptor,Us=function(){this.head=null,this.tail=null};Us.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var qs,Bs,$s,Hs,Gs,Js=Us,Ks=/ipad|iphone|ipod/i.test($e)&&"undefined"!=typeof Pebble,Ys=/web0s(?!.*chrome)/i.test($e),Xs=Ms.set,Qs=ge.MutationObserver||ge.WebKitMutationObserver,Zs=ge.document,el=ge.process,tl=ge.Promise,nl=function(e){if(!ve)return ge[e];var t=Ws(ge,e);return t&&t.value}("queueMicrotask");if(!nl){var rl=new Js,il=function(){var e,t;for(vs&&(e=el.domain)&&e.exit();t=rl.get();)try{t()}catch(e){throw rl.head&&qs(),e}e&&e.enter()};xs||vs||Ys||!Qs||!Zs?!Ks&&tl&&tl.resolve?((Hs=tl.resolve(void 0)).constructor=tl,Gs=Es(Hs.then,Hs),qs=function(){Gs(il)}):vs?qs=function(){el.nextTick(il)}:(Xs=Es(Xs,ge),qs=function(){Xs(il)}):(Bs=!0,$s=Zs.createTextNode(""),new Qs(il).observe($s,{characterData:!0}),qs=function(){$s.data=Bs=!Bs}),nl=function(e){rl.head||qs(),rl.add(e)}}var ol,al,cl,sl=nl,ll=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ul=ge.Promise,fl="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,dl=!fl&&!vs&&"object"==typeof window&&"object"==typeof document,pl=St("species"),yl=!1,gl=We(ge.PromiseRejectionEvent),hl=Wn("Promise",function(){var e=en(ul),t=e!==String(ul);if(!t&&66===Ye)return!0;if(!Ye||Ye<51||!/native code/.test(e)){var n=new ul(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[pl]=r,!(yl=n.then(function(){})instanceof r))return!0}return!t&&(dl||fl)&&!gl}),vl={CONSTRUCTOR:hl,REJECTION_EVENT:gl,SUBCLASSING:yl},bl=TypeError,ml=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new bl("Bad Promise constructor");t=e,n=r}),this.resolve=ot(t),this.reject=ot(n)},Ol={f:function(e){return new ml(e)}},jl=Ms.set,wl="Promise",El=vl.CONSTRUCTOR,Sl=vl.REJECTION_EVENT,xl=vl.SUBCLASSING,Al=fn.getterFor(wl),_l=fn.set,Cl=ul&&ul.prototype,kl=ul,Dl=Cl,Fl=ge.TypeError,Rl=ge.document,Tl=ge.process,Pl=Ol.f,Il=Pl,Vl=!!(Rl&&Rl.createEvent&&ge.dispatchEvent),Ll="unhandledrejection",Nl=function(e){var t;return!(!Ue(e)||!We(t=e.then))&&t},zl=function(e,t){var n,r,i,o=t.value,a=1===t.state,c=a?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{c?(a||(2===t.rejection&&Bl(t),t.rejection=1),!0===c?n=o:(u&&u.enter(),n=c(o),u&&(u.exit(),i=!0)),n===e.promise?l(new Fl("Promise-chain cycle")):(r=Nl(n))?Oe(r,n,s,l):s(n)):l(o)}catch(e){u&&!i&&u.exit(),l(e)}},Ml=function(e,t){e.notified||(e.notified=!0,sl(function(){for(var n,r=e.reactions;n=r.get();)zl(n,e);e.notified=!1,t&&!e.rejection&&Ul(e)}))},Wl=function(e,t,n){var r,i;Vl?((r=Rl.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),ge.dispatchEvent(r)):r={promise:t,reason:n},!Sl&&(i=ge["on"+e])?i(r):e===Ll&&function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}("Unhandled promise rejection",n)},Ul=function(e){Oe(jl,ge,function(){var t,n=e.facade,r=e.value;if(ql(e)&&(t=ll(function(){vs?Tl.emit("unhandledRejection",r,n):Wl(Ll,n,r)}),e.rejection=vs||ql(e)?2:1,t.error))throw t.value})},ql=function(e){return 1!==e.rejection&&!e.parent},Bl=function(e){Oe(jl,ge,function(){var t=e.facade;vs?Tl.emit("rejectionHandled",t):Wl("rejectionhandled",t,e.value)})},$l=function(e,t,n){return function(r){e(t,r,n)}},Hl=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Ml(e,!0))},Gl=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new Fl("Promise can't be resolved itself");var r=Nl(t);r?sl(function(){var n={done:!1};try{Oe(r,t,$l(Gl,n,e),$l(Hl,n,e))}catch(t){Hl(n,t,e)}}):(e.value=t,e.state=1,Ml(e,!1))}catch(t){Hl({done:!1},t,e)}}};if(El&&(kl=function(e){!function(e,t){if(Be(t,e))return e;throw new Os("Incorrect invocation")}(this,Dl),ot(e),Oe(ol,this);var t=Al(this);try{e($l(Gl,t),$l(Hl,t))}catch(e){Hl(t,e)}},(ol=function(e){_l(this,{type:wl,done:!1,notified:!1,parent:!1,reactions:new Js,rejection:!1,state:0,value:void 0})}).prototype=pn(Dl=kl.prototype,"then",function(e,t){var n=Al(this),r=Pl(bc(this,kl));return n.parent=!0,r.ok=!We(e)||e,r.fail=We(t)&&t,r.domain=vs?Tl.domain:void 0,0===n.state?n.reactions.add(r):sl(function(){zl(r,n)}),r.promise}),al=function(){var e=new ol,t=Al(e);this.promise=e,this.resolve=$l(Gl,t),this.reject=$l(Hl,t)},Ol.f=Pl=function(e){return e===kl||void 0===e?new al(e):Il(e)},We(ul)&&Cl!==Object.prototype)){cl=Cl.then,xl||pn(Cl,"then",function(e,t){var n=this;return new kl(function(e,t){Oe(cl,n,e,t)}).then(e,t)},{unsafe:!0});try{delete Cl.constructor}catch(e){}Ir&&Ir(Cl,Dl)}qn({global:!0,constructor:!0,wrap:!0,forced:El},{Promise:kl}),Dr(kl,wl,!1),ms(wl);var Jl=St("iterator"),Kl=Array.prototype,Yl=St("iterator"),Xl=function(e){if(!Ve(e))return at(e,Yl)||at(e,"@@iterator")||br[la(e)]},Ql=TypeError,Zl=function(e,t,n){var r,i;Lt(e);try{if(!(r=at(e,"return"))){if("throw"===t)throw n;return n}r=Oe(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Lt(r),n},eu=TypeError,tu=function(e,t){this.stopped=e,this.result=t},nu=tu.prototype,ru=function(e,t,n){var r,i,o,a,c,s,l,u,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=Es(t,n&&n.that),h=function(e){return r&&Zl(r,"normal",e),new tu(!0,e)},v=function(e){return f?(Lt(e),y?g(e[0],e[1],h):g(e[0],e[1])):y?g(e,h):g(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(i=Xl(e)))throw new eu(rt(e)+" is not iterable");if(void 0!==(u=i)&&(br.Array===u||Kl[Jl]===u)){for(o=0,a=wn(e);a>o;o++)if((c=v(e[o]))&&Be(nu,c))return c;return new tu(!1)}r=function(e,t){var n=arguments.length<2?Xl(e):t;if(ot(n))return Lt(Oe(n,e));throw new Ql(rt(e)+" is not iterable")}(e,i)}for(s=d?e.next:r.next;!(l=Oe(s,r)).done;){try{c=v(l.value)}catch(e){Zl(r,"throw",e)}if("object"==typeof c&&c&&Be(nu,c))return c}return new tu(!1)},iu=St("iterator"),ou=!1;try{var au=0,cu={next:function(){return{done:!!au++}},return:function(){ou=!0}};cu[iu]=function(){return this},Array.from(cu,function(){throw 2})}catch(e){}var su=vl.CONSTRUCTOR||!function(e,t){try{if(!ou)return!1}catch(e){return!1}var n=!1;try{var r={};r[iu]=function(){return{next:function(){return{done:n=!0}}}},ul.all(r).then(void 0,function(){})}catch(e){}return n}();qn({target:"Promise",stat:!0,forced:su},{all:function(e){var t=this,n=Ol.f(t),r=n.resolve,i=n.reject,o=ll(function(){var n=ot(t.resolve),o=[],a=0,c=1;ru(e,function(e){var s=a++,l=!1;c++,Oe(n,t,e).then(function(e){l||(l=!0,o[s]=e,--c||r(o))},i)}),--c||r(o)});return o.error&&i(o.value),n.promise}});var lu=ul&&ul.prototype;if(qn({target:"Promise",proto:!0,forced:vl.CONSTRUCTOR,real:!0},{catch:function(e){return this.then(void 0,e)}}),We(ul)){var uu=qe("Promise").prototype.catch;lu.catch!==uu&&pn(lu,"catch",uu,{unsafe:!0})}qn({target:"Promise",stat:!0,forced:su},{race:function(e){var t=this,n=Ol.f(t),r=n.reject,i=ll(function(){var i=ot(t.resolve);ru(e,function(e){Oe(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),qn({target:"Promise",stat:!0,forced:vl.CONSTRUCTOR},{reject:function(e){var t=Ol.f(this);return(0,t.reject)(e),t.promise}}),qn({target:"Promise",stat:!0,forced:vl.CONSTRUCTOR},{resolve:function(e){return function(e,t){if(Lt(e),Ue(t)&&t.constructor===e)return t;var n=Ol.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var fu=St("match"),du=function(e){var t;return Ue(e)&&(void 0!==(t=e[fu])?!!t:"RegExp"===Re(e))},pu=Bt.f,yu=function(e,t,n){n in e||pu(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},gu=Dn.f,hu=fn.enforce,vu=St("match"),bu=ge.RegExp,mu=bu.prototype,Ou=ge.SyntaxError,ju=ke(mu.exec),wu=ke("".charAt),Eu=ke("".replace),Su=ke("".indexOf),xu=ke("".slice),Au=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,_u=/a/g,Cu=/a/g,ku=new bu(_u)!==_u,Du=qa.MISSED_STICKY,Fu=qa.UNSUPPORTED_Y,Ru=ve&&(!ku||Du||$a||Ga||he(function(){return Cu[vu]=!1,bu(_u)!==_u||bu(Cu)===Cu||"/a/i"!==String(bu(_u,"i"))}));if(Wn("RegExp",Ru)){for(var Tu=function(e,t){var n,r,i,o,a,c,s,l,u,f,d=Be(mu,this),p=du(e),y=void 0===t,g=[],h=e;if(!d&&p&&y&&e.constructor===Tu)return e;if((p||Be(mu,e))&&(e=e.source,y&&(t=Ra(h))),e=void 0===e?"":fa(e),t=void 0===t?"":fa(t),h=e,$a&&"dotAll"in _u&&(r=!!t&&Su(t,"s")>-1)&&(t=Eu(t,/s/g,"")),n=t,Du&&"sticky"in _u&&(i=!!t&&Su(t,"y")>-1)&&Fu&&(t=Eu(t,/y/g,"")),Ga&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a=ur(null),c=!1,s=!1,l=0,u="";r<=n;r++){if("\\"===(t=wu(e,r)))t+=wu(e,++r);else if("]"===t)c=!1;else if(!c)switch(!0){case"["===t:c=!0;break;case"("===t:ju(Au,xu(e,r+1))&&(r+=2,s=!0),i+=t,l++;continue;case">"===t&&s:if(""===u||ht(a,u))throw new Ou("Invalid capture group name");a[u]=!0,o[o.length]=[u,l],s=!1,u="";continue}s?u+=t:i+=t}return[i,o]}(e),e=o[0],g=o[1]),s=bu(e,t),l=Tu,Ir&&We(u=(d?this:mu).constructor)&&u!==l&&Ue(f=u.prototype)&&f!==l.prototype&&Ir(s,f),a=s,(r||i||g.length)&&(c=hu(a),r&&(c.dotAll=!0,c.raw=Tu(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=wu(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+wu(e,++r);return i}(e),n)),i&&(c.sticky=!0),g.length&&(c.groups=g)),e!==h)try{$t(a,"source",""===h?"(?:)":h)}catch(e){}return a},Pu=gu(bu),Iu=0;Pu.length>Iu;)yu(Tu,bu,Pu[Iu++]);mu.constructor=Tu,Tu.prototype=mu,pn(ge,"RegExp",Tu,{constructor:!0})}ms("RegExp");var Vu,Lu,Nu=(Vu=!1,(Lu=/[ac]/).exec=function(){return Vu=!0,/./.exec.apply(this,arguments)},!0===Lu.test("abc")&&Vu),zu=/./.test;qn({target:"RegExp",proto:!0,forced:!Nu},{test:function(e){var t=Lt(this),n=fa(e),r=t.exec;if(!We(r))return Oe(zu,t,n);var i=Oe(r,t,n);return null!==i&&(Lt(i),!0)}});var Mu,Wu=TypeError,Uu=function(e){if(du(e))throw new Wu("The method doesn't accept regular expressions");return e},qu=St("match"),Bu=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[qu]=!1,"/./"[e](t)}catch(e){}}return!1},$u=Tt.f,Hu=js("".slice),Gu=Math.min,Ju=Bu("endsWith"),Ku=!(Ju||(Mu=$u(String.prototype,"endsWith"),!Mu||Mu.writable));qn({target:"String",proto:!0,forced:!Ku&&!Ju},{endsWith:function(e){var t=fa(Ne(this));Uu(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:Gu(jn(n),r),o=fa(e);return Hu(t,i-o.length,i)===o}});var Yu=ke("".indexOf);qn({target:"String",proto:!0,forced:!Bu("includes")},{includes:function(e){return!!~Yu(fa(Ne(this)),fa(Uu(e)),arguments.length>1?arguments[1]:void 0)}});var Xu=Tt.f,Qu=js("".slice),Zu=Math.min,ef=Bu("startsWith"),tf=!ef&&!!function(){var e=Xu(String.prototype,"startsWith");return e&&!e.writable}();qn({target:"String",proto:!0,forced:!tf&&!ef},{startsWith:function(e){var t=fa(Ne(this));Uu(e);var n=jn(Zu(arguments.length>1?arguments[1]:void 0,t.length)),r=fa(e);return Qu(t,n,n+r.length)===r}});var nf,rf,of,af,cf,sf=(nf=Xo,function(e,t,n){var r=Object(e);if(!yo(e)){var i=qo(t);e=go(e),t=function(e){return i(r[e],e,r)}}var o=nf(e,t,n);return o>-1?r[i?e[o]:o]:void 0}),lf=y?y.isConcatSpreadable:void 0,uf=function(e){return s(e)||Ki(e)||!!(lf&&e&&e[lf])},ff=function e(t,n,r,i,o){var a=-1,c=t.length;for(r||(r=uf),o||(o=[]);++a<c;){var s=t[a];n>0&&r(s)?n>1?e(s,n-1,r,i,o):Mi(o,s):i||(o[o.length]=s)}return o},df=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var c=o[++r];if(!1===t(i[c],c,i))break}return e},pf=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=E(e),a=void 0!==t,c=null===t,s=t==t,l=E(t);if(!c&&!l&&!o&&e>t||o&&a&&s&&!c&&!l||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||c&&n&&i||!a&&i||!s)return-1}return 0},yf=Math.max,gf=function(){try{var e=I(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),hf=Date.now,vf=(rf=gf?function(e,t){return gf(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Uo,of=0,af=0,function(){var e=hf(),t=16-(e-af);if(af=e,t>0){if(++of>=800)return arguments[0]}else of=0;return rf.apply(void 0,arguments)}),bf=function(e,t){return vf(function(e,t,n){return t=yf(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=yf(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,c)}}(e,t,Uo),e+"")},mf=function(e,t,n){if(!_(n))return!1;var r=typeof t;return!!("number"==r?yo(n)&&Zi(t,n.length):"string"==r&&t in n)&&W(n[t],e)},Of=bf(function(e,t){if(null==e)return[];var n=t.length;return n>1&&mf(e,t[0],t[1])?t=[]:n>2&&mf(t[0],t[1],t[2])&&(t=[t[0]]),function(e,t,n){t=t.length?oe(t,function(e){return s(e)?function(t){return de(t,1===e.length?e[0]:e)}:e}):[Uo];var r=-1;t=oe(t,no(qo));var i=function(e,t){var n=-1,r=yo(e)?Array(e.length):[];return function(e,t){if(null==e)return e;if(!yo(e))return function(e,t){return e&&df(e,t,go)}(e,t);for(var n=e.length,r=-1,i=Object(e);++r<n&&!1!==t(i[r]););}(e,function(e,i,o){r[++n]=t(e)}),r}(e,function(e,n,i){return{criteria:oe(t,function(t){return t(e)}),index:++r,value:e}});return function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,c=n.length;++r<a;){var s=pf(i[r],o[r]);if(s)return r>=c?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(i)}(e,ff(t,1),[])}),jf=function(e){return e!=e},wf=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t):_i(e,jf,0)}(e,t)>-1},Ef=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},Sf=Oo&&1/Li(new Oo([,-0]))[1]==1/0?function(e){return new Oo(e)}:function(){},xf=Sf,Af=function(e,t){return No(e,t)},_f=function(e,t,n){"__proto__"==t&&gf?gf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Cf=Object.prototype.hasOwnProperty,kf=function(e,t,n){var r=e[t];Cf.call(e,t)&&W(r,n)&&(void 0!==n||t in e)||_f(e,t,n)},Df=function(e,t,n){return null==e?e:function(e,t,n,r){if(!_(e))return e;for(var i=-1,o=(t=ue(t,e)).length,a=o-1,c=e;null!=c&&++i<o;){var s=fe(t[i]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=a){var u=c[s];void 0===(l=void 0)&&(l=_(u)?u:Zi(t[i+1])?[]:{})}kf(c,s,l),c=c[s]}return e}(e,t,n)},Ff=function(e,t){return null==e||function(e,t){return null==(e=function(e,t){return t.length<2?e:de(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(t,0,-1))}(e,t=ue(t,e)))||delete e[fe((n=t,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r}(e,t)},Rf=function(e,t,n){(void 0!==n&&!W(e[t],n)||void 0===n&&!(t in e))&&_f(e,t,n)},Tf=u(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?p.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}),Pf=Object.create,If=function(){function e(){}return function(t){if(!_(t))return{};if(Pf)return Pf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Vf=uo(Object.getPrototypeOf,Object),Lf=Function.prototype.toString,Nf=Object.prototype.hasOwnProperty,zf=Lf.call(Object),Mf=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Wf=Object.prototype.hasOwnProperty,Uf=function(e){return yo(e)?co(e,!0):function(e){if(!_(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=lo(e),n=[];for(var r in e)("constructor"!=r||!t&&Wf.call(e,r))&&n.push(r);return n}(e)},qf=function e(t,n,r,i,o){t!==n&&df(n,function(a,c){if(o||(o=new ki),_(a))!function(e,t,n,r,i,o,a){var c,l,u,f=Mf(e,n),d=Mf(t,n),p=a.get(d);if(p)Rf(e,n,p);else{var y=o?o(f,d,n+"",e,t,a):void 0,g=void 0===y;if(g){var h=s(d),v=!h&&Xi(d),b=!h&&!v&&oo(d);y=d,h||v||b?s(f)?y=f:w(c=f)&&yo(c)?y=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(f):v?(g=!1,y=Tf(d,!0)):b?(g=!1,u=function(e){var t=new e.constructor(e.byteLength);return new Ii(t).set(new Ii(e)),t}((l=d).buffer),y=new l.constructor(u,l.byteOffset,l.length)):y=[]:function(e){if(!w(e)||"[object Object]"!=j(e))return!1;var t=Vf(e);if(null===t)return!0;var n=Nf.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Lf.call(n)==zf}(d)||Ki(d)?(y=f,Ki(f)?y=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],s=void 0;void 0===s&&(s=e[c]),i?_f(n,c,s):kf(n,c,s)}return n}(e,Uf(e))}(f):_(f)&&!C(f)||(y=function(e){return"function"!=typeof e.constructor||lo(e)?{}:If(Vf(e))}(d))):g=!1}g&&(a.set(d,y),i(y,d,r,o,a),a.delete(d)),Rf(e,n,y)}}(t,n,c,r,e,i,o);else{var l=i?i(Mf(t,c),a,c+"",t,n,o):void 0;void 0===l&&(l=a),Rf(t,c,l)}},Uf)},Bf=(cf=function(e,t,n){qf(e,t,n)},bf(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=cf.length>3&&"function"==typeof i?(r--,i):void 0,o&&mf(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&cf(e,a,n)}return e}));const $f=(e,t,n)=>n&&Array.isArray(e)?"number"===t?e.map(e=>Number(e)):"string"===t?e.map(e=>String(e)):"boolean"===t?e.map(e=>Boolean(e)):"date"===t?e.map(e=>new Date(e)):e:"number"===t?Number(e):"string"===t?String(e):"boolean"===t?Boolean(e):"date"===t?new Date(e):e,Hf=(e,t,n)=>{const r=[];return function i(o,a,c){void 0===o&&(o=""),void 0===a&&(a=""),void 0===c&&(c="");let s=[o?pe(e,o):e],l=[];Array.isArray(s[0])||(l=Object.keys(s[0]),s=Object.values(s[0])),("stage"!==c||((e,t)=>{let n=!1;return Object.keys(e).forEach(r=>{r+"."+e[r]===t&&(n=!0)}),n})(n,a))&&s.forEach((e,n)=>{const c=void 0!==l[n]?l[n]:void 0;Array.isArray(e)&&e.forEach((e,n)=>{const s=a?a+"."+e.id:e.id,l=pe(t,s),u=pe(t,a);if((c&&u&&u.__typename===c||!c)&&r.push({path:s,config:e,data:l}),"collection"===e.type){const r=a?pe(t,a+"."+e.id):t[e.id];r&&Array.isArray(r)&&r.forEach((t,r)=>{i(o+"["+n+"].fields",a?a+"."+e.id+"["+r+"]":e.id+"["+r+"]")})}else"group"===e.type||"fieldset"===e.type||"stage"===e.type?i(o+"["+n+"].fields",s,e.type):"wizard"===e.type&&i(o+"["+n+"].stages",s,"wizard")})})}(),r},Gf=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{n[r]=void 0!==e[r]?e[r]:t[r].default,void 0===e[r]&&t[r].required&&console.warn('Param "'+r+'" is required but is missing in field configs!'),void 0!==e[r]&&typeof e[r]!==t[r].type&&console.warn('Param "'+r+'" is not of type "'+t[r].type+'"!')}),n},Jf={};let Kf,Yf,Xf,Qf=0;const Zf={},ed=e=>{let{config:n,data:r,render:i,renderFields:a,fields:s,onChange:l,isVisible:u,isDisabled:f,id:d,onValidation:p,parentRunValidation:y,validateOn:g,throttleWait:h,customEvents:v,enableUndo:b,undoMaxDepth:m,customRuleHandlers:O,autoSave:j,typeValidations:w,fieldsets:E,initialInterfaceState:S,hashSeparator:x}=e;const A=t.useRef(!1),[_,C]=t.useState(S),k=Object.assign({},r);Bf(k,_);const[D]=t.useState("form-"+(d||"noid")+"-"+ +new Date),[F,R]=t.useState(!1),[T,P]=t.useState({}),[I,V]=t.useState(!1),[L,N]=t.useState([]),[z,M]=t.useState(0),[W,U]=t.useState(!1),[q,B]=t.useState(!1),[$,H]=t.useState({}),[G,J]=t.useState({}),[K,Y]=t.useState(),[X,Q]=t.useState({}),[Z,ee]=t.useState(!1),[te,ne]=t.useState(""),[re,ie]=t.useState(""),[oe,ae]=t.useState([]),[ce,se]=t.useState({}),le=((e,t,n,r,i,o)=>{let a="function"==typeof e.fields?e.fields(t,n,r):"function"==typeof e?e(t,n,r):Array.isArray(e)?e:[];const c=i=>{if("string"==typeof i&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[i])return e.fieldConfigs[i](t,n,r);if("object"==typeof i&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[i.type]){const o=e.fieldConfigs[i.type](t,n,r);return Object.assign({},o,i,{type:o.type})}return"object"==typeof i&&o[i.type]?{id:i.id,type:"fieldset",fieldset:i.type,fields:o[i.type].config({data:t,asyncData:n,interfaceState:r,params:Gf(i.params||{},o[i.type].params)}),params:i.params}:"function"==typeof i?i(t,n,r):i};return a=a.map(e=>("object"!=typeof e||"group"!==e.type&&"collection"!==e.type&&"fieldset"!==e.type||!Array.isArray(e.fields)||(e.fields=e.fields.map(e=>c(e))),"object"==typeof e&&"wizard"===e.type&&Array.isArray(e.stages)&&(e.stages=e.stages.map(e=>c(e))),c(e))),i.forEach(e=>{const r=pe(a,e.path);if(Array.isArray(r)){if("add"===e.action&&r.push(e.fields(t,n)),"remove"===e.action){const i=e.fields(t,n),o=Xo(r,{id:i.id});o>-1&&r.splice(o,1)}Df(a,e.path,r)}}),a})(n,k,K,_,oe,E);let ue=Hf(le,k,ce);t.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),t.useEffect(()=>{const e=("undefined"!=typeof window?window.location.hash.substring(2):"").split(x||":"),t=Object.assign({},ce);e.forEach(e=>{const n=e.split("."),r=n.slice(0,-1).join("."),i=n[n.length-1];r&&i&&(t[r]=i)}),ue.forEach(e=>{"wizard"!==e.config.type||t[e.path]&&(!t[e.path]||sf(e.config.stages,{id:t[e.path]}))||(t[e.path]=e.config.stages[0].id)}),JSON.stringify(ce)!==JSON.stringify(t)&&se(t)},[n]);const fe=()=>A&&!0===A.current;t.useEffect(()=>{if(r&&!I){let e;La()&&window.stagesLogging("Set initial data",D),ue.forEach(t=>{if(void 0!==t.config.defaultValue&&void 0===pe(r,t.path)){const e="function"==typeof t.config.defaultValue?t.config.defaultValue(r):t.config.defaultValue;Df(r,t.path,e),Df(k,t.path,e)}if(Array.isArray(t.config.validateOn)&&t.config.validateOn.indexOf("init")>-1||Array.isArray(g)&&g.indexOf("init")>-1){const n=ge(t.path,"init",r,X);e=Object.assign({},X,n)}e&&Q(e)});const t=c.default(r);let n;V(JSON.parse(t)),"local"===j||"session"===j||"object"==typeof j&&("local"===j.type||"session"===j.type)?n=_a(d,"object"==typeof j?j.type:j):d&&"object"==typeof j&&"custom"===j.type&&"function"==typeof j.get&&(n=j.get(d)),n&&Object.keys(n).length>0&&setTimeout(()=>{R(!!n.isDirty),P("object"==typeof n.dirtyFields?n.dirtyFields:{}),Oe(n.data,he(!1,n.data),d)},0)}},[r]),t.useEffect(()=>{if(La()){let e;e="local"===j||"session"===j||"object"==typeof j&&("local"===j.type||"session"===j.type)?_a(d,"object"==typeof j?j.type:j):d&&"object"==typeof j&&"custom"===j.type&&"function"==typeof j.get?j.get(d):{},window.stagesLogging({id:D,data:r,initialData:I,interfaceState:_,undoData:L,asyncData:K,errors:X,fieldPaths:ue,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,loading:Z,parsedFieldConfig:le,savedData:e})}},[r,X,F,te,re,T,Z]);const de=e=>"collection"===e||"subform"===e||"group"===e||"fieldset"===e||"config"===e||"wizard"===e||"stage"===e,ye=(e,t,n,r)=>{if(!s[t.type])return!0;const i=pe(n,e),o=!de(t.type)&&s[t.type].isValid(i,t);if(w[t.type]&&"function"==typeof w[t.type].validation&&!t.customValidation)return w[t.type].validation({data:i,allData:n,interfaceState:_,fieldConfig:t,isValid:o,fieldHasFocus:!(!te||te!==e),fieldIsDirty:void 0!==T[e],triggeringEvent:r});if(("string"==typeof t.regexValidation||t.regexValidation instanceof RegExp)&&!t.customValidation){let e;if("string"==typeof t.regexValidation)try{e=new RegExp(t.regexValidation)}catch(e){}else e=t.regexValidation;return o&&(e.test(i)||!i)}if(!de(t.type)&&"function"==typeof t.customValidation){const a=t.customValidation({data:i,allData:n,interfaceState:_,fieldConfig:t,isValid:o,fieldHasFocus:!(!te||te!==e),fieldIsDirty:void 0!==T[e],triggeringEvent:r});if(!function(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}(a))return a;!function(){const n=+new Date;Kf=Object.assign({},Kf,{[e]:n}),a.then(r=>{Kf[e]===n&&(!0!==r?(delete Kf[e],Q(Object.assign({},X,{[e]:{field:t}}))):(delete Kf[e],Q(Object.assign({},X))),Kf=Object.assign({},Kf))})}()}return o},ge=(e,t,n,r,i)=>{const o=sf(ue,{path:e}).config;La()&&"render"!==t&&window.stagesLogging('Validate field "'+e+'"',D);const a=ye(e,o,n,t),l=pe(n,e);return r[e]&&delete r[e],de(o.type)||!0===a?"collection"===o.type&&o.isRequired&&(!l||0===l.length||1===l.length&&0===Object.keys(l[0]).length)?(i||(i=e),r[e]={value:l,field:o}):"collection"===o.type&&(Array.isArray(o.fields)?o.fields.forEach(i=>{l&&l.forEach((a,c)=>{const u=e+"["+c+"]."+i.id;if(!(o.isRequired||a&&0!==Object.keys(a).length))return;const f=ye(i,u,a,t);if(s[i.type]&&!0!==f)r[e]={value:l,subField:i,errorCode:!1!==f?f:void 0};else if(s[i.type]&&i.isUnique){let t=pe(n,e,[]).filter(e=>void 0!==e[i.id]).map(e=>e[i.id]);[...new Set(t)].length!==t.length&&(r[e]={value:l,subField:i,errorCode:"notUnique"})}})}):l&&l.forEach((n,i)=>{(o.isRequired||n&&0!==Object.keys(n).length)&&o.fields[n.__typename]&&o.fields[n.__typename].forEach(o=>{const a=ye(o,e+"["+i+"]."+o.id,n,t);s[o.type]&&!0!==a&&(r[e]={value:l,subField:o,errorCode:!1!==a?a:void 0})})})):(i||(i=e),r[e]={value:l,field:o,errorCode:!1!==a?a:void 0}),"collection"===o.type&&o.uniqEntries&&l&&(u=l,f=(e,t)=>c.default(e)===c.default(t),f="function"==typeof f?f:void 0,u&&u.length?function(e,t,n){var r=-1,i=wf,o=e.length,a=!0,c=[],s=c;if(n)a=!1,i=Ef;else if(o>=200){var l=xf(e);if(l)return Li(l);a=!1,i=Ti,s=new Fi}else s=c;e:for(;++r<o;){var u=e[r],f=u;if(u=n||0!==u?u:0,a&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue e;c.push(u)}else i(s,f,n)||(s!==c&&s.push(f),c.push(u))}return c}(u,0,f):[]).length!==l.length&&(r[e]={value:l,field:o}),"collection"===o.type&&o.rules&&"object"==typeof o.rules&&l&&Object.keys(o.rules).forEach(t=>{const n=o.rules[t];Object.keys(n).forEach(i=>{const a=n[i],c=t.indexOf(",")>-1?t.split(","):[t],s=i.indexOf(",")>-1?i.split(","):[i],u=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);const n=[];return e.forEach(e=>{t.forEach(t=>{n.push([e,t])})}),n}(c,s);let f=!0;if(a.maxCount&&"number"==typeof a.maxCount&&u.forEach(e=>{let t=0;l.forEach(n=>pe(n,e[0])===e[1]?t++:void 0),t>a.maxCount&&(f=!1)}),a.minCount&&"number"==typeof a.minCount&&u.forEach(e=>{let t=0;l.forEach(n=>pe(n,e[0])===e[1]?t++:void 0),t<a.minCount&&(f=!1)}),a.exactCount&&"number"==typeof a.exactCount&&u.forEach(e=>{let t=0;l.forEach(n=>pe(n,e[0])===e[1]?t++:void 0),t!==a.exactCount&&(f=!1)}),a.sameCountAs&&"string"==typeof a.sameCountAs&&u.forEach(e=>{let t=0,n=0;l.forEach(r=>{pe(r,e[0])===e[1]&&t++,pe(r,e[0])===a.sameCountAs&&n++}),t!==n&&(f=!1)}),a.differentCountAs&&"string"==typeof a.differentCountAs&&u.forEach(e=>{let t=0,n=0;l.forEach(r=>{pe(r,e[0])===e[1]&&t++,pe(r,e[0])===a.differentCountAs&&n++}),t===n&&(f=!1)}),(a.sameSumAs&&"string"==typeof a.sameSumAs||a.differentSumAs&&"string"==typeof a.differentSumAs||a.biggerSumAs&&"string"==typeof a.biggerSumAs||a.smallerSumAs&&"string"==typeof a.smallerSumAs)&&u.forEach(e=>{let t=0,n=0;l.forEach(r=>{const i=Number(pe(r,e[0])),o=Number(pe(r,a.sameSumAs||a.differentSumAs||a.biggerSumAs||a.smallerSumAs));isNaN(i)||(t+=i),isNaN(o)||(n+=o)}),a.sameSumAs&&t!==n&&(f=!1),a.differentSumAs&&t===n&&(f=!1),a.biggerSumAs&&t<=n&&(f=!1),a.smallerSumAs&&t>=n&&(f=!1)}),a.isUnique&&c.length>0){const e=[];let t=!1;l.forEach(n=>{const r=c.map(e=>pe(n,e));e.forEach(e=>{Af(r,e)&&(t=!0)}),e.push(r)}),t&&(f=!1)}a.disallow&&u.forEach(e=>{let t=!1,n=!1;l.forEach(r=>{pe(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{pe(r,e[0])===n&&(t=!0)}):pe(r,e[0])===a.disallow&&(t=!0)}),n&&t&&(f=!1)}),a.disallow&&u.forEach(e=>{let t=!1,n=!1;l.forEach(r=>{pe(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{pe(r,e[0])===n&&(t=!0)}):pe(r,e[0])===a.disallow&&(t=!0)}),n&&!t&&(f=!1)}),f&&"object"==typeof O&&Object.keys(O).forEach(e=>{void 0!==a[e]&&"function"==typeof O[e]&&(O[e]({fieldValueCombos:u,fieldValidationData:l,valueRules:a,get:pe})||(f=!1))}),f||(r[e]={value:l,field:o,errorCode:a.errorCode||"invalidRule"})})}),{errors:r,firstErrorField:i};var u,f},he=function(e,t,n){void 0===n&&(n="");let r,i={};if(t||(t=k),ue.forEach(e=>{if(""===n||e.path.startsWith(n)){if(!s[e.config.type]&&!de(e.config.type))return;const o=ge(e.path,""!==n?"render":"action",t,i,r);i=o.errors,r=o.firstErrorField}}),r&&u&&e){const e=document.getElementById(r);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return i},ve=()=>he(!1);t.useEffect(()=>{if("function"==typeof p&&y){La()&&window.stagesLogging("Get errors on validation",D);let e=he(!0);Q(e),p(e)}},[p]);const be=(e,t)=>{La()&&window.stagesLogging('Get sub form errors for sub id "'+e+'"',D),he(!0),t&&Object.keys(t).length>0&&(X[e]=t)},me=function(e,t,n){try{const r=function(){if(t.loader&&"function"==typeof t.loader){function r(){t.enableCaching&&((e,t)=>{La()&&window.stagesLogging('Update options cache for "'+e+'"',D),J(n=>Object.assign({},n,{[e]:t}))})(o,a),l===s&&(((e,t)=>{La()&&window.stagesLogging('Update options loaded for "'+e+'"',D),H(n=>Object.assign({},n,{[e]:t}))})(e,a),t.onOptionsChange&&"function"==typeof t.onOptionsChange&&t.onOptionsChange(a,n,_e))}const i={};let o,a;const s="number"==typeof Jf[e]?Jf[e]+1:0;let l=s;Jf[e]=s,La()&&window.stagesLogging('Create dynamic options for field "'+e+'"',D),t.enableCaching&&(t.watchFields.forEach(e=>{const t=pe(n,e);t&&(i[e]=t)}),o=e+"-"+c.default(i));const u=function(){if(!t.enableCaching||!G[o])return Promise.resolve(t.loader(n,_e)).then(function(t){a=t,l=Jf[e]});a=G[o]}();return u&&u.then?u.then(r):r()}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},Oe=function(e,t,n,r,i){let o;void 0===i&&(i=!1);try{o=c.default({newData:e,errors:Object.keys(t),id:n,fieldKey:r,interfaceState:_})}catch(e){}(o!==Xf||i)&&(l((e=>{const t={},n=Object.assign({},e);return ue.forEach(r=>{if(r.config.isInterfaceState){const i=pe(e,r.path);void 0!==i&&(Df(t,r.path,i),Ff(n,r.path))}}),C(t),n})(e),t,n,r,_,he(!1,e),Object.keys(T).length>0,T),Xf=o)},je=()=>{if(fe()&&b&&z>0){const e=z-1,t=JSON.parse(L[e]);M(e),Q(t.errors),R(t.isDirty),P(t.dirtyFields),Oe(t.data,t.errors,d)}},we=()=>{if(fe()&&b&&z<L.length-1){const e=z+1,t=JSON.parse(L[e]);M(e),Q(t.errors),R(t.isDirty),P(t.dirtyFields),Oe(t.data,t.errors,d)}};t.useEffect(()=>{let e=Object.assign({},k);if(La()&&window.stagesLogging('Is visible change to "'+(u?"visible":"invisible")+'"',D),ue.forEach(t=>{const n=t.config;let r=pe(e,t.path);if("collection"===n.type&&n.init){const i=n.min?Number(n.min):1;r&&0!==r.length||(r=[]);for(let t=r.length;t<i;t++)r.push("string"==typeof n.init?"function"==typeof n.setInitialData?n.setInitialData(r,e,n.init):{__typename:n.init}:"function"==typeof n.setInitialData?n.setInitialData(r,e):{});Df(e,t.path,r)}}),e=Ee(e),"function"==typeof n.asyncDataLoader&&u&&!q)try{return ee(!0),Promise.resolve(n.asyncDataLoader()).then(function(e){Y(e),B(!0),ee(!1)})}catch(e){Promise.reject(e)}u&&(Array.isArray(ue)&&ue.forEach(t=>{t.config.dynamicOptions&&t.config.dynamicOptions.events&&t.config.dynamicOptions.events.indexOf("init")>-1&&me(t.path,t.config.dynamicOptions,e)}),0===z&&0===L.length&&N([c.default({data:e,isDirty:F,dirtyFields:T,errors:X})])),Oe(e,he(),d)},[u]);const Ee=e=>{const t=Object.assign({},e);return ue.forEach(n=>{if("function"==typeof n.config.computedValue){const r=pe(k,n.path.split(".").slice(0,-1).join(".")),i=n.config.computedValue(e,r,_);Df(t,n.path,i)}}),t},Se=e=>sf(ue,{path:e}).config,xe=(e,t,n)=>{const r=[];return"object"==typeof v&&Object.keys(v).forEach(i=>{"function"==typeof v[i]&&v[i]({fieldValue:n,data:t,dirtyFields:T,optionsLoaded:$,asyncData:K,errors:X,focusedField:te,triggeringEvent:e})&&r.push(i)}),r},Ae=e=>Array.isArray(e)&&1===e.length?e[0]:e,_e=function e(t,n,r,i){if(void 0===i&&(i=!1),!fe())return;let o,a=!1;const c=+new Date,s=Se(t);i||(Qf=c);let l=Object.assign({},r||k),u="function"==typeof s.filter?s.filter(n):n;i&&s.cleanUp&&"function"==typeof s.cleanUp&&void 0!==u&&ne(e=>{if(e!==t){const e=s.cleanUp(u);let n=Object.assign({},r||k);Df(n,t,e),setTimeout(()=>Oe(n,he(!1,n),d,t),0)}return e}),s.cast&&"function"==typeof s.cast.data&&(u=s.cast.data(u)),s.cast&&"string"==typeof s.cast.data&&(u=$f(u,s.cast.data)),s.cast&&Array.isArray(s.cast.data)&&(u=$f(u,s.cast.data[0],!0)),s.transform&&Array.isArray(s.transform)&&u&&s.transform.forEach(e=>{"change"!==e.event&&!e.event.includes("change")||"function"!=typeof e.fn||(u=e.fn(u,pe(k,t)))}),La()&&window.stagesLogging('Handle change for field "'+t+'"',D),!u&&0!==u&&!1!==u||Array.isArray(u)&&0===u.length?Df(l,t,void 0):Df(l,t,u),l=Ee(l);const f={data:pe(l,t),fieldIsDirty:!!T[t],fieldConfig:s,fieldHasFocus:!(!te||te!==t)};i||(0===Qf||c-Qf<Number(h||400))&&(!s.validateOn&&Array.isArray(g)&&g.indexOf("throttledChange")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1||!s.validateOn&&"function"==typeof g&&g(f).indexOf("throttledChange")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(f).indexOf("throttledChange")>-1)&&(Yf&&clearTimeout(Yf),Yf=setTimeout(()=>e(t,n,r,!0),h||400),a=!0);const p=xe("change",l,u);if(!s.validateOn&&Array.isArray(g)&&p.some(e=>g.indexOf(e)>-1)||s.validateOn&&Array.isArray(s.validateOn)&&p.some(e=>s.validateOn.indexOf(e)>-1)){const e=ge(t,Ae(p),l,X);o=Object.assign({},X,e.errors),Q(o)}else if(!s.validateOn&&Array.isArray(g)&&g.indexOf("change")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("change")>-1||!s.validateOn&&Array.isArray(g)&&g.indexOf("throttledChange")>-1&&!a||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1&&!a||!s.validateOn&&"function"==typeof g&&g(f).indexOf("change")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(f).indexOf("change")>-1||!s.validateOn&&"function"==typeof g&&g(f).indexOf("throttledChange")>-1&&!a||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(f).indexOf("throttledChange")>-1&&!a){const e=ge(t,"change",l,X);o=Object.assign({},X,e.errors),Q(o)}if(ue.forEach(e=>{if(e.config.validateOn&&Array.isArray(e.config.validateOn)&&e.config.validateOn.indexOf(t+":change")>-1){const t=ge(e.path,"change",l,o||X);o=Object.assign({},o||X,t.errors),Q(o)}}),I&&(Af(pe(l,t),pe(I,t))?void 0!==T[t]&&delete T[t]:T[t]={oldData:pe(I,t),newData:pe(l,t)},R(Object.keys(T).length>0),P(T)),s.clearFields&&(Array.isArray(s.clearFields)||"function"==typeof s.clearFields)){const e=Object.assign({},$);(Array.isArray(s.clearFields)?s.clearFields:s.clearFields(u,l,o)).forEach(t=>{Df(l,t,void 0),delete e[t]}),H(e)}if(Array.isArray(ue)&&ue.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("change")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t)>-1&&(!s.dynamicOptions||s.dynamicOptions&&$[e.path]&&$[e.path].indexOf(pe(l,t))>-1||!$[e.path])&&me(e.path,e.config.dynamicOptions,l)}),(e=>{const t=e.split(".").at(-2);return"]"===(t?t.slice(-1):"")})(t)){const e=(e=>{const t=e.split(".");t.pop();let n=t.join(".");if("]"===n.slice(-1)){const e=n.lastIndexOf("[");n=n.substring(0,e)}return n})(t),n=Se(e);if(n.sort&&n.sort.by&&n.sort.by.indexOf(s.id)>-1){let t=pe(l,e,[]);t=Of(t,n.sort.by),"desc"===n.sort.dir&&(t=t.reverse()),Df(l,e,t)}}Oe(l,he(!1,l),d,t)},Ce=e=>{const t={},n=[];return ue.forEach(i=>{if(!e||i.path.startsWith(e+"."))if("fieldset"===i.config.type&&E[i.config.fieldset]){const e=Ce(i.path);Df(t,i.path,E[i.config.fieldset].render({params:Gf(i.config.params||{},E[i.config.fieldset].params),fieldProps:{fields:pe(e,i.path),onCollectionAction:ke,onWizardNav:De,getWizardNavHash:Fe,isWizardStepActive:Re,isWizardStepDisabled:Te,modifyConfig:Pe,data:r,interfaceState:_,errors:X,asyncData:K,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,get:pe,getConfig:Ve},actionProps:{handleActionClick:Ie,handleUndo:je,handleRedo:we,isDisabled:f,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,silentlyGetValidationErrors:ve}}))}else{const e=((e,t,i)=>{let a=!1;if(n.forEach(e=>{i.startsWith(e)&&(a=!0)}),a)return null;if(!s[e.type]&&"subform"!==e.type&&"group"!==e.type)return null;if("function"==typeof e.isRendered&&!e.isRendered(i,t,k,_))return"group"===e.type&&n.push(i),null;if("group"===e.type)return null;const l=Object.assign({},e);if(l.id=i,$[i])l.options=$[i];else if("function"==typeof l.options)l.options=l.options(i,t,k);else if("object"==typeof l.computedOptions){let t=pe(r,l.computedOptions.source,[]),n=pe(k,i);"function"==typeof l.computedOptions.filter&&(t=t.filter(l.computedOptions.filter)),"function"==typeof l.computedOptions.sort&&(t=t.sort(l.computedOptions.sort)),"function"==typeof l.computedOptions.map&&(t=t.map(l.computedOptions.map)),l.computedOptions.initWith&&Array.isArray(l.computedOptions.initWith)&&(t=l.computedOptions.initWith.concat(t)),e.isUnique&&(t=t.map(t=>{if(""===t.value)return t;const o=i.substring(0,i.lastIndexOf("["));let a=pe(r,o,[]);return Xo(a,{[e.id]:t.value})>-1&&t.value!==n?Object.assign({},t,{disabled:!0}):t})),l.options=t,sf(t,{value:n})||(l.value="",Df(k,i,""))}return delete l.computedValue,delete l.computedOptions,delete l.filter,delete l.clearFields,delete l.dynamicOptions,delete l.isRendered,delete l.defaultValue,delete l.cleanUp,delete l.precision,l.placeholder&&Array.isArray(l.placeholder)&&l.placeholder.length>1&&(void 0===Zf[i]&&(Zf[i]=l.placeholder[Math.floor(Math.random()*l.placeholder.length)]),l.placeholder=Zf[i]),w[e.type]&&"function"==typeof w[e.type].renderer&&!e.errorRenderer&&(l.errorRenderer=w[e.type].renderer),Kf&&Kf[i]&&(l.isValidating=!0),de(e.type)||Object.keys(l).forEach(e=>{"id"!==e&&"function"==typeof l[e]&&e.endsWith("Fn")&&(l[e.substring(0,e.length-2)]=l[e]({path:i,fieldData:t,alldata:k,interfaceState:_}),delete l[e])}),"fieldset"===e.type?null:"subform"!==e.type?/*#__PURE__*/o.default.createElement(s[e.type].component,Object.assign({key:i,value:(p=t,e.cast&&"function"==typeof e.cast.field?e.cast.field(p):e.cast&&"string"==typeof e.cast.field?$f(p,e.cast.field):e.cast&&Array.isArray(e.cast.field)?$f(p,e.cast.field[0],!0):p),initialValue:pe(I,i),error:X[i],isDirty:!!T[i],isDisabled:f||e.isDisabled,hasFocus:!(!te||te!==i),onChange:e=>_e(i,e),onFocus:()=>(e=>{if(!fe())return;const t=Se(e),n=Object.assign({},k),r=pe(n,e);ne(e),ie(e);const i={data:r,fieldIsDirty:!!T[e],fieldConfig:t,fieldHasFocus:!(!te||te!==e)},o=xe("focus",n,r);if(!t.validateOn&&Array.isArray(g)&&o.some(e=>g.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&o.some(e=>t.validateOn.indexOf(e)>-1)){const t=ge(e,Ae(o),n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}else if(!t.validateOn&&Array.isArray(g)&&g.indexOf("focus")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("focus")>-1||!t.validateOn&&"function"==typeof g&&g(i).indexOf("focus")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(i).indexOf("focus")>-1){const t=ge(e,"focus",n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}})(i),onBlur:()=>(e=>{if(!fe())return;ne("");const t=Se(e),n=Object.assign({},k),r=Object.assign({},k);let i=pe(n,e);Qf=0,La()&&window.stagesLogging('Handle blur for field "'+e+'"',D),t.cleanUp&&"function"==typeof t.cleanUp&&void 0!==i&&(i=t.cleanUp(i),Df(n,e,i),_e(e,i,n,!0)),"number"==typeof t.precision&&(Df(n,e,Number(i).toFixed(t.precision)),Oe(n,X,d,e));const o={data:i,fieldIsDirty:!!T[e],fieldConfig:t,fieldHasFocus:!(!te||te!==e)},a=xe("blur",n,i);if(!t.validateOn&&Array.isArray(g)&&a.some(e=>g.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&a.some(e=>t.validateOn.indexOf(e)>-1)){const t=ge(e,Ae(a),n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}else if(!t.validateOn&&Array.isArray(g)&&g.indexOf("blur")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("blur")>-1||!t.validateOn&&"function"==typeof g&&g(o).indexOf("blur")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(o).indexOf("blur")>-1){const t=ge(e,"blur",n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}if(ue.forEach(t=>{if(t.config.validateOn&&Array.isArray(t.config.validateOn)&&t.config.validateOn.indexOf(e+":blur")>-1){const e=ge(t.path,"blur",n,X),r=Object.assign({},X,e.errors);Q(r)}}),Array.isArray(ue)&&ue.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("blur")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t.id)>-1&&me(e.config.id,e.config.dynamicOptions,n),void 0!==j&&e.config.disableAutoSave&&Ff(r,e.path)}),(e=>{if(b){const t=[...L];t.length=z+1,t.push(c.default({data:e,isDirty:F,dirtyFields:T,errors:X})),t.length>m&&t.shift(),N(t),M(t.length-1)}})(n),void 0!==j)if("local"===j||"session"===j){const e=he(!1,n);0===Object.keys(e).length&&Ca(d,{data:r,isDirty:F,dirtyFields:T},j)}else if("object"!=typeof j||"local"!==j.type&&"session"!==j.type){if("object"==typeof j&&"custom"===j.type&&"function"==typeof j.save){const e=he(!1,n);(j.validDataOnly&&0===Object.keys(e).length||!j.validDataOnly)&&j.save(d,{data:r,isDirty:F,dirtyFields:T})}}else{const e=he(!1,n);(j.validDataOnly&&0===Object.keys(e).length||!j.validDataOnly)&&Ca(d,{data:r,isDirty:F,dirtyFields:T},j.type)}})(i)},l)):/*#__PURE__*/o.default.createElement(ed,{config:e.config,render:t=>{let{fieldProps:n}=t;/*#__PURE__*/return o.default.createElement(e.render,n)},fields:s,id:i,onChange:(e,t)=>_e(i,e),onValidation:e=>be(i,e),parentRunValidation:W,data:k&&pe(k,i),isVisible:u,isDisabled:f,validateOn:g});var p})(i.config,i.data,i.path);e&&Df(t,i.path,e)}}),t},ke=(e,t,n,r)=>{if(!fe())return;const i=Object.assign({},k),o=Se(e),a=o&&o.min?Number(o.min):0,c=o&&o.max?Number(o.max):99999999999999;let s,l=pe(i,e,[]),u=!1;if("last"===n&&(n=l.length-1),"last"===r&&(r=l.length-1),La()&&window.stagesLogging('On collection action "'+e+'"',D),"add"===t&&("string"==typeof n&&o.fields[n]?c>l.length&&l.push("function"==typeof o.setInitialData?o.setInitialData(l,i,n):{__typename:n}):c>l.length&&l.push("function"==typeof o.setInitialData?o.setInitialData(l,i):{}),u=!0),"remove"===t&&(a<l.length&&l.splice(n,1),u=!0),"move"===t&&"number"==typeof n&&"number"==typeof r&&n>-1&&r>-1){const[e]=l.splice(n,1);l.splice(r,0,e),u=!0}if("sort"===t&&l.length>0&&n&&(l=Of(l,n),u=!0),"duplicate"===t&&"number"==typeof n&&n>-1&&(l.splice(n+1,0,Object.assign({},l[n])),u=!0),o.sort&&o.sort.by&&(l=Of(l,o.sort.by),"desc"===o.sort.dir&&(l=l.reverse()),u=!0),"update"===t&&Array.isArray(n)?(u=!0,Df(i,e,n)):Df(i,e,l),u){const t=pe(I,e),n=pe(i,e);try{JSON.stringify(t)!==JSON.stringify(n)?(R(!0),T[e]={oldData:t,newData:n},P(T)):(delete T[e],Object.keys(T).forEach(t=>{t.startsWith(e)&&delete T[t]}),P(T),R(Object.keys(T).length>0))}catch(e){}}if(g.indexOf("collectionAction")>-1||o.validateOn&&o.validateOn.indexOf("collectionAction")>-1){u&&(ue=Hf(le,i,ce));const t=ge(e,"collectionAction",i,X);s=Object.assign({},X,t.errors),ue.forEach(t=>{if(t.path.startsWith(e)&&(g.indexOf("collectionAction")>-1||t.config.validateOn&&t.config.validateOn.indexOf("collectionAction")>-1)){const e=ge(t.path,"collectionAction",i,X);s=Object.assign({},X,e.errors)}}),Q(s)}Oe(i,s||he(),d,e)},De=(e,t,n)=>{const r=Object.assign({},ce),i=r[t],o=Se(t);if("step"===e&&(r[t]=n),"next"===e){const e=Xo(o.stages,{id:i})+1;o.stages[e]&&(r[t]=o.stages[e].id)}if("prev"===e){const e=Xo(o.stages,{id:i})-1;o.stages[e]&&(r[t]=o.stages[e].id)}"first"===e&&(r[t]=o.stages[0].id),"last"===e&&(r[t]=o.stages[o.stages.length-1].id),se(r)},Fe=function(e,t,n){void 0===n&&(n="step");const r=ce[e],i=Se(e),o=[];if("step"===n||"first"===n||"last"===n)return Object.keys(ce).forEach(r=>{r.startsWith(e)?("step"===n&&o.push(r+"."+t),"first"===n&&o.push(r+"."+i.stages[0].id),"last"===n&&o.push(r+"."+i.stages[i.stages.length-1].id)):o.push(r+"."+ce[r])}),"#!"+o.join(x||":");if("prev"===n){const t=Xo(i.stages,{id:r})-1;return!!i.stages[t]&&(Object.keys(ce).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+ce[n])}),"#!"+o.join(x||":"))}if("next"===n){const t=Xo(i.stages,{id:r})+1;return!!i.stages[t]&&(Object.keys(ce).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+ce[n])}),"#!"+o.join(x||":"))}return!1},Re=(e,t)=>ce[e]===t,Te=function(e,t,n){void 0===n&&(n=!1);const i=t.substring(2).split(x||":");let o="";if(i.forEach(t=>{t.startsWith(e+".")&&(o=t.substring(e.length+1))}),o){const t=Se(e),i=Xo(t.stages,{id:o});if(i>Xo(t.stages,{id:ce[e]})+1)return!0;if(n&&Re(e,o))return!0;for(let n=0;n<i;n++){const i=he(!1,r,e+"."+t.stages[n].id);if(Object.keys(i).length>0)return!0}}return!1},Pe=(e,t,r)=>{if(n.fieldConfigs&&"function"==typeof n.fieldConfigs[t]){const i=e.split(".");let o="";i.forEach(e=>{const t=o?pe(le,o):le;if(e.endsWith("]")){const n=e.split("["),r=Xo(t,{id:n[0]});r>-1&&(o+="["+r+"].fields")}else{const n=Xo(t,{id:e});n>-1&&(o+="["+n+"].fields")}}),""!==o&&(oe.push({fields:n.fieldConfigs[t],path:o,action:r}),ae([...oe]))}},Ie=(e,t,n)=>{La()&&window.stagesLogging("Handle action click",D),n&&("local"!==j&&"session"!==j||ka(d,j),"object"!=typeof j||"local"!==j.type&&"session"!==j.type||ka(d,j.type),d&&"object"==typeof j&&"custom"===j.type&&"function"==typeof j.remove&&j.remove(d),Oe(I,he(),d),P({}),R(!1));const r=xe("action",k);let i=!1;if(Array.isArray(g)&&g.indexOf("action")>-1||Array.isArray(g)&&r.some(e=>g.indexOf(e)>-1)){t&&(U(!0),setTimeout(()=>U(!1),0));let e=t?he(!0):{};Q(e),Object.keys(e).length>0&&(i=!0)}i||e()},Ve=e=>{const t=sf(ue,{path:e});return t?t.config:void 0};return!1===u?null:i?i({actionProps:{handleActionClick:Ie,handleUndo:je,handleRedo:we,isDisabled:!!(Kf&&Object.keys(Kf).length>0)||f,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,silentlyGetValidationErrors:ve,updateData:function(e,t){void 0===t&&(t=[]);let n=!1,r={},i=Object.assign({},X);ue.forEach(o=>{if(!o.config.isInterfaceState){const t=pe(e,o.path),i=pe(I,o.path);t!==i&&(n=!0,void 0!==t&&(r[o.path]={oldData:i,newData:t}))}if(t.indexOf(o.path)>-1){const t=ge(o.path,"change",e,X);i=Object.assign({},i,t.errors)}}),Q(i),R(n),P(r),Oe(e,i,d)}},fieldProps:{fields:Ce(),onCollectionAction:ke,onWizardNav:De,getWizardNavHash:Fe,isWizardStepActive:Re,isWizardStepDisabled:Te,modifyConfig:Pe,data:r,interfaceState:_,errors:X,asyncData:K,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,get:pe,getConfig:Ve},loading:Z}):a?a(Ce()):null};function td(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}ed.propTypes={config:Ai.oneOfType([Ai.object,Ai.array,Ai.func]).isRequired,data:Ai.object,render:Ai.oneOfType([Ai.node,Ai.func]),renderFields:Ai.oneOfType([Ai.node,Ai.func]),fields:Ai.object.isRequired,onChange:Ai.func,isVisible:Ai.bool,isDisabled:Ai.bool,id:Ai.oneOfType([Ai.string,Ai.number]),onValidation:Ai.func,parentRunValidation:Ai.bool,validateOn:Ai.array,customRuleHandlers:Ai.object,undoMaxDepth:Ai.number,typeValidations:Ai.object,fieldsets:Ai.object,initialInterfaceState:Ai.object},ed.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1,validateOn:["action"],customRuleHandlers:{},undoMaxDepth:10,autoSave:!1,typeValidations:{},fieldsets:{},initialInterfaceState:{}};const nd=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","hasFocus","prefix","suffix","secondaryText","type","errorRenderer"],rd=e=>{let{id:t,label:n,value:r,onChange:i,onBlur:a,onFocus:c,error:s,placeholder:l,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:g,type:h,errorRenderer:v}=e;return td(e,nd),/*#__PURE__*/o.default.createElement("div",null,n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,p?/*#__PURE__*/o.default.createElement("span",null,p):null,/*#__PURE__*/o.default.createElement("input",{id:t,name:t,value:void 0!==r?r:"number"===h?0:"",placeholder:l,type:h||"text",disabled:!!f,required:!!u,autoComplete:"password"===h?"current-password":"off",onChange:e=>{"function"==typeof i&&i(e.target.value)},onFocus:e=>{"function"==typeof c&&c()},onBlur:e=>{"function"==typeof a&&a()}}),y?/*#__PURE__*/o.default.createElement("span",null,y):null),g?/*#__PURE__*/o.default.createElement("div",null,g):null,s&&!d?v?v(s):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},id=(e,t)=>!t.isRequired||""!==e&&void 0!==e,od=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","type","errorRenderer"],ad=["id","label","value","options","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],cd=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],sd=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],ld=["id","label","error","isRequired","isValidating","secondaryText","errorRenderer"],ud={text:{component:rd,isValid:id},number:{component:rd,isValid:id},email:{component:rd,isValid:id},password:{component:rd,isValid:id},tel:{component:rd,isValid:id},time:{component:rd,isValid:id},date:{component:rd,isValid:id},checkbox:{component:e=>{let{id:t,label:n,value:r,onChange:i,onBlur:a,onFocus:c,error:s,placeholder:l,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:g,type:h,errorRenderer:v}=e;return td(e,od),/*#__PURE__*/o.default.createElement("div",null,n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,p?/*#__PURE__*/o.default.createElement("span",null,p):null,/*#__PURE__*/o.default.createElement("input",{id:t,name:t,value:"1",placeholder:l,type:h,disabled:!!f,required:!!u,checked:!!r,onChange:()=>{},onClick:e=>{"function"==typeof i&&i(!!e.target.checked)},onBlur:e=>{"function"==typeof a&&a()},onFocus:e=>{"function"==typeof c&&c()}}),y?/*#__PURE__*/o.default.createElement("span",null,y):null),g?/*#__PURE__*/o.default.createElement("div",null,g):null,s&&!d?v?v(s):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:t,label:n,value:r,options:i,onChange:a,onBlur:c,onFocus:s,error:l,placeholder:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=e;return td(e,ad),/*#__PURE__*/o.default.createElement("div",null,n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,f?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,y?/*#__PURE__*/o.default.createElement("span",null,y):null,/*#__PURE__*/o.default.createElement("select",{id:t,name:t,value:void 0===r?"":r,placeholder:u,disabled:!!d,required:!!f,onChange:e=>{"function"==typeof a&&a(e.target.value)},onBlur:e=>{"function"==typeof c&&c()},onFocus:e=>{"function"==typeof s&&s()}},i.map(e=>/*#__PURE__*/o.default.createElement("option",{value:e.value,key:e.value,disabled:!!e.disabled||null},e.text))),g?/*#__PURE__*/o.default.createElement("span",null,g):null),h?/*#__PURE__*/o.default.createElement("div",null,h):null,l&&!p?v?v(l):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:e=>{let{id:n,label:r,value:i,options:a,onChange:c,onBlur:s,onFocus:l,error:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=e;return td(e,cd),/*#__PURE__*/o.default.createElement("div",{id:n},r?/*#__PURE__*/o.default.createElement("label",null,r,f?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,y?/*#__PURE__*/o.default.createElement("span",null,y):null,a.map(e=>/*#__PURE__*/o.default.createElement(t.Fragment,{key:n+"-"+e.value},/*#__PURE__*/o.default.createElement("input",{type:"radio",name:n,id:n+"-"+e.value,value:e.value,checked:i===e.value,disabled:!!d,onChange:()=>{},onClick:t=>{"function"==typeof c&&c(e.value)},onBlur:e=>{"function"==typeof s&&s()},onFocus:e=>{"function"==typeof l&&l()}}),/*#__PURE__*/o.default.createElement("label",{htmlFor:n+"-"+e.value},e.text)," ")),g?/*#__PURE__*/o.default.createElement("span",null,g):null),h?/*#__PURE__*/o.default.createElement("div",null,h):null,u&&!p?v?v(u):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},checkboxGroup:{component:e=>{let{id:n,label:r,value:i,options:a,onChange:c,onBlur:s,onFocus:l,error:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=e;return td(e,sd),/*#__PURE__*/o.default.createElement("div",{id:n},r?/*#__PURE__*/o.default.createElement("label",null,r,f?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,y?/*#__PURE__*/o.default.createElement("span",null,y):null,a.map(e=>/*#__PURE__*/o.default.createElement(t.Fragment,{key:n+"-"+e.value},/*#__PURE__*/o.default.createElement("input",{type:"checkbox",name:n,id:n+"-"+e.value,value:e.value,checked:Array.isArray(i)&&-1!==i.indexOf(e.value),disabled:!!d,onChange:()=>{},onClick:t=>{if("function"==typeof c){const t=Array.isArray(i)?[...i]:[];-1===t.indexOf(e.value)?t.push(e.value):t.splice(t.indexOf(e.value),1),c(t)}},onBlur:e=>{"function"==typeof s&&s()},onFocus:e=>{"function"==typeof l&&l()}}),/*#__PURE__*/o.default.createElement("label",{htmlFor:n+"-"+e.value},e.text)," ")),g?/*#__PURE__*/o.default.createElement("span",null,g):null),h?/*#__PURE__*/o.default.createElement("div",null,h):null,u&&!p?v?v(u):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},dummy:{component:e=>{let{id:t,label:n,error:r,isRequired:i,isValidating:a,secondaryText:c,errorRenderer:s}=e;return td(e,ld),n||c||r?/*#__PURE__*/o.default.createElement("div",{id:t},n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,i?" *":""):null,c?/*#__PURE__*/o.default.createElement("div",null,c):null,r&&!a?s?s(r):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,a?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null):null},isValid:()=>!0}};e.Actions=e=>{let{config:t,handleActionClick:n,isDisabled:r}=e;/*#__PURE__*/return o.default.createElement(o.default.Fragment,null,t.map((e,t)=>/*#__PURE__*/o.default.createElement("button",{type:"button",onClick:()=>n(e.onClick,e.validate),key:"action-"+t,disabled:r},"primary"===e.type?/*#__PURE__*/o.default.createElement("strong",null,e.title):e.title)))},e.Debugger=()=>{const[e,n]=t.useState({}),[r,i]=t.useState({}),[c,s]=t.useState({}),[l,u]=t.useState({}),[f,d]=t.useState(!1),p=(t,o)=>{if("string"==typeof t)r[o]||(r[o]=[]),r[o].push({action:t,time:+new Date}),i(r);else{const r=Object.assign(e,{}),i=Object.keys(r)[0];r[t.id]=t,n(Object.assign({},r)),s(e=>({key:e.key?e.key:i,tab:e.tab?e.tab:"data"}))}};return t.useEffect(()=>{"undefined"!=typeof window&&(window.stagesLogging=p)},[]),0===Object.keys(e).length?null:/*#__PURE__*/o.default.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",width:"320px",padding:"8px",fontSize:"14px",color:"#333",border:"1px #bbb solid",borderRadius:"4px",background:"#fbfbfb",fontFamily:"Open Sans, Helvetica, Arial, sans",zIndex:1e3}},/*#__PURE__*/o.default.createElement("strong",{style:{lineHeight:"22px"}},"Debugger:"),/*#__PURE__*/o.default.createElement("button",{type:"button",style:{float:"right"},onClick:()=>d(!f)},f?"hide":"show"),f?Object.keys(e).map(t=>{const n=t.split("-");n.pop();let i="";return i="logs"===c.tab?r[c.key]?r[c.key].map(e=>e.time+": "+e.action).join("\n"):"":a.default(l[t]?pe(e[c.key][c.tab],l[t]||""):e[c.key][c.tab],null,2),/*#__PURE__*/o.default.createElement("div",{key:t+"-"+c.tab},/*#__PURE__*/o.default.createElement("h3",{style:{background:"#333",color:"#fff",margin:"8px 0 0 0",padding:"2px 6px",textTransform:"capitalize",position:"relative"}},n.join(" "),":",e[t].isDirty?/*#__PURE__*/o.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"4px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"dirty"):null,Object.keys(e[t].errors).length?/*#__PURE__*/o.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"48px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"errors"):null,e[t].loading?/*#__PURE__*/o.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"98px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"loading"):null),/*#__PURE__*/o.default.createElement("div",null,/*#__PURE__*/o.default.createElement("select",{onChange:e=>s({key:t,tab:e.target.value}),value:c.key===t?c.tab:"data",style:{width:"47%",minWidth:"47%",maxWidth:"47%",marginRight:"2%",height:"25px"}},e[t].keys?/*#__PURE__*/o.default.createElement(o.default.Fragment,null,/*#__PURE__*/o.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/o.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/o.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/o.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/o.default.createElement("option",{value:"keys"},"Keys"),/*#__PURE__*/o.default.createElement("option",{value:"logs"},"Logs")):/*#__PURE__*/o.default.createElement(o.default.Fragment,null,/*#__PURE__*/o.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/o.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/o.default.createElement("option",{value:"parsedFieldConfig"},"Field Config"),/*#__PURE__*/o.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/o.default.createElement("option",{value:"interfaceState"},"Interface State"),/*#__PURE__*/o.default.createElement("option",{value:"undoData"},"Undo Data"),/*#__PURE__*/o.default.createElement("option",{value:"asyncData"},"Async Data"),/*#__PURE__*/o.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/o.default.createElement("option",{value:"fieldPaths"},"Field Paths"),/*#__PURE__*/o.default.createElement("option",{value:"logs"},"Logs"))),/*#__PURE__*/o.default.createElement("input",{value:l[t]||"",placeholder:"your.data.filter.path",onChange:e=>{const n=Object.assign({},l);n[t]=e.target.value,u(n)},style:{width:"47%",minWidth:"47%",maxWidth:"47%",fontSize:"12px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"4px",padding:"4px",overflowX:"scroll",whiteSpace:"pre"}})),c&&c.key===t?/*#__PURE__*/o.default.createElement("textarea",{readOnly:!0,style:{width:"calc(100% - 8px)",minWidth:"calc(100% - 8px)",maxWidth:"calc(100% - 8px)",height:"200px",fontSize:"10px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"8px",overflowX:"scroll",whiteSpace:"pre"},value:i}):null)}):null)},e.Form=ed,e.HashRouter=e=>{let{step:n,onChange:r,keys:i,prefix:o,hashFormat:a="#!"}=e;const[c,s]=(()=>{const[e,n]=t.useState(()=>window.location.hash),r=t.useCallback(()=>{n(window.location.hash)},[]);var i,o;i=()=>{!function(e){e&&e.addEventListener&&e.addEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},o=()=>{!function(e){e&&e.removeEventListener&&e.removeEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},t.useEffect(()=>(i&&i(),()=>{o&&o()}),[]);const a=t.useCallback(t=>{t!==e&&(window.location.hash=t)},[e]);return[e,a]})(),[l,u]=t.useState(!1),f=e=>i&&i[e]?i[e].key:o?o+"-"+e:e,d=()=>{if("string"==typeof c&&-1!==c.indexOf(a)){const e=(e=>{const t=e.split(a);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):Xo(i,{key:e})}return-1})(c);-1!==e&&("function"==typeof s&&s(""+a+f(e)),r(e))}else"function"==typeof s&&s(""+a+f(n))};return t.useEffect(()=>{l&&d()},[c]),t.useEffect(()=>{l&&"function"==typeof s&&s(""+a+f(n))},[n]),p=()=>{d(),u(!0)},t.useEffect(()=>{p()},[]),null;var p},e.Navigation=e=>{let{currentStep:t,onChangeStep:n,lastValidStep:r,keys:i}=e;const a=[];for(let e=0;e<i.length;e++)if(i&&i[e]&&i[e].visible){const c=i&&i[e]?i[e].key:"Step "+(e+1);a.push(t===e?/*#__PURE__*/o.default.createElement("li",{key:c,style:{textTransform:"capitalize"}},/*#__PURE__*/o.default.createElement("strong",null,c)):/*#__PURE__*/o.default.createElement("li",r>-1&&r+1<e||-1===r&&e>0?{key:c,style:{color:"#999",textTransform:"capitalize"}}:{key:c,style:{textTransform:"capitalize"},onClick:()=>n(e)},c))}/*#__PURE__*/return o.default.createElement("ul",null,a)},e.Progression=e=>{let{stepCount:t,validSteps:n,percentage:r}=e;/*#__PURE__*/return o.default.createElement("div",null,n+" / "+t+" ("+Math.round(r)+"%)")},e.Stages=Na,e.get=pe,e.plainFields=ud});
//# sourceMappingURL=lib.umd.js.map

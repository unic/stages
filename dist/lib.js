var e=require("lodash/get"),t=require("react"),n=require("lodash/findindex"),r=require("json-beautify"),i=require("lodash/find"),o=require("lodash/sortby"),a=require("lodash/uniqwith"),l=require("lodash/isequal"),s=require("lodash/set"),c=require("lodash/unset"),u=require("lodash/merge"),f=require("fast-json-stable-stringify");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=/*#__PURE__*/d(e),y=/*#__PURE__*/d(t),g=/*#__PURE__*/d(n),h=/*#__PURE__*/d(r),v=/*#__PURE__*/d(i),m=/*#__PURE__*/d(o),b=/*#__PURE__*/d(a),O=/*#__PURE__*/d(l),E=/*#__PURE__*/d(s),S=/*#__PURE__*/d(c),x=/*#__PURE__*/d(u),w=/*#__PURE__*/d(f),j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function A(e){var t={exports:{}};return e(t,t.exports),t.exports}var C,D,k=function(e){return e&&e.Math===Math&&e},R=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof j&&j)||k("object"==typeof j&&j)||function(){return this}()||Function("return this")(),F=function(e){try{return!!e()}catch(e){return!0}},T=!F(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),P=!F(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),I=Function.prototype.call,V=P?I.bind(I):function(){return I.apply(I,arguments)},L={}.propertyIsEnumerable,N=Object.getOwnPropertyDescriptor,_=N&&!L.call({1:2},1)?function(e){var t=N(this,e);return!!t&&t.enumerable}:L,M={f:_},q=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},W=Function.prototype,U=W.call,z=P&&W.bind.bind(U,U),B=P?z:function(e){return function(){return U.apply(e,arguments)}},$=B({}.toString),H=B("".slice),G=function(e){return H($(e),8,-1)},J=Object,K=B("".split),Y=F(function(){return!J("z").propertyIsEnumerable(0)})?function(e){return"String"===G(e)?K(e,""):J(e)}:J,X=function(e){return null==e},Q=TypeError,Z=function(e){if(X(e))throw new Q("Can't call method on "+e);return e},ee=function(e){return Y(Z(e))},te="object"==typeof document&&document.all,ne=void 0===te&&void 0!==te?function(e){return"function"==typeof e||e===te}:function(e){return"function"==typeof e},re=function(e){return"object"==typeof e?null!==e:ne(e)},ie=function(e,t){return arguments.length<2?ne(n=R[e])?n:void 0:R[e]&&R[e][t];var n},oe=B({}.isPrototypeOf),ae="undefined"!=typeof navigator&&String(navigator.userAgent)||"",le=R.process,se=R.Deno,ce=le&&le.versions||se&&se.version,ue=ce&&ce.v8;ue&&(D=(C=ue.split("."))[0]>0&&C[0]<4?1:+(C[0]+C[1])),!D&&ae&&(!(C=ae.match(/Edge\/(\d+)/))||C[1]>=74)&&(C=ae.match(/Chrome\/(\d+)/))&&(D=+C[1]);var fe=D,de=R.String,pe=!!Object.getOwnPropertySymbols&&!F(function(){var e=Symbol("symbol detection");return!de(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&fe&&fe<41}),ye=pe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ge=Object,he=ye?function(e){return"symbol"==typeof e}:function(e){var t=ie("Symbol");return ne(t)&&oe(t.prototype,ge(e))},ve=String,me=function(e){try{return ve(e)}catch(e){return"Object"}},be=TypeError,Oe=function(e){if(ne(e))return e;throw new be(me(e)+" is not a function")},Ee=function(e,t){var n=e[t];return X(n)?void 0:Oe(n)},Se=TypeError,xe=Object.defineProperty,we=function(e,t){try{xe(R,e,{value:t,configurable:!0,writable:!0})}catch(n){R[e]=t}return t},je="__core-js_shared__",Ae=R[je]||we(je,{}),Ce=A(function(e){(e.exports=function(e,t){return Ae[e]||(Ae[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),De=Object,ke=function(e){return De(Z(e))},Re=B({}.hasOwnProperty),Fe=Object.hasOwn||function(e,t){return Re(ke(e),t)},Te=0,Pe=Math.random(),Ie=B(1..toString),Ve=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ie(++Te+Pe,36)},Le=R.Symbol,Ne=Ce("wks"),_e=ye?Le.for||Le:Le&&Le.withoutSetter||Ve,Me=function(e){return Fe(Ne,e)||(Ne[e]=pe&&Fe(Le,e)?Le[e]:_e("Symbol."+e)),Ne[e]},qe=TypeError,We=Me("toPrimitive"),Ue=function(e){var t=function(e,t){if(!re(e)||he(e))return e;var n,r=Ee(e,We);if(r){if(void 0===t&&(t="default"),n=V(r,e,t),!re(n)||he(n))return n;throw new qe("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&ne(n=e.toString)&&!re(r=V(n,e)))return r;if(ne(n=e.valueOf)&&!re(r=V(n,e)))return r;if("string"!==t&&ne(n=e.toString)&&!re(r=V(n,e)))return r;throw new Se("Can't convert object to primitive value")}(e,t)}(e,"string");return he(t)?t:t+""},ze=R.document,Be=re(ze)&&re(ze.createElement),$e=function(e){return Be?ze.createElement(e):{}},He=!T&&!F(function(){return 7!==Object.defineProperty($e("div"),"a",{get:function(){return 7}}).a}),Ge=Object.getOwnPropertyDescriptor,Je={f:T?Ge:function(e,t){if(e=ee(e),t=Ue(t),He)try{return Ge(e,t)}catch(e){}if(Fe(e,t))return q(!V(M.f,e,t),e[t])}},Ke=T&&F(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ye=String,Xe=TypeError,Qe=function(e){if(re(e))return e;throw new Xe(Ye(e)+" is not an object")},Ze=TypeError,et=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,nt="enumerable",rt="configurable",it="writable",ot={f:T?Ke?function(e,t,n){if(Qe(e),t=Ue(t),Qe(n),"function"==typeof e&&"prototype"===t&&"value"in n&&it in n&&!n[it]){var r=tt(e,t);r&&r[it]&&(e[t]=n.value,n={configurable:rt in n?n[rt]:r[rt],enumerable:nt in n?n[nt]:r[nt],writable:!1})}return et(e,t,n)}:et:function(e,t,n){if(Qe(e),t=Ue(t),Qe(n),He)try{return et(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new Ze("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},at=T?function(e,t,n){return ot.f(e,t,q(1,n))}:function(e,t,n){return e[t]=n,e},lt=Function.prototype,st=T&&Object.getOwnPropertyDescriptor,ct=Fe(lt,"name"),ut={EXISTS:ct,PROPER:ct&&"something"===function(){}.name,CONFIGURABLE:ct&&(!T||T&&st(lt,"name").configurable)},ft=B(Function.toString);ne(Ae.inspectSource)||(Ae.inspectSource=function(e){return ft(e)});var dt,pt,yt,gt=Ae.inspectSource,ht=R.WeakMap,vt=ne(ht)&&/native code/.test(String(ht)),mt=Ce("keys"),bt=function(e){return mt[e]||(mt[e]=Ve(e))},Ot={},Et="Object already initialized",St=R.TypeError;if(vt||Ae.state){var xt=Ae.state||(Ae.state=new(0,R.WeakMap));xt.get=xt.get,xt.has=xt.has,xt.set=xt.set,dt=function(e,t){if(xt.has(e))throw new St(Et);return t.facade=e,xt.set(e,t),t},pt=function(e){return xt.get(e)||{}},yt=function(e){return xt.has(e)}}else{var wt=bt("state");Ot[wt]=!0,dt=function(e,t){if(Fe(e,wt))throw new St(Et);return t.facade=e,at(e,wt,t),t},pt=function(e){return Fe(e,wt)?e[wt]:{}},yt=function(e){return Fe(e,wt)}}var jt={set:dt,get:pt,has:yt,enforce:function(e){return yt(e)?pt(e):dt(e,{})},getterFor:function(e){return function(t){var n;if(!re(t)||(n=pt(t)).type!==e)throw new St("Incompatible receiver, "+e+" required");return n}}},At=A(function(e){var t=ut.CONFIGURABLE,n=jt.enforce,r=jt.get,i=String,o=Object.defineProperty,a=B("".slice),l=B("".replace),s=B([].join),c=T&&!F(function(){return 8!==o(function(){},"length",{value:8}).length}),u=String(String).split("String"),f=e.exports=function(e,r,f){"Symbol("===a(i(r),0,7)&&(r="["+l(i(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),f&&f.getter&&(r="get "+r),f&&f.setter&&(r="set "+r),(!Fe(e,"name")||t&&e.name!==r)&&(T?o(e,"name",{value:r,configurable:!0}):e.name=r),c&&f&&Fe(f,"arity")&&e.length!==f.arity&&o(e,"length",{value:f.arity});try{f&&Fe(f,"constructor")&&f.constructor?T&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var d=n(e);return Fe(d,"source")||(d.source=s(u,"string"==typeof r?r:"")),e};Function.prototype.toString=f(function(){return ne(this)&&r(this).source||gt(this)},"toString")}),Ct=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(ne(n)&&At(n,o,r),r.global)i?e[t]=n:we(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:ot.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Dt=Math.ceil,kt=Math.floor,Rt=Math.trunc||function(e){var t=+e;return(t>0?kt:Dt)(t)},Ft=function(e){var t=+e;return t!=t||0===t?0:Rt(t)},Tt=Math.max,Pt=Math.min,It=Math.min,Vt=function(e){var t=Ft(e);return t>0?It(t,9007199254740991):0},Lt=function(e){return Vt(e.length)},Nt=function(e){return function(t,n,r){var i,o=ee(t),a=Lt(o),l=function(e,t){var n=Ft(e);return n<0?Tt(n+t,0):Pt(n,t)}(r,a);if(e&&n!=n){for(;a>l;)if((i=o[l++])!=i)return!0}else for(;a>l;l++)if((e||l in o)&&o[l]===n)return e||l||0;return!e&&-1}},_t=(Nt(!0),Nt(!1)),Mt=B([].push),qt=function(e,t){var n,r=ee(e),i=0,o=[];for(n in r)!Fe(Ot,n)&&Fe(r,n)&&Mt(o,n);for(;t.length>i;)Fe(r,n=t[i++])&&(~_t(o,n)||Mt(o,n));return o},Wt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ut=Wt.concat("length","prototype"),zt={f:Object.getOwnPropertyNames||function(e){return qt(e,Ut)}},Bt={f:Object.getOwnPropertySymbols},$t=B([].concat),Ht=ie("Reflect","ownKeys")||function(e){var t=zt.f(Qe(e)),n=Bt.f;return n?$t(t,n(e)):t},Gt=function(e,t,n){for(var r=Ht(t),i=ot.f,o=Je.f,a=0;a<r.length;a++){var l=r[a];Fe(e,l)||n&&Fe(n,l)||i(e,l,o(t,l))}},Jt=/#|\.prototype\./,Kt=function(e,t){var n=Xt[Yt(e)];return n===Zt||n!==Qt&&(ne(t)?F(t):!!t)},Yt=Kt.normalize=function(e){return String(e).replace(Jt,".").toLowerCase()},Xt=Kt.data={},Qt=Kt.NATIVE="N",Zt=Kt.POLYFILL="P",en=Kt,tn=Je.f,nn=function(e,t){var n,r,i,o,a,l=e.target,s=e.global,c=e.stat;if(n=s?R:c?R[l]||we(l,{}):R[l]&&R[l].prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=tn(n,r))&&a.value:n[r],!en(s?r:l+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Gt(o,i)}(e.sham||i&&i.sham)&&at(o,"sham",!0),Ct(n,r,o,e)}},rn=Object.keys||function(e){return qt(e,Wt)},on=Object.assign,an=Object.defineProperty,ln=B([].concat),sn=!on||F(function(){if(T&&1!==on({b:1},on(an({},"a",{enumerable:!0,get:function(){an(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==on({},e)[n]||rn(on({},t)).join("")!==r})?function(e,t){for(var n=ke(e),r=arguments.length,i=1,o=Bt.f,a=M.f;r>i;)for(var l,s=Y(arguments[i++]),c=o?ln(rn(s),o(s)):rn(s),u=c.length,f=0;u>f;)l=c[f++],T&&!V(a,s,l)||(n[l]=s[l]);return n}:on;nn({target:"Object",stat:!0,arity:2,forced:Object.assign!==sn},{assign:sn});var cn,un={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},fn=$e("span").classList,dn=fn&&fn.constructor&&fn.constructor.prototype,pn=dn===Object.prototype?void 0:dn,yn=T&&!Ke?Object.defineProperties:function(e,t){Qe(e);for(var n,r=ee(t),i=rn(t),o=i.length,a=0;o>a;)ot.f(e,n=i[a++],r[n]);return e},gn={f:yn},hn=ie("document","documentElement"),vn="prototype",mn="script",bn=bt("IE_PROTO"),On=function(){},En=function(e){return"<"+mn+">"+e+"</"+mn+">"},Sn=function(e){e.write(En("")),e.close();var t=e.parentWindow.Object;return e=null,t},xn=function(){try{cn=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;xn="undefined"!=typeof document?document.domain&&cn?Sn(cn):(t=$e("iframe"),n="java"+mn+":",t.style.display="none",hn.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(En("document.F=Object")),e.close(),e.F):Sn(cn);for(var r=Wt.length;r--;)delete xn[vn][Wt[r]];return xn()};Ot[bn]=!0;var wn=Object.create||function(e,t){var n;return null!==e?(On[vn]=Qe(e),n=new On,On[vn]=null,n[bn]=e):n=xn(),void 0===t?n:gn.f(n,t)},jn=ot.f,An=Me("unscopables"),Cn=Array.prototype;void 0===Cn[An]&&jn(Cn,An,{configurable:!0,value:wn(null)});var Dn,kn,Rn,Fn=function(e){Cn[An][e]=!0},Tn={},Pn=!F(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),In=bt("IE_PROTO"),Vn=Object,Ln=Vn.prototype,Nn=Pn?Vn.getPrototypeOf:function(e){var t=ke(e);if(Fe(t,In))return t[In];var n=t.constructor;return ne(n)&&t instanceof n?n.prototype:t instanceof Vn?Ln:null},_n=Me("iterator"),Mn=!1;[].keys&&("next"in(Rn=[].keys())?(kn=Nn(Nn(Rn)))!==Object.prototype&&(Dn=kn):Mn=!0);var qn=!re(Dn)||F(function(){var e={};return Dn[_n].call(e)!==e});qn&&(Dn={}),ne(Dn[_n])||Ct(Dn,_n,function(){return this});var Wn={IteratorPrototype:Dn,BUGGY_SAFARI_ITERATORS:Mn},Un=ot.f,zn=Me("toStringTag"),Bn=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Fe(e,zn)&&Un(e,zn,{configurable:!0,value:t})},$n=Wn.IteratorPrototype,Hn=function(){return this},Gn=String,Jn=TypeError,Kn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=function(e,t,n){try{return B(Oe(Object.getOwnPropertyDescriptor(e,"__proto__").set))}catch(e){}}(Object.prototype))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Qe(n),function(e){if(function(e){return re(e)||null===e}(e))return e;throw new Jn("Can't set "+Gn(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Yn=ut.PROPER,Xn=ut.CONFIGURABLE,Qn=Wn.IteratorPrototype,Zn=Wn.BUGGY_SAFARI_ITERATORS,er=Me("iterator"),tr="keys",nr="values",rr="entries",ir=function(){return this},or=function(e,t){return{value:e,done:t}},ar=ot.f,lr="Array Iterator",sr=jt.set,cr=jt.getterFor(lr),ur=function(e,t,n,r,i,o,a){!function(e,t,n,r){var i=t+" Iterator";e.prototype=wn($n,{next:q(1,function(){var e=cr(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,or(void 0,!0);switch(e.kind){case"keys":return or(n,!1);case"values":return or(t[n],!1)}return or([n,t[n]],!1)})}),Bn(e,i,!1),Tn[i]=Hn}(n,t);var l,s,c,u=function(e){if(e===i&&g)return g;if(!Zn&&e&&e in p)return p[e];switch(e){case tr:case nr:case rr:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,y=p[er]||p["@@iterator"]||i&&p[i],g=!Zn&&y||u(i),h=p.entries||y;if(h&&(l=Nn(h.call(new e)))!==Object.prototype&&l.next&&(Nn(l)!==Qn&&(Kn?Kn(l,Qn):ne(l[er])||Ct(l,er,ir)),Bn(l,f,!0)),Yn&&y&&y.name!==nr&&(Xn?at(p,"name",nr):(d=!0,g=function(){return V(y,this)})),i)if(void(s={values:u(nr),keys:u(tr),entries:u(rr)}))for(c in s)(Zn||d||!(c in p))&&Ct(p,c,s[c]);else nn({target:t,proto:!0,forced:Zn||d},s);return p[er]!==g&&Ct(p,er,g,{name:i}),Tn[t]=g,s}(Array,"Array",function(e,t){sr(this,{type:lr,target:ee(e),index:0,kind:t})},0,"values"),fr=Tn.Arguments=Tn.Array;if(Fn("keys"),Fn("values"),Fn("entries"),T&&"values"!==fr.name)try{ar(fr,"name",{value:"values"})}catch(e){}var dr=Me("iterator"),pr=ur.values,yr=function(e,t){if(e){if(e[dr]!==pr)try{at(e,dr,pr)}catch(t){e[dr]=pr}if(Bn(e,t,!0),un[t])for(var n in ur)if(e[n]!==ur[n])try{at(e,n,ur[n])}catch(t){e[n]=ur[n]}}};for(var gr in un)yr(R[gr]&&R[gr].prototype,gr);yr(pn,"DOMTokenList");var hr="function"==typeof Symbol&&Symbol.for,vr=hr?Symbol.for("react.element"):60103,mr=hr?Symbol.for("react.portal"):60106,br=hr?Symbol.for("react.fragment"):60107,Or=hr?Symbol.for("react.strict_mode"):60108,Er=hr?Symbol.for("react.profiler"):60114,Sr=hr?Symbol.for("react.provider"):60109,xr=hr?Symbol.for("react.context"):60110,wr=hr?Symbol.for("react.async_mode"):60111,jr=hr?Symbol.for("react.concurrent_mode"):60111,Ar=hr?Symbol.for("react.forward_ref"):60112,Cr=hr?Symbol.for("react.suspense"):60113,Dr=hr?Symbol.for("react.suspense_list"):60120,kr=hr?Symbol.for("react.memo"):60115,Rr=hr?Symbol.for("react.lazy"):60116,Fr=hr?Symbol.for("react.block"):60121,Tr=hr?Symbol.for("react.fundamental"):60117,Pr=hr?Symbol.for("react.responder"):60118,Ir=hr?Symbol.for("react.scope"):60119;function Vr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case vr:switch(e=e.type){case wr:case jr:case br:case Er:case Or:case Cr:return e;default:switch(e=e&&e.$$typeof){case xr:case Ar:case Rr:case kr:case Sr:return e;default:return t}}case mr:return t}}}function Lr(e){return Vr(e)===jr}var Nr={AsyncMode:wr,ConcurrentMode:jr,ContextConsumer:xr,ContextProvider:Sr,Element:vr,ForwardRef:Ar,Fragment:br,Lazy:Rr,Memo:kr,Portal:mr,Profiler:Er,StrictMode:Or,Suspense:Cr,isAsyncMode:function(e){return Lr(e)||Vr(e)===wr},isConcurrentMode:Lr,isContextConsumer:function(e){return Vr(e)===xr},isContextProvider:function(e){return Vr(e)===Sr},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===vr},isForwardRef:function(e){return Vr(e)===Ar},isFragment:function(e){return Vr(e)===br},isLazy:function(e){return Vr(e)===Rr},isMemo:function(e){return Vr(e)===kr},isPortal:function(e){return Vr(e)===mr},isProfiler:function(e){return Vr(e)===Er},isStrictMode:function(e){return Vr(e)===Or},isSuspense:function(e){return Vr(e)===Cr},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===br||e===jr||e===Er||e===Or||e===Cr||e===Dr||"object"==typeof e&&null!==e&&(e.$$typeof===Rr||e.$$typeof===kr||e.$$typeof===Sr||e.$$typeof===xr||e.$$typeof===Ar||e.$$typeof===Tr||e.$$typeof===Pr||e.$$typeof===Ir||e.$$typeof===Fr)},typeOf:Vr};function _r(){}function Mr(){}A(function(e,t){}),A(function(e){e.exports=Nr}),Mr.resetWarningCache=_r;var qr=A(function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mr,resetWarningCache:_r};return n.PropTypes=n,n}()}),Wr=Function.prototype,Ur=Wr.apply,zr=Wr.call,Br="object"==typeof Reflect&&Reflect.apply||(P?zr.bind(Ur):function(){return zr.apply(Ur,arguments)}),$r=B([].slice),Hr=Array.isArray||function(e){return"Array"===G(e)},Gr={};Gr[Me("toStringTag")]="z";var Jr="[object z]"===String(Gr),Kr=Me("toStringTag"),Yr=Object,Xr="Arguments"===G(function(){return arguments}()),Qr=Jr?G:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Yr(e),Kr))?n:Xr?G(t):"Object"===(r=G(t))&&ne(t.callee)?"Arguments":r},Zr=String,ei=function(e){if("Symbol"===Qr(e))throw new TypeError("Cannot convert a Symbol value to a string");return Zr(e)},ti=B([].push),ni=String,ri=ie("JSON","stringify"),ii=B(/./.exec),oi=B("".charAt),ai=B("".charCodeAt),li=B("".replace),si=B(1..toString),ci=/[\uD800-\uDFFF]/g,ui=/^[\uD800-\uDBFF]$/,fi=/^[\uDC00-\uDFFF]$/,di=!pe||F(function(){var e=ie("Symbol")("stringify detection");return"[null]"!==ri([e])||"{}"!==ri({a:e})||"{}"!==ri(Object(e))}),pi=F(function(){return'"\\udf06\\ud834"'!==ri("\udf06\ud834")||'"\\udead"'!==ri("\udead")}),yi=function(e,t){var n=$r(arguments),r=function(e){if(ne(e))return e;if(Hr(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?ti(n,i):"number"!=typeof i&&"Number"!==G(i)&&"String"!==G(i)||ti(n,ei(i))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(Hr(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}}(t);if(ne(r)||void 0!==e&&!he(e))return n[1]=function(e,t){if(ne(r)&&(t=V(r,this,ni(e),t)),!he(t))return t},Br(ri,null,n)},gi=function(e,t,n){var r=oi(n,t-1),i=oi(n,t+1);return ii(ui,e)&&!ii(fi,i)||ii(fi,e)&&!ii(ui,r)?"\\u"+si(ai(e,0),16):e};ri&&nn({target:"JSON",stat:!0,arity:3,forced:di||pi},{stringify:function(e,t,n){var r=$r(arguments),i=Br(di?yi:ri,null,r);return pi&&"string"==typeof i?li(i,ci,gi):i}});const hi=function(e,t,n){if(void 0===n&&(n="stages-form-"),"local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage){const t=localStorage.getItem(""+n+e)||"{}";let r={};try{r=JSON.parse(t)}catch(e){}return r}return{}},vi=function(e,t,n,r){if(void 0===t&&(t={}),void 0===r&&(r="stages-form-"),("local"===n&&"undefined"!=typeof localStorage||"session"===n&&"undefined"!=typeof sessionStorage)&&"object"==typeof t){let n="{}";try{n=JSON.stringify(t)}catch(e){}localStorage.setItem(""+r+e,n)}},mi=function(e,t,n){void 0===n&&(n="stages-form-"),("local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage)&&localStorage.removeItem(""+n+e)};var bi=function(){var e=Qe(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Oi=RegExp.prototype,Ei=function(e){var t=e.flags;return void 0!==t||"flags"in Oi||Fe(e,"flags")||!oe(Oi,e)?t:V(bi,e)},Si=ut.PROPER,xi="toString",wi=RegExp.prototype,ji=wi[xi];(F(function(){return"/a/b"!==ji.call({source:"a",flags:"b"})})||Si&&ji.name!==xi)&&Ct(wi,xi,function(){var e=Qe(this);return"/"+ei(e.source)+"/"+ei(Ei(e))},{unsafe:!0});const Ai=()=>"undefined"!=typeof window&&"function"==typeof window.stagesLogging,Ci=e=>{let{children:n,initialData:r,initialStep:i,render:o,validateOnStepChange:a,onChange:l,autoSave:s,id:c}=e;const[u]=t.useState("stages-"+(c||+new Date)),[f,d]=t.useState((()=>{if(!c||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)){if(c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get){const e=s.get(c);if(Object.keys(e).length>0)return e}}else{const e=hi(c,"object"==typeof s?s.type:s);if(Object.keys(e).length>0)return e}return r})()),[p,y]=t.useState([]),[h,v]=t.useState({}),[m,b]=t.useState(i||0),[O,E]=t.useState([]),S=e=>{const t=O&&O[e]?O[e].key:e;return f&&f[t]?f[t]:{}},x=(e,t)=>(O[t]||(O[t]={key:e,visible:!0},E([...O])),e),w=(e,t,n)=>{const r=Object.assign({},f),i=O&&O[n]?O[n].key:n;Ai()&&window.stagesLogging('Handle onChange for "'+i+'"',u),h[n]=t,v(Object.assign({},h)),r[i]=e,f[i]=e,d(Object.assign({},r)),"function"==typeof l&&l({data:r,errors:h}),c&&("local"===s||"session"===s?0===Object.keys(h).length&&vi(c,r,s):"object"!=typeof s||"local"!==s.type&&"session"!==s.type?c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.save&&(s.validDataOnly&&0===Object.keys(h).length||!s.validDataOnly)&&s.save(c,r):(s.validDataOnly&&0===Object.keys(h).length||!s.validDataOnly)&&vi(c,r,s.type))},j=()=>{c&&("local"!==s&&"session"!==s||mi(c,s),"object"!=typeof s||"local"!==s.type&&"session"!==s.type||mi(c,s.type),c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.remove&&s.remove(c)),d(r),b(0),"function"==typeof l&&l({data:r,errors:h})};t.useEffect(()=>{Ai()&&(!c||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)?c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get?window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:i,errors:h,currentStep:m,savedData:s.get(c)}):window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:i,errors:h,currentStep:m,savedData:{}}):window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:i,errors:h,currentStep:m,savedData:hi(c,"object"==typeof s?s.type:s)}))},[O,f,h,m]),t.useEffect(()=>{Ai()&&window.stagesLogging("Init Stages",u),n.map((e,t)=>e({index:t,setStepKey:x,initializing:!0})).filter(e=>e)},[]),t.useEffect(()=>{if(a){const e=C();e<m&&b(-1===e?0:e+1)}y(n.map((e,t)=>e({data:S(t),allData:f,onChange:w,reset:j,onNav:A,isActive:t===m,index:t,errors:h[t]||{},setStepKey:x})).filter((e,t)=>{const n=null!==e;return O[t]&&(O[t].visible=n),n}))},[m,f]);const A=(e,t)=>{let n=m;if(Ai()&&window.stagesLogging('On nav "'+e+'" -> "'+t+'"',u),"next"===e){let e=!1;for(let t=m+1;t<O.length;t++)O[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=m-1;t>=0;t--)O[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<O.length;t++)O[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=O.length-1;t>=0;t--)O[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=C()),"step"===e&&O[t]&&O[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=g.default(O,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>O.length&&(n=O.length),b(n)},C=()=>{let e=-1,t=!1;return Object.keys(h).forEach(n=>{const r=g.default(O,{key:n});(0===Object.keys(h[n]).length||r>-1&&!O[r].visible)&&!t?e=Number(n):t=!0}),e};return 0===p.length?null:o?o({navigationProps:{currentStep:m,data:f,onChangeStep:e=>{const t=C();Ai()&&window.stagesLogging('On change step "'+e+'"',u),("number"==typeof t&&"number"==typeof e&&t+1>=e||!1===a)&&b(e)},errors:h,keys:O,stepCount:p.length,lastValidStep:C(),reset:j},progressionProps:(()=>{const e=p.length,t=C();let n=0;return Object.keys(h).forEach((e,r)=>{const i=S(r);r<=t&&0===Object.keys(h[r]).length&&Object.keys(i).length>0&&n++}),{currentStep:m,stepCount:e,validSteps:n,percentage:100/e*n,data:f,errors:h}})(),routerProps:{step:m,onChange:b,keys:O},steps:p}):null};Ci.propTypes={children:qr.arrayOf(qr.oneOfType([qr.node,qr.func])).isRequired,initialData:qr.object,render:qr.oneOfType([qr.node,qr.func]).isRequired,initialStep:qr.number,validateOnStepChange:qr.bool,id:qr.oneOfType([qr.string,qr.number])},Ci.defaultProps={initialData:{},validateOnStepChange:!0,autoSave:!1};var Di=R.RegExp,ki=F(function(){var e=Di("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),Ri=ki||F(function(){return!Di("a","y").sticky}),Fi=ki||F(function(){var e=Di("^r","gy");return e.lastIndex=2,null!==e.exec("str")}),Ti={BROKEN_CARET:Fi,MISSED_STICKY:Ri,UNSUPPORTED_Y:ki},Pi=R.RegExp,Ii=F(function(){var e=Pi(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),Vi=R.RegExp,Li=F(function(){var e=Vi("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Ni=jt.get,_i=Ce("native-string-replace",String.prototype.replace),Mi=RegExp.prototype.exec,qi=Mi,Wi=B("".charAt),Ui=B("".indexOf),zi=B("".replace),Bi=B("".slice),$i=function(){var e=/a/,t=/b*/g;return V(Mi,e,"a"),V(Mi,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Hi=Ti.BROKEN_CARET,Gi=void 0!==/()??/.exec("")[1];($i||Gi||Hi||Ii||Li)&&(qi=function(e){var t,n,r,i,o,a,l,s=this,c=Ni(s),u=ei(e),f=c.raw;if(f)return f.lastIndex=s.lastIndex,t=V(qi,f,u),s.lastIndex=f.lastIndex,t;var d=c.groups,p=Hi&&s.sticky,y=V(bi,s),g=s.source,h=0,v=u;if(p&&(y=zi(y,"y",""),-1===Ui(y,"g")&&(y+="g"),v=Bi(u,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==Wi(u,s.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,h++),n=new RegExp("^(?:"+g+")",y)),Gi&&(n=new RegExp("^"+g+"$(?!\\s)",y)),$i&&(r=s.lastIndex),i=V(Mi,p?n:s,v),p?i?(i.input=Bi(i.input,h),i[0]=Bi(i[0],h),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:$i&&i&&(s.lastIndex=s.global?i.index+i[0].length:r),Gi&&i&&i.length>1&&V(_i,i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&d)for(i.groups=a=wn(null),o=0;o<d.length;o++)a[(l=d[o])[0]]=i[l[1]];return i});var Ji=qi;nn({target:"RegExp",proto:!0,forced:/./.exec!==Ji},{exec:Ji});var Ki=Me("species"),Yi=RegExp.prototype,Xi=function(){},Qi=ie("Reflect","construct"),Zi=/^\s*(?:class|function)\b/,eo=B(Zi.exec),to=!Zi.test(Xi),no=function(e){if(!ne(e))return!1;try{return Qi(Xi,[],e),!0}catch(e){return!1}},ro=function(e){if(!ne(e))return!1;switch(Qr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return to||!!eo(Zi,gt(e))}catch(e){return!0}};ro.sham=!0;var io=!Qi||F(function(){var e;return no(no.call)||!no(Object)||!no(function(){e=!0})||e})?ro:no,oo=TypeError,ao=Me("species"),lo=function(e,t){var n,r=Qe(e).constructor;return void 0===r||X(n=Qe(r)[ao])?t:function(e){if(io(e))return e;throw new oo(me(e)+" is not a constructor")}(n)},so=B("".charAt),co=B("".charCodeAt),uo=B("".slice),fo=function(e){return function(t,n){var r,i,o=ei(Z(t)),a=Ft(n),l=o.length;return a<0||a>=l?e?"":void 0:(r=co(o,a))<55296||r>56319||a+1===l||(i=co(o,a+1))<56320||i>57343?e?so(o,a):r:e?uo(o,a,a+2):i-56320+(r-55296<<10)+65536}},po=(fo(!1),fo(!0)),yo=function(e,t,n){return t+(n?po(e,t).length:1)},go=TypeError,ho=function(e,t){var n=e.exec;if(ne(n)){var r=V(n,e,t);return null!==r&&Qe(r),r}if("RegExp"===G(e))return V(Ji,e,t);throw new go("RegExp#exec called on incompatible receiver")},vo=Ti.UNSUPPORTED_Y,mo=Math.min,bo=B([].push),Oo=B("".slice),Eo=!F(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),So="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;!function(e,t,n,r){var i,o,a,l,s=Me(e),c=!F(function(){var t={};return t[s]=function(){return 7},7!==""[e](t)}),u=c&&!F(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[Ki]=function(){return t},t.flags="",t[s]=/./[s],t.exec=function(){return e=!0,null},t[s](""),!e});if(!c||!u||n){var f=/./[s],d=(i=s,o=""[e],a=function(e,t,n,r,i){var o=t.exec;return o===Ji||o===Yi.exec?c&&!i?{done:!0,value:V(f,t,n,r)}:{done:!0,value:V(e,n,t,r)}:{done:!1}},l="0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:V(o,this,e,t)}:o,[function(e,t){var n=Z(this),r=X(e)?void 0:Ee(e,i);return r?V(r,e,n,t):V(l,ei(n),e,t)},function(e,t){var n=Qe(this),r=ei(e);if(!So){var i=a(l,n,r,t,l!==o);if(i.done)return i.value}var s=lo(n,RegExp),c=n.unicode,u=new s(vo?"^(?:"+n.source+")":n,(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(vo?"g":"y")),f=void 0===t?4294967295:t>>>0;if(0===f)return[];if(0===r.length)return null===ho(u,r)?[r]:[];for(var d=0,p=0,y=[];p<r.length;){u.lastIndex=vo?0:p;var g,h=ho(u,vo?Oo(r,p):r);if(null===h||(g=mo(Vt(u.lastIndex+(vo?p:0)),r.length))===d)p=yo(r,p,c);else{if(bo(y,Oo(r,d,p)),y.length===f)return y;for(var v=1;v<=h.length-1;v++)if(bo(y,h[v]),y.length===f)return y;p=d=g}}return bo(y,Oo(r,d)),y}]);Ct(String.prototype,e,d[0]),Ct(Yi,s,d[1])}r&&at(Yi[s],"sham",!0)}("split",0,So||!Eo,vo);var xo=B([].reverse),wo=[1,2];nn({target:"Array",proto:!0,forced:String(wo)===String(wo.reverse())},{reverse:function(){return Hr(this)&&(this.length=this.length),xo(this)}});var jo=TypeError,Ao=function(e,t){if(!delete e[t])throw new jo("Cannot delete property "+me(t)+" of "+me(e))},Co=Math.floor,Do=function(e,t){var n=e.length;if(n<8)for(var r,i,o=1;o<n;){for(i=o,r=e[o];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==o++&&(e[i]=r)}else for(var a=Co(n/2),l=Do($r(e,0,a),t),s=Do($r(e,a),t),c=l.length,u=s.length,f=0,d=0;f<c||d<u;)e[f+d]=f<c&&d<u?t(l[f],s[d])<=0?l[f++]:s[d++]:f<c?l[f++]:s[d++];return e},ko=Do,Ro=ae.match(/firefox\/(\d+)/i),Fo=!!Ro&&+Ro[1],To=/MSIE|Trident/.test(ae),Po=ae.match(/AppleWebKit\/(\d+)\./),Io=!!Po&&+Po[1],Vo=[],Lo=B(Vo.sort),No=B(Vo.push),_o=F(function(){Vo.sort(void 0)}),Mo=F(function(){Vo.sort(null)}),qo=function(e,t){var n=[].sort;return!!n&&F(function(){n.call(null,function(){return 1},1)})}(),Wo=!F(function(){if(fe)return fe<70;if(!(Fo&&Fo>3)){if(To)return!0;if(Io)return Io<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Vo.push({k:t+r,v:n})}for(Vo.sort(function(e,t){return t.v-e.v}),r=0;r<Vo.length;r++)t=Vo[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});nn({target:"Array",proto:!0,forced:_o||!Mo||!qo||!Wo},{sort:function(e){void 0!==e&&Oe(e);var t=ke(this);if(Wo)return void 0===e?Lo(t):Lo(t,e);var n,r,i=[],o=Lt(t);for(r=0;r<o;r++)r in t&&No(i,t[r]);for(ko(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:ei(t)>ei(n)?1:-1}}(e)),n=Lt(i),r=0;r<n;)t[r]=i[r++];for(;r<o;)Ao(t,r++);return t}});var Uo=B(1..valueOf),zo=RangeError,Bo=RangeError,$o=String,Ho=Math.floor,Go=B(function(e){var t=ei(Z(this)),n="",r=Ft(e);if(r<0||Infinity===r)throw new zo("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),Jo=B("".slice),Ko=B(1..toFixed),Yo=function(e,t,n){return 0===t?n:t%2==1?Yo(e,t-1,n*e):Yo(e*e,t/2,n)},Xo=function(e,t,n){for(var r=-1,i=n;++r<6;)e[r]=(i+=t*e[r])%1e7,i=Ho(i/1e7)},Qo=function(e,t){for(var n=6,r=0;--n>=0;)e[n]=Ho((r+=e[n])/t),r=r%t*1e7},Zo=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=$o(e[t]);n=""===n?r:n+Go("0",7-r.length)+r}return n},ea=F(function(){return"0.000"!==Ko(8e-5,3)||"1"!==Ko(.9,0)||"1.25"!==Ko(1.255,2)||"1000000000000000128"!==Ko(0xde0b6b3a7640080,0)})||!F(function(){Ko({})});nn({target:"Number",proto:!0,forced:ea},{toFixed:function(e){var t,n,r,i,o=Uo(this),a=Ft(e),l=[0,0,0,0,0,0],s="",c="0";if(a<0||a>20)throw new Bo("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return $o(o);if(o<0&&(s="-",o=-o),o>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*Yo(2,69,1))-69,n=t<0?o*Yo(2,-t,1):o/Yo(2,t,1),n*=4503599627370496,(t=52-t)>0){for(Xo(l,0,n),r=a;r>=7;)Xo(l,1e7,0),r-=7;for(Xo(l,Yo(10,r,1),0),r=t-1;r>=23;)Qo(l,1<<23),r-=23;Qo(l,1<<r),Xo(l,1,1),Qo(l,2),c=Zo(l)}else Xo(l,0,n),Xo(l,1<<-t,0),c=Zo(l)+Go("0",a);return a>0?s+((i=c.length)<=a?"0."+Go("0",a-i)+c:Jo(c,0,i-a)+"."+Jo(c,i-a)):s+c}});var ta,na,ra,ia,oa="process"===G(R.process),aa=Me("species"),la=function(e){var t,n,r,i=ie(e);T&&i&&!i[aa]&&(t=i,n=aa,(r={configurable:!0,get:function(){return this}}).get&&At(r.get,n,{getter:!0}),r.set&&At(r.set,n,{setter:!0}),ot.f(t,n,r))},sa=TypeError,ca=function(e){if("Function"===G(e))return B(e)},ua=ca(ca.bind),fa=function(e,t){return Oe(e),void 0===t?e:P?ua(e,t):function(){return e.apply(t,arguments)}},da=TypeError,pa=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),ya=R.setImmediate,ga=R.clearImmediate,ha=R.process,va=R.Dispatch,ma=R.Function,ba=R.MessageChannel,Oa=R.String,Ea=0,Sa={},xa="onreadystatechange";F(function(){ta=R.location});var wa=function(e){if(Fe(Sa,e)){var t=Sa[e];delete Sa[e],t()}},ja=function(e){return function(){wa(e)}},Aa=function(e){wa(e.data)},Ca=function(e){R.postMessage(Oa(e),ta.protocol+"//"+ta.host)};ya&&ga||(ya=function(e){!function(e,t){if(e<1)throw new da("Not enough arguments")}(arguments.length);var t=ne(e)?e:ma(e),n=$r(arguments,1);return Sa[++Ea]=function(){Br(t,void 0,n)},na(Ea),Ea},ga=function(e){delete Sa[e]},oa?na=function(e){ha.nextTick(ja(e))}:va&&va.now?na=function(e){va.now(ja(e))}:ba&&!pa?(ia=(ra=new ba).port2,ra.port1.onmessage=Aa,na=fa(ia.postMessage,ia)):R.addEventListener&&ne(R.postMessage)&&!R.importScripts&&ta&&"file:"!==ta.protocol&&!F(Ca)?(na=Ca,R.addEventListener("message",Aa,!1)):na=xa in $e("script")?function(e){hn.appendChild($e("script"))[xa]=function(){hn.removeChild(this),wa(e)}}:function(e){setTimeout(ja(e),0)});var Da={set:ya,clear:ga},ka=Object.getOwnPropertyDescriptor,Ra=function(){this.head=null,this.tail=null};Ra.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Fa,Ta,Pa,Ia,Va,La=Ra,Na=/ipad|iphone|ipod/i.test(ae)&&"undefined"!=typeof Pebble,_a=/web0s(?!.*chrome)/i.test(ae),Ma=Da.set,qa=R.MutationObserver||R.WebKitMutationObserver,Wa=R.document,Ua=R.process,za=R.Promise,Ba=function(e){if(!T)return R[e];var t=ka(R,e);return t&&t.value}("queueMicrotask");if(!Ba){var $a=new La,Ha=function(){var e,t;for(oa&&(e=Ua.domain)&&e.exit();t=$a.get();)try{t()}catch(e){throw $a.head&&Fa(),e}e&&e.enter()};pa||oa||_a||!qa||!Wa?!Na&&za&&za.resolve?((Ia=za.resolve(void 0)).constructor=za,Va=fa(Ia.then,Ia),Fa=function(){Va(Ha)}):oa?Fa=function(){Ua.nextTick(Ha)}:(Ma=fa(Ma,R),Fa=function(){Ma(Ha)}):(Ta=!0,Pa=Wa.createTextNode(""),new qa(Ha).observe(Pa,{characterData:!0}),Fa=function(){Pa.data=Ta=!Ta}),Ba=function(e){$a.head||Fa(),$a.add(e)}}var Ga,Ja,Ka,Ya=Ba,Xa=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Qa=R.Promise,Za="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,el=!Za&&!oa&&"object"==typeof window&&"object"==typeof document,tl=Me("species"),nl=!1,rl=ne(R.PromiseRejectionEvent),il=en("Promise",function(){var e=gt(Qa),t=e!==String(Qa);if(!t&&66===fe)return!0;if(!fe||fe<51||!/native code/.test(e)){var n=new Qa(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[tl]=r,!(nl=n.then(function(){})instanceof r))return!0}return!t&&(el||Za)&&!rl}),ol={CONSTRUCTOR:il,REJECTION_EVENT:rl,SUBCLASSING:nl},al=TypeError,ll=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new al("Bad Promise constructor");t=e,n=r}),this.resolve=Oe(t),this.reject=Oe(n)},sl={f:function(e){return new ll(e)}},cl=Da.set,ul="Promise",fl=ol.CONSTRUCTOR,dl=ol.REJECTION_EVENT,pl=ol.SUBCLASSING,yl=jt.getterFor(ul),gl=jt.set,hl=Qa&&Qa.prototype,vl=Qa,ml=hl,bl=R.TypeError,Ol=R.document,El=R.process,Sl=sl.f,xl=Sl,wl=!!(Ol&&Ol.createEvent&&R.dispatchEvent),jl="unhandledrejection",Al=function(e){var t;return!(!re(e)||!ne(t=e.then))&&t},Cl=function(e,t){var n,r,i,o=t.value,a=1===t.state,l=a?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{l?(a||(2===t.rejection&&Tl(t),t.rejection=1),!0===l?n=o:(u&&u.enter(),n=l(o),u&&(u.exit(),i=!0)),n===e.promise?c(new bl("Promise-chain cycle")):(r=Al(n))?V(r,n,s,c):s(n)):c(o)}catch(e){u&&!i&&u.exit(),c(e)}},Dl=function(e,t){e.notified||(e.notified=!0,Ya(function(){for(var n,r=e.reactions;n=r.get();)Cl(n,e);e.notified=!1,t&&!e.rejection&&Rl(e)}))},kl=function(e,t,n){var r,i;wl?((r=Ol.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),R.dispatchEvent(r)):r={promise:t,reason:n},!dl&&(i=R["on"+e])?i(r):e===jl&&function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}("Unhandled promise rejection",n)},Rl=function(e){V(cl,R,function(){var t,n=e.facade,r=e.value;if(Fl(e)&&(t=Xa(function(){oa?El.emit("unhandledRejection",r,n):kl(jl,n,r)}),e.rejection=oa||Fl(e)?2:1,t.error))throw t.value})},Fl=function(e){return 1!==e.rejection&&!e.parent},Tl=function(e){V(cl,R,function(){var t=e.facade;oa?El.emit("rejectionHandled",t):kl("rejectionhandled",t,e.value)})},Pl=function(e,t,n){return function(r){e(t,r,n)}},Il=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Dl(e,!0))},Vl=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new bl("Promise can't be resolved itself");var r=Al(t);r?Ya(function(){var n={done:!1};try{V(r,t,Pl(Vl,n,e),Pl(Il,n,e))}catch(t){Il(n,t,e)}}):(e.value=t,e.state=1,Dl(e,!1))}catch(t){Il({done:!1},t,e)}}};if(fl&&(vl=function(e){!function(e,t){if(oe(ml,e))return e;throw new sa("Incorrect invocation")}(this),Oe(e),V(Ga,this);var t=yl(this);try{e(Pl(Vl,t),Pl(Il,t))}catch(e){Il(t,e)}},(Ga=function(e){gl(this,{type:ul,done:!1,notified:!1,parent:!1,reactions:new La,rejection:!1,state:0,value:void 0})}).prototype=Ct(ml=vl.prototype,"then",function(e,t){var n=yl(this),r=Sl(lo(this,vl));return n.parent=!0,r.ok=!ne(e)||e,r.fail=ne(t)&&t,r.domain=oa?El.domain:void 0,0===n.state?n.reactions.add(r):Ya(function(){Cl(r,n)}),r.promise}),Ja=function(){var e=new Ga,t=yl(e);this.promise=e,this.resolve=Pl(Vl,t),this.reject=Pl(Il,t)},sl.f=Sl=function(e){return e===vl||void 0===e?new Ja(e):xl(e)},ne(Qa)&&hl!==Object.prototype)){Ka=hl.then,pl||Ct(hl,"then",function(e,t){var n=this;return new vl(function(e,t){V(Ka,n,e,t)}).then(e,t)},{unsafe:!0});try{delete hl.constructor}catch(e){}Kn&&Kn(hl,ml)}nn({global:!0,constructor:!0,wrap:!0,forced:fl},{Promise:vl}),Bn(vl,ul,!1),la(ul);var Ll=Me("iterator"),Nl=Array.prototype,_l=Me("iterator"),Ml=function(e){if(!X(e))return Ee(e,_l)||Ee(e,"@@iterator")||Tn[Qr(e)]},ql=TypeError,Wl=function(e,t,n){var r,i;Qe(e);try{if(!(r=Ee(e,"return"))){if("throw"===t)throw n;return n}r=V(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Qe(r),n},Ul=TypeError,zl=function(e,t){this.stopped=e,this.result=t},Bl=zl.prototype,$l=function(e,t,n){var r,i,o,a,l,s,c,u,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=fa(t,n&&n.that),h=function(e){return r&&Wl(r,"normal",e),new zl(!0,e)},v=function(e){return f?(Qe(e),y?g(e[0],e[1],h):g(e[0],e[1])):y?g(e,h):g(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(i=Ml(e)))throw new Ul(me(e)+" is not iterable");if(void 0!==(u=i)&&(Tn.Array===u||Nl[Ll]===u)){for(o=0,a=Lt(e);a>o;o++)if((l=v(e[o]))&&oe(Bl,l))return l;return new zl(!1)}r=function(e,t){var n=arguments.length<2?Ml(e):t;if(Oe(n))return Qe(V(n,e));throw new ql(me(e)+" is not iterable")}(e,i)}for(s=d?e.next:r.next;!(c=V(s,r)).done;){try{l=v(c.value)}catch(e){Wl(r,"throw",e)}if("object"==typeof l&&l&&oe(Bl,l))return l}return new zl(!1)},Hl=Me("iterator"),Gl=!1;try{var Jl=0,Kl={next:function(){return{done:!!Jl++}},return:function(){Gl=!0}};Kl[Hl]=function(){return this},Array.from(Kl,function(){throw 2})}catch(e){}var Yl=ol.CONSTRUCTOR||!function(e,t){try{if(!Gl)return!1}catch(e){return!1}var n=!1;try{var r={};r[Hl]=function(){return{next:function(){return{done:n=!0}}}},Qa.all(r).then(void 0,function(){})}catch(e){}return n}();nn({target:"Promise",stat:!0,forced:Yl},{all:function(e){var t=this,n=sl.f(t),r=n.resolve,i=n.reject,o=Xa(function(){var n=Oe(t.resolve),o=[],a=0,l=1;$l(e,function(e){var s=a++,c=!1;l++,V(n,t,e).then(function(e){c||(c=!0,o[s]=e,--l||r(o))},i)}),--l||r(o)});return o.error&&i(o.value),n.promise}});var Xl=Qa&&Qa.prototype;if(nn({target:"Promise",proto:!0,forced:ol.CONSTRUCTOR,real:!0},{catch:function(e){return this.then(void 0,e)}}),ne(Qa)){var Ql=ie("Promise").prototype.catch;Xl.catch!==Ql&&Ct(Xl,"catch",Ql,{unsafe:!0})}nn({target:"Promise",stat:!0,forced:Yl},{race:function(e){var t=this,n=sl.f(t),r=n.reject,i=Xa(function(){var i=Oe(t.resolve);$l(e,function(e){V(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),nn({target:"Promise",stat:!0,forced:ol.CONSTRUCTOR},{reject:function(e){var t=sl.f(this);return(0,t.reject)(e),t.promise}}),nn({target:"Promise",stat:!0,forced:ol.CONSTRUCTOR},{resolve:function(e){return function(e,t){if(Qe(e),re(t)&&t.constructor===e)return t;var n=sl.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var Zl=Me("match"),es=function(e){var t;return re(e)&&(void 0!==(t=e[Zl])?!!t:"RegExp"===G(e))},ts=ot.f,ns=function(e,t,n){n in e||ts(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},rs=zt.f,is=jt.enforce,os=Me("match"),as=R.RegExp,ls=as.prototype,ss=R.SyntaxError,cs=B(ls.exec),us=B("".charAt),fs=B("".replace),ds=B("".indexOf),ps=B("".slice),ys=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,gs=/a/g,hs=/a/g,vs=new as(gs)!==gs,ms=Ti.MISSED_STICKY,bs=Ti.UNSUPPORTED_Y,Os=T&&(!vs||ms||Ii||Li||F(function(){return hs[os]=!1,as(gs)!==gs||as(hs)===hs||"/a/i"!==String(as(gs,"i"))}));if(en("RegExp",Os)){for(var Es=function(e,t){var n,r,i,o,a,l,s,c,u,f,d=oe(ls,this),p=es(e),y=void 0===t,g=[],h=e;if(!d&&p&&y&&e.constructor===Es)return e;if((p||oe(ls,e))&&(e=e.source,y&&(t=Ei(h))),e=void 0===e?"":ei(e),t=void 0===t?"":ei(t),h=e,Ii&&"dotAll"in gs&&(r=!!t&&ds(t,"s")>-1)&&(t=fs(t,/s/g,"")),n=t,ms&&"sticky"in gs&&(i=!!t&&ds(t,"y")>-1)&&bs&&(t=fs(t,/y/g,"")),Li&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a=wn(null),l=!1,s=!1,c=0,u="";r<=n;r++){if("\\"===(t=us(e,r)))t+=us(e,++r);else if("]"===t)l=!1;else if(!l)switch(!0){case"["===t:l=!0;break;case"("===t:cs(ys,ps(e,r+1))&&(r+=2,s=!0),i+=t,c++;continue;case">"===t&&s:if(""===u||Fe(a,u))throw new ss("Invalid capture group name");a[u]=!0,o[o.length]=[u,c],s=!1,u="";continue}s?u+=t:i+=t}return[i,o]}(e),e=o[0],g=o[1]),s=as(e,t),c=Es,Kn&&ne(u=(d?this:ls).constructor)&&u!==c&&re(f=u.prototype)&&f!==c.prototype&&Kn(s,f),a=s,(r||i||g.length)&&(l=is(a),r&&(l.dotAll=!0,l.raw=Es(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=us(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+us(e,++r);return i}(e),n)),i&&(l.sticky=!0),g.length&&(l.groups=g)),e!==h)try{at(a,"source",""===h?"(?:)":h)}catch(e){}return a},Ss=rs(as),xs=0;Ss.length>xs;)ns(Es,as,Ss[xs++]);ls.constructor=Es,Es.prototype=ls,Ct(R,"RegExp",Es,{constructor:!0})}la("RegExp");var ws,js,As=(ws=!1,(js=/[ac]/).exec=function(){return ws=!0,/./.exec.apply(this,arguments)},!0===js.test("abc")&&ws),Cs=/./.test;nn({target:"RegExp",proto:!0,forced:!As},{test:function(e){var t=Qe(this),n=ei(e),r=t.exec;if(!ne(r))return V(Cs,t,n);var i=V(r,t,n);return null!==i&&(Qe(i),!0)}});var Ds,ks=TypeError,Rs=function(e){if(es(e))throw new ks("The method doesn't accept regular expressions");return e},Fs=Me("match"),Ts=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Fs]=!1,"/./"[e](t)}catch(e){}}return!1},Ps=Je.f,Is=ca("".slice),Vs=Math.min,Ls=Ts("endsWith"),Ns=!(Ls||(Ds=Ps(String.prototype,"endsWith"),!Ds||Ds.writable));nn({target:"String",proto:!0,forced:!Ns&&!Ls},{endsWith:function(e){var t=ei(Z(this));Rs(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:Vs(Vt(n),r),o=ei(e);return Is(t,i-o.length,i)===o}});var _s=Je.f,Ms=ca("".slice),qs=Math.min,Ws=Ts("startsWith"),Us=!Ws&&!!function(){var e=_s(String.prototype,"startsWith");return e&&!e.writable}();nn({target:"String",proto:!0,forced:!Us&&!Ws},{startsWith:function(e){var t=ei(Z(this));Rs(e);var n=Vt(qs(arguments.length>1?arguments[1]:void 0,t.length)),r=ei(e);return Ms(t,n,n+r.length)===r}});const zs=(e,t,n)=>n&&Array.isArray(e)?"number"===t?e.map(e=>Number(e)):"string"===t?e.map(e=>String(e)):"boolean"===t?e.map(e=>Boolean(e)):"date"===t?e.map(e=>new Date(e)):e:"number"===t?Number(e):"string"===t?String(e):"boolean"===t?Boolean(e):"date"===t?new Date(e):e,Bs=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{n[r]=void 0!==e[r]?e[r]:t[r].default,void 0===e[r]&&t[r].required&&console.warn('Param "'+r+'" is required but is missing in field configs!'),void 0!==e[r]&&typeof e[r]!==t[r].type&&console.warn('Param "'+r+'" is not of type "'+t[r].type+'"!')}),n},$s={};let Hs,Gs,Js,Ks=0;const Ys={},Xs=e=>{let{config:n,data:r,render:i,renderFields:o,fields:a,onChange:l,isVisible:s,isDisabled:c,id:u,onValidation:f,parentRunValidation:d,validateOn:h,throttleWait:j,customEvents:A,enableUndo:C,undoMaxDepth:D,customRuleHandlers:k,autoSave:R,typeValidations:F,fieldsets:T,initialInterfaceState:P,hashSeparator:I}=e;const V=t.useRef(!1),[L,N]=t.useState(P),_=Object.assign({},r);x.default(_,L);const[M]=t.useState("form-"+(u||"noid")+"-"+ +new Date),[q,W]=t.useState(!1),[U,z]=t.useState({}),[B,$]=t.useState(!1),[H,G]=t.useState([]),[J,K]=t.useState(0),[Y,X]=t.useState(!1),[Q,Z]=t.useState(!1),[ee,te]=t.useState({}),[ne,re]=t.useState({}),[ie,oe]=t.useState(),[ae,le]=t.useState({}),[se,ce]=t.useState(!1),[ue,fe]=t.useState(""),[de,pe]=t.useState(""),[ye,ge]=t.useState([]),[he,ve]=t.useState({}),me=((e,t,n,r,i,o)=>{let a="function"==typeof e.fields?e.fields(t,n,r):"function"==typeof e?e(t,n,r):Array.isArray(e)?e:[];const l=i=>{if("string"==typeof i&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[i])return e.fieldConfigs[i](t,n,r);if("object"==typeof i&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[i.type]){const o=e.fieldConfigs[i.type](t,n,r);return Object.assign({},o,i,{type:o.type})}return"object"==typeof i&&o[i.type]?{id:i.id,type:"fieldset",fieldset:i.type,fields:o[i.type].config({data:t,asyncData:n,interfaceState:r,params:Bs(i.params||{},o[i.type].params)}),params:i.params}:"function"==typeof i?i(t,n,r):i};return a=a.map(e=>("object"!=typeof e||"group"!==e.type&&"collection"!==e.type&&"fieldset"!==e.type||!Array.isArray(e.fields)||(e.fields=e.fields.map(e=>l(e))),"object"==typeof e&&"wizard"===e.type&&Array.isArray(e.stages)&&(e.stages=e.stages.map(e=>l(e))),l(e))),i.forEach(e=>{const r=p.default(a,e.path);if(Array.isArray(r)){if("add"===e.action&&r.push(e.fields(t,n)),"remove"===e.action){const i=e.fields(t,n),o=g.default(r,{id:i.id});o>-1&&r.splice(o,1)}E.default(a,e.path,r)}}),a})(n,_,ie,L,ye,T),be=((e,t,n)=>{const r=[];return function i(o,a,l){void 0===o&&(o=""),void 0===a&&(a=""),void 0===l&&(l="");let s=[o?p.default(e,o):e],c=[];Array.isArray(s[0])||(c=Object.keys(s[0]),s=Object.values(s[0])),("stage"!==l||((e,t)=>{let n=!1;return Object.keys(e).forEach(r=>{r+"."+e[r]===t&&(n=!0)}),n})(n,a))&&s.forEach((e,n)=>{const l=void 0!==c[n]?c[n]:void 0;Array.isArray(e)&&e.forEach((e,n)=>{const s=a?a+"."+e.id:e.id,c=p.default(t,s),u=p.default(t,a);if((l&&u&&u.__typename===l||!l)&&r.push({path:s,config:e,data:c}),"collection"===e.type){const r=a?p.default(t,a+"."+e.id):t[e.id];r&&Array.isArray(r)&&r.forEach((t,r)=>{i(o+"["+n+"].fields",a?a+"."+e.id+"["+r+"]":e.id+"["+r+"]")})}else"group"===e.type||"fieldset"===e.type||"stage"===e.type?i(o+"["+n+"].fields",s,e.type):"wizard"===e.type&&i(o+"["+n+"].stages",s,"wizard")})})}(),r})(me,_,he);t.useEffect(()=>(V.current=!0,()=>{V.current=!1}),[]),t.useEffect(()=>{const e=("undefined"!=typeof window?window.location.hash.substring(2):"").split(I||":"),t=Object.assign({},he);e.forEach(e=>{const n=e.split("."),r=n.slice(0,-1).join("."),i=n[n.length-1];r&&i&&(t[r]=i)}),be.forEach(e=>{"wizard"!==e.config.type||t[e.path]&&(!t[e.path]||v.default(e.config.stages,{id:t[e.path]}))||(t[e.path]=e.config.stages[0].id)}),JSON.stringify(he)!==JSON.stringify(t)&&ve(t)},[n]);const Oe=()=>V&&!0===V.current;t.useEffect(()=>{if(r&&!B){let e;Ai()&&window.stagesLogging("Set initial data",M),be.forEach(t=>{if(void 0!==t.config.defaultValue&&void 0===p.default(r,t.path)){const e="function"==typeof t.config.defaultValue?t.config.defaultValue(r):t.config.defaultValue;E.default(r,t.path,e),E.default(_,t.path,e)}if(Array.isArray(t.config.validateOn)&&t.config.validateOn.indexOf("init")>-1||Array.isArray(h)&&h.indexOf("init")>-1){const n=xe(t.path,"init",r,ae);e=Object.assign({},ae,n)}e&&le(e)});const t=w.default(r);let n;$(JSON.parse(t)),"local"===R||"session"===R||"object"==typeof R&&("local"===R.type||"session"===R.type)?n=hi(u,"object"==typeof R?R.type:R):u&&"object"==typeof R&&"custom"===R.type&&"function"==typeof R.get&&(n=R.get(u)),n&&Object.keys(n).length>0&&setTimeout(()=>{W(!!n.isDirty),z("object"==typeof n.dirtyFields?n.dirtyFields:{}),De(n.data,we(!1,n.data),u)},0)}},[r]),t.useEffect(()=>{if(Ai()){let e;e="local"===R||"session"===R||"object"==typeof R&&("local"===R.type||"session"===R.type)?hi(u,"object"==typeof R?R.type:R):u&&"object"==typeof R&&"custom"===R.type&&"function"==typeof R.get?R.get(u):{},window.stagesLogging({id:M,data:r,initialData:B,interfaceState:L,undoData:H,asyncData:ie,errors:ae,fieldPaths:be,isDirty:q,focusedField:ue,lastFocusedField:de,dirtyFields:U,loading:se,parsedFieldConfig:me,savedData:e})}},[r,ae,q,ue,de,U,se]);const Ee=e=>"collection"===e||"subform"===e||"group"===e||"fieldset"===e||"config"===e||"wizard"===e||"stage"===e,Se=(e,t,n,r)=>{if(!a[t.type])return!0;const i=p.default(n,e),o=!Ee(t.type)&&a[t.type].isValid(i,t);if(F[t.type]&&"function"==typeof F[t.type].validation&&!t.customValidation)return F[t.type].validation({data:i,allData:n,interfaceState:L,fieldConfig:t,isValid:o,fieldHasFocus:!(!ue||ue!==e),fieldIsDirty:void 0!==U[e],triggeringEvent:r});if(("string"==typeof t.regexValidation||t.regexValidation instanceof RegExp)&&!t.customValidation){let e;if("string"==typeof t.regexValidation)try{e=new RegExp(t.regexValidation)}catch(e){}else e=t.regexValidation;return o&&(e.test(i)||!i)}if(!Ee(t.type)&&"function"==typeof t.customValidation){const a=t.customValidation({data:i,allData:n,interfaceState:L,fieldConfig:t,isValid:o,fieldHasFocus:!(!ue||ue!==e),fieldIsDirty:void 0!==U[e],triggeringEvent:r});if(!function(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}(a))return a;!function(){const n=+new Date;Hs=Object.assign({},Hs,{[e]:n}),a.then(r=>{Hs[e]===n&&(!0!==r?(delete Hs[e],le(Object.assign({},ae,{[e]:{field:t}}))):(delete Hs[e],le(Object.assign({},ae))),Hs=Object.assign({},Hs))})}()}return o},xe=(e,t,n,r,i)=>{const o=v.default(be,{path:e}).config;Ai()&&"render"!==t&&window.stagesLogging('Validate field "'+e+'"',M);const l=Se(e,o,n,t),s=p.default(n,e);return r[e]&&delete r[e],Ee(o.type)||!0===l?"collection"===o.type&&o.isRequired&&(!s||0===s.length||1===s.length&&0===Object.keys(s[0]).length)?(i||(i=e),r[e]={value:s,field:o}):"collection"===o.type&&(Array.isArray(o.fields)?o.fields.forEach(i=>{s&&s.forEach((l,c)=>{const u=e+"["+c+"]."+i.id;if(!(o.isRequired||l&&0!==Object.keys(l).length))return;const f=Se(i,u,l,t);if(a[i.type]&&!0!==f)r[e]={value:s,subField:i,errorCode:!1!==f?f:void 0};else if(a[i.type]&&i.isUnique){let t=p.default(n,e,[]).filter(e=>void 0!==e[i.id]).map(e=>e[i.id]);[...new Set(t)].length!==t.length&&(r[e]={value:s,subField:i,errorCode:"notUnique"})}})}):s&&s.forEach((n,i)=>{(o.isRequired||n&&0!==Object.keys(n).length)&&o.fields[n.__typename]&&o.fields[n.__typename].forEach(o=>{const l=Se(o,e+"["+i+"]."+o.id,n,t);a[o.type]&&!0!==l&&(r[e]={value:s,subField:o,errorCode:!1!==l?l:void 0})})})):(i||(i=e),r[e]={value:s,field:o,errorCode:!1!==l?l:void 0}),"collection"===o.type&&o.uniqEntries&&s&&b.default(s,(e,t)=>w.default(e)===w.default(t)).length!==s.length&&(r[e]={value:s,field:o}),"collection"===o.type&&o.rules&&"object"==typeof o.rules&&s&&Object.keys(o.rules).forEach(t=>{const n=o.rules[t];Object.keys(n).forEach(i=>{const a=n[i],l=t.indexOf(",")>-1?t.split(","):[t],c=i.indexOf(",")>-1?i.split(","):[i],u=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);const n=[];return e.forEach(e=>{t.forEach(t=>{n.push([e,t])})}),n}(l,c);let f=!0;if(a.maxCount&&"number"==typeof a.maxCount&&u.forEach(e=>{let t=0;s.forEach(n=>p.default(n,e[0])===e[1]?t++:void 0),t>a.maxCount&&(f=!1)}),a.minCount&&"number"==typeof a.minCount&&u.forEach(e=>{let t=0;s.forEach(n=>p.default(n,e[0])===e[1]?t++:void 0),t<a.minCount&&(f=!1)}),a.exactCount&&"number"==typeof a.exactCount&&u.forEach(e=>{let t=0;s.forEach(n=>p.default(n,e[0])===e[1]?t++:void 0),t!==a.exactCount&&(f=!1)}),a.sameCountAs&&"string"==typeof a.sameCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{p.default(r,e[0])===e[1]&&t++,p.default(r,e[0])===a.sameCountAs&&n++}),t!==n&&(f=!1)}),a.differentCountAs&&"string"==typeof a.differentCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{p.default(r,e[0])===e[1]&&t++,p.default(r,e[0])===a.differentCountAs&&n++}),t===n&&(f=!1)}),(a.sameSumAs&&"string"==typeof a.sameSumAs||a.differentSumAs&&"string"==typeof a.differentSumAs||a.biggerSumAs&&"string"==typeof a.biggerSumAs||a.smallerSumAs&&"string"==typeof a.smallerSumAs)&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{const i=Number(p.default(r,e[0])),o=Number(p.default(r,a.sameSumAs||a.differentSumAs||a.biggerSumAs||a.smallerSumAs));isNaN(i)||(t+=i),isNaN(o)||(n+=o)}),a.sameSumAs&&t!==n&&(f=!1),a.differentSumAs&&t===n&&(f=!1),a.biggerSumAs&&t<=n&&(f=!1),a.smallerSumAs&&t>=n&&(f=!1)}),a.isUnique&&l.length>0){const e=[];let t=!1;s.forEach(n=>{const r=l.map(e=>p.default(n,e));e.forEach(e=>{O.default(r,e)&&(t=!0)}),e.push(r)}),t&&(f=!1)}a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{p.default(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{p.default(r,e[0])===n&&(t=!0)}):p.default(r,e[0])===a.disallow&&(t=!0)}),n&&t&&(f=!1)}),a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{p.default(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{p.default(r,e[0])===n&&(t=!0)}):p.default(r,e[0])===a.disallow&&(t=!0)}),n&&!t&&(f=!1)}),f&&"object"==typeof k&&Object.keys(k).forEach(e=>{void 0!==a[e]&&"function"==typeof k[e]&&(k[e]({fieldValueCombos:u,fieldValidationData:s,valueRules:a,get:p.default})||(f=!1))}),f||(r[e]={value:s,field:o,errorCode:a.errorCode||"invalidRule"})})}),{errors:r,firstErrorField:i}},we=function(e,t,n){void 0===n&&(n="");let r,i={};if(t||(t=_),be.forEach(e=>{if(""===n||e.path.startsWith(n)){if(!a[e.config.type]&&!Ee(e.config.type))return;const o=xe(e.path,""!==n?"render":"action",t,i,r);i=o.errors,r=o.firstErrorField}}),r&&s&&e){const e=document.getElementById(r);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return i},je=()=>we(!1);t.useEffect(()=>{if("function"==typeof f&&d){Ai()&&window.stagesLogging("Get errors on validation",M);let e=we(!0);le(e),f(e)}},[f]);const Ae=(e,t)=>{Ai()&&window.stagesLogging('Get sub form errors for sub id "'+e+'"',M),we(!0),t&&Object.keys(t).length>0&&(ae[e]=t)},Ce=function(e,t,n){try{const r=function(){if(t.loader&&"function"==typeof t.loader){function r(){t.enableCaching&&((e,t)=>{Ai()&&window.stagesLogging('Update options cache for "'+e+'"',M),re(n=>Object.assign({},n,{[e]:t}))})(o,a),s===l&&(((e,t)=>{Ai()&&window.stagesLogging('Update options loaded for "'+e+'"',M),te(n=>Object.assign({},n,{[e]:t}))})(e,a),t.onOptionsChange&&"function"==typeof t.onOptionsChange&&t.onOptionsChange(a,n,Ve))}const i={};let o,a;const l="number"==typeof $s[e]?$s[e]+1:0;let s=l;$s[e]=l,Ai()&&window.stagesLogging('Create dynamic options for field "'+e+'"',M),t.enableCaching&&(t.watchFields.forEach(e=>{const t=p.default(n,e);t&&(i[e]=t)}),o=e+"-"+w.default(i));const c=function(){if(!t.enableCaching||!ne[o])return Promise.resolve(t.loader(n,Ve)).then(function(t){a=t,s=$s[e]});a=ne[o]}();return c&&c.then?c.then(r):r()}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},De=function(e,t,n,r,i){let o;void 0===i&&(i=!1);try{o=w.default({newData:e,errors:Object.keys(t),id:n,fieldKey:r,interfaceState:L})}catch(e){}(o!==Js||i)&&(l((e=>{const t={},n=Object.assign({},e);return be.forEach(r=>{if(r.config.isInterfaceState){const i=p.default(e,r.path);void 0!==i&&(E.default(t,r.path,i),S.default(n,r.path))}}),N(t),n})(e),t,n,r,L,we(!1,e)),Js=o)},ke=()=>{if(Oe()&&C&&J>0){const e=J-1,t=JSON.parse(H[e]);K(e),le(t.errors),W(t.isDirty),z(t.dirtyFields),De(t.data,t.errors,u)}},Re=()=>{if(Oe()&&C&&J<H.length-1){const e=J+1,t=JSON.parse(H[e]);K(e),le(t.errors),W(t.isDirty),z(t.dirtyFields),De(t.data,t.errors,u)}};t.useEffect(()=>{let e=Object.assign({},_);if(Ai()&&window.stagesLogging('Is visible change to "'+(s?"visible":"invisible")+'"',M),be.forEach(t=>{const n=t.config;let r=p.default(e,t.path);if("collection"===n.type&&n.init){const i=n.min?Number(n.min):1;r&&0!==r.length||(r=[]);for(let t=r.length;t<i;t++)r.push("string"==typeof n.init?"function"==typeof n.setInitialData?n.setInitialData(r,e,n.init):{__typename:n.init}:"function"==typeof n.setInitialData?n.setInitialData(r,e):{});E.default(e,t.path,r)}}),e=Fe(e),"function"==typeof n.asyncDataLoader&&s&&!Q)try{return ce(!0),Promise.resolve(n.asyncDataLoader()).then(function(e){oe(e),Z(!0),ce(!1)})}catch(e){Promise.reject(e)}s&&(Array.isArray(be)&&be.forEach(t=>{t.config.dynamicOptions&&t.config.dynamicOptions.events&&t.config.dynamicOptions.events.indexOf("init")>-1&&Ce(t.path,t.config.dynamicOptions,e)}),0===J&&0===H.length&&G([w.default({data:e,isDirty:q,dirtyFields:U,errors:ae})])),De(e,we(),u)},[s]);const Fe=e=>{const t=Object.assign({},e);return be.forEach(n=>{if("function"==typeof n.config.computedValue){const r=p.default(_,n.path.split(".").slice(0,-1).join(".")),i=n.config.computedValue(e,r,L);E.default(t,n.path,i)}}),t},Te=e=>v.default(be,{path:e}).config,Pe=(e,t,n)=>{const r=[];return"object"==typeof A&&Object.keys(A).forEach(i=>{"function"==typeof A[i]&&A[i]({fieldValue:n,data:t,dirtyFields:U,optionsLoaded:ee,asyncData:ie,errors:ae,focusedField:ue,triggeringEvent:e})&&r.push(i)}),r},Ie=e=>Array.isArray(e)&&1===e.length?e[0]:e,Ve=function e(t,n,r,i){if(void 0===i&&(i=!1),!Oe())return;let o,a=!1;const l=+new Date,s=Te(t);i||(Ks=l);let c=Object.assign({},r||_),f="function"==typeof s.filter?s.filter(n):n;s.cast&&"function"==typeof s.cast.data&&(f=s.cast.data(f)),s.cast&&"string"==typeof s.cast.data&&(f=zs(f,s.cast.data)),s.cast&&Array.isArray(s.cast.data)&&(f=zs(f,s.cast.data[0],!0)),Ai()&&window.stagesLogging('Handle change for field "'+t+'"',M),E.default(c,t,f||void 0),c=Fe(c);const d={data:p.default(c,t),fieldIsDirty:!!U[t],fieldConfig:s,fieldHasFocus:!(!ue||ue!==t)};i||(0===Ks||l-Ks<Number(j||400))&&(!s.validateOn&&Array.isArray(h)&&h.indexOf("throttledChange")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1||!s.validateOn&&"function"==typeof h&&h(d).indexOf("throttledChange")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("throttledChange")>-1)&&(Gs&&clearTimeout(Gs),Gs=setTimeout(()=>e(t,n,r,!0),j||400),a=!0);const y=Pe("change",c,f);if(!s.validateOn&&Array.isArray(h)&&y.some(e=>h.indexOf(e)>-1)||s.validateOn&&Array.isArray(s.validateOn)&&y.some(e=>s.validateOn.indexOf(e)>-1)){const e=xe(t,Ie(y),c,ae);o=Object.assign({},ae,e.errors),le(o)}else if(!s.validateOn&&Array.isArray(h)&&h.indexOf("change")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("change")>-1||!s.validateOn&&Array.isArray(h)&&h.indexOf("throttledChange")>-1&&!a||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1&&!a||!s.validateOn&&"function"==typeof h&&h(d).indexOf("change")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("change")>-1||!s.validateOn&&"function"==typeof h&&h(d).indexOf("throttledChange")>-1&&!a||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("throttledChange")>-1&&!a){const e=xe(t,"change",c,ae);o=Object.assign({},ae,e.errors),le(o)}if(B&&(O.default(p.default(c,t),p.default(B,t))?void 0!==U[t]&&delete U[t]:U[t]={oldData:p.default(B,t),newData:p.default(c,t)},W(Object.keys(U).length>0),z(U)),s.clearFields&&(Array.isArray(s.clearFields)||"function"==typeof s.clearFields)){const e=Object.assign({},ee);(Array.isArray(s.clearFields)?s.clearFields:s.clearFields(f,c,o)).forEach(t=>{E.default(c,t,void 0),delete e[t]}),te(e)}if(Array.isArray(be)&&be.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("change")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t)>-1&&(!s.dynamicOptions||s.dynamicOptions&&ee[e.path]&&ee[e.path].indexOf(p.default(c,t))>-1||!ee[e.path])&&Ce(e.path,e.config.dynamicOptions,c)}),(e=>{const t=e.split(".").at(-2);return"]"===(t?t.slice(-1):"")})(t)){const e=(e=>{const t=e.split(".");t.pop();let n=t.join(".");if("]"===n.slice(-1)){const e=n.lastIndexOf("[");n=n.substring(0,e)}return n})(t),n=Te(e);if(n.sort&&n.sort.by&&n.sort.by.indexOf(s.id)>-1){let t=p.default(c,e,[]);t=m.default(t,n.sort.by),"desc"===n.sort.dir&&(t=t.reverse()),E.default(c,e,t)}}De(c,we(!1,c),u,t)},Le=e=>{const t={},n=[];return be.forEach(i=>{if(!e||i.path.startsWith(e+"."))if("fieldset"===i.config.type&&T[i.config.fieldset]){const e=Le(i.path);E.default(t,i.path,T[i.config.fieldset].render({params:Bs(i.config.params||{},T[i.config.fieldset].params),fieldProps:{fields:p.default(e,i.path),onCollectionAction:Ne,onWizardNav:_e,getWizardNavHash:Me,isWizardStepActive:qe,isWizardStepDisabled:We,modifyConfig:Ue,data:r,interfaceState:L,errors:ae,asyncData:ie,isDirty:q,focusedField:ue,lastFocusedField:de,dirtyFields:U,get:p.default,getConfig:Be},actionProps:{handleActionClick:ze,handleUndo:ke,handleRedo:Re,isDisabled:c,isDirty:q,focusedField:ue,lastFocusedField:de,dirtyFields:U,silentlyGetValidationErrors:je}}))}else{const e=((e,t,i)=>{let o=!1;if(n.forEach(e=>{i.startsWith(e)&&(o=!0)}),o)return null;if(!a[e.type]&&"subform"!==e.type&&"group"!==e.type)return null;if("function"==typeof e.isRendered&&!e.isRendered(i,t,_,L))return"group"===e.type&&n.push(i),null;if("group"===e.type)return null;const l=Object.assign({},e);if(l.id=i,ee[i])l.options=ee[i];else if("function"==typeof l.options)l.options=l.options(i,t,_);else if("object"==typeof l.computedOptions){let t=p.default(r,l.computedOptions.source,[]),n=p.default(_,i);"function"==typeof l.computedOptions.filter&&(t=t.filter(l.computedOptions.filter)),"function"==typeof l.computedOptions.sort&&(t=t.sort(l.computedOptions.sort)),"function"==typeof l.computedOptions.map&&(t=t.map(l.computedOptions.map)),l.computedOptions.initWith&&Array.isArray(l.computedOptions.initWith)&&(t=l.computedOptions.initWith.concat(t)),e.isUnique&&(t=t.map(t=>{if(""===t.value)return t;const o=i.substring(0,i.lastIndexOf("["));let a=p.default(r,o,[]);return g.default(a,{[e.id]:t.value})>-1&&t.value!==n?Object.assign({},t,{disabled:!0}):t})),l.options=t,v.default(t,{value:n})||(l.value="",E.default(_,i,""))}return delete l.computedValue,delete l.computedOptions,delete l.filter,delete l.clearFields,delete l.dynamicOptions,delete l.isRendered,delete l.defaultValue,delete l.cleanUp,delete l.precision,l.placeholder&&Array.isArray(l.placeholder)&&l.placeholder.length>1&&(void 0===Ys[i]&&(Ys[i]=l.placeholder[Math.floor(Math.random()*l.placeholder.length)]),l.placeholder=Ys[i]),F[e.type]&&"function"==typeof F[e.type].renderer&&!e.errorRenderer&&(l.errorRenderer=F[e.type].renderer),Hs&&Hs[i]&&(l.isValidating=!0),Ee(e.type)||Object.keys(l).forEach(e=>{"id"!==e&&"function"==typeof l[e]&&e.endsWith("Fn")&&(l[e.substring(0,e.length-2)]=l[e]({path:i,fieldData:t,alldata:_,interfaceState:L}),delete l[e])}),"fieldset"===e.type?null:"subform"!==e.type?/*#__PURE__*/y.default.createElement(a[e.type].component,Object.assign({key:i,value:(f=t,e.cast&&"function"==typeof e.cast.field?e.cast.field(f):e.cast&&"string"==typeof e.cast.field?zs(f,e.cast.field):e.cast&&Array.isArray(e.cast.field)?zs(f,e.cast.field[0],!0):f),initialValue:p.default(B,i),error:ae[i],isDirty:!!U[i],isDisabled:c||e.isDisabled,hasFocus:!(!ue||ue!==i),onChange:e=>Ve(i,e),onFocus:()=>(e=>{if(!Oe())return;const t=Te(e),n=Object.assign({},_),r=p.default(n,e);fe(e),pe(e);const i={data:r,fieldIsDirty:!!U[e],fieldConfig:t,fieldHasFocus:!(!ue||ue!==e)},o=Pe("focus",n,r);if(!t.validateOn&&Array.isArray(h)&&o.some(e=>h.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&o.some(e=>t.validateOn.indexOf(e)>-1)){const t=xe(e,Ie(o),n,ae);le(Object.assign({},ae,t.errors)),De(n,t.errors,u,e)}else if(!t.validateOn&&Array.isArray(h)&&h.indexOf("focus")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("focus")>-1||!t.validateOn&&"function"==typeof h&&h(i).indexOf("focus")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(i).indexOf("focus")>-1){const t=xe(e,"focus",n,ae);le(Object.assign({},ae,t.errors)),De(n,t.errors,u,e)}})(i),onBlur:()=>(e=>{if(!Oe())return;fe("");const t=Te(e),n=Object.assign({},_),r=Object.assign({},_);let i=p.default(n,e);Ks=0,Ai()&&window.stagesLogging('Handle blur for field "'+e+'"',M),t.cleanUp&&"function"==typeof t.cleanUp&&void 0!==i&&(i=t.cleanUp(i),E.default(n,e,i),Ve(e,i,n,!0)),"number"==typeof t.precision&&(E.default(n,e,Number(i).toFixed(t.precision)),De(n,ae,u,e));const o={data:i,fieldIsDirty:!!U[e],fieldConfig:t,fieldHasFocus:!(!ue||ue!==e)},a=Pe("blur",n,i);if(!t.validateOn&&Array.isArray(h)&&a.some(e=>h.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&a.some(e=>t.validateOn.indexOf(e)>-1)){const t=xe(e,Ie(a),n,ae);le(Object.assign({},ae,t.errors)),De(n,t.errors,u,e)}else if(!t.validateOn&&Array.isArray(h)&&h.indexOf("blur")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("blur")>-1||!t.validateOn&&"function"==typeof h&&h(o).indexOf("blur")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(o).indexOf("blur")>-1){const t=xe(e,"blur",n,ae);le(Object.assign({},ae,t.errors)),De(n,t.errors,u,e)}if(Array.isArray(be)&&be.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("blur")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t.id)>-1&&Ce(e.config.id,e.config.dynamicOptions,n),void 0!==R&&e.config.disableAutoSave&&S.default(r,e.path)}),(e=>{if(C){const t=[...H];t.length=J+1,t.push(w.default({data:e,isDirty:q,dirtyFields:U,errors:ae})),t.length>D&&t.shift(),G(t),K(t.length-1)}})(n),void 0!==R)if("local"===R||"session"===R){const e=we(!1,n);0===Object.keys(e).length&&vi(u,{data:r,isDirty:q,dirtyFields:U},R)}else if("object"!=typeof R||"local"!==R.type&&"session"!==R.type){if("object"==typeof R&&"custom"===R.type&&"function"==typeof R.save){const e=we(!1,n);(R.validDataOnly&&0===Object.keys(e).length||!R.validDataOnly)&&R.save(u,{data:r,isDirty:q,dirtyFields:U})}}else{const e=we(!1,n);(R.validDataOnly&&0===Object.keys(e).length||!R.validDataOnly)&&vi(u,{data:r,isDirty:q,dirtyFields:U},R.type)}})(i)},l)):/*#__PURE__*/y.default.createElement(Xs,{config:e.config,render:t=>{let{fieldProps:n}=t;/*#__PURE__*/return y.default.createElement(e.render,n)},fields:a,id:i,onChange:(e,t)=>Ve(i,e),onValidation:e=>Ae(i,e),parentRunValidation:Y,data:_&&p.default(_,i),isVisible:s,isDisabled:c,validateOn:h});var f})(i.config,i.data,i.path);e&&E.default(t,i.path,e)}}),t},Ne=(e,t,n,r)=>{if(!Oe())return;const i=Object.assign({},_),o=Te(e),a=o&&o.min?Number(o.min):0,l=o&&o.max?Number(o.max):99999999999999;let s,c=p.default(i,e,[]),f=!1;if("last"===n&&(n=c.length-1),"last"===r&&(r=c.length-1),Ai()&&window.stagesLogging('On collection action "'+e+'"',M),"add"===t&&("string"==typeof n&&o.fields[n]?l>c.length&&c.push("function"==typeof o.setInitialData?o.setInitialData(c,i,n):{__typename:n}):l>c.length&&c.push("function"==typeof o.setInitialData?o.setInitialData(c,i):{}),f=!0),"remove"===t&&(a<c.length&&c.splice(n,1),f=!0),"move"===t&&"number"==typeof n&&"number"==typeof r&&n>-1&&r>-1){const[e]=c.splice(n,1);c.splice(r,0,e),f=!0}if("sort"===t&&c.length>0&&n&&(c=m.default(c,n),f=!0),"duplicate"===t&&"number"==typeof n&&n>-1&&(c.splice(n+1,0,Object.assign({},c[n])),f=!0),o.sort&&o.sort.by&&(c=m.default(c,o.sort.by),"desc"===o.sort.dir&&(c=c.reverse()),f=!0),"update"===t&&Array.isArray(n)?(f=!0,E.default(i,e,n)):E.default(i,e,c),f){const t=p.default(B,e),n=p.default(i,e);try{JSON.stringify(t)!==JSON.stringify(n)?(W(!0),U[e]={oldData:t,newData:n},z(U)):(delete U[e],Object.keys(U).forEach(t=>{t.startsWith(e)&&delete U[t]}),z(U),W(Object.keys(U).length>0))}catch(e){}}if(h.indexOf("collectionAction")>-1||o.validateOn&&o.validateOn.indexOf("collectionAction")>-1){const t=xe(e,"collectionAction",i,ae);s=Object.assign({},ae,t.errors),le(s)}De(i,s||we(),u,e)},_e=(e,t,n)=>{const r=Object.assign({},he),i=r[t],o=Te(t);if("step"===e&&(r[t]=n),"next"===e){const e=g.default(o.stages,{id:i})+1;o.stages[e]&&(r[t]=o.stages[e].id)}if("prev"===e){const e=g.default(o.stages,{id:i})-1;o.stages[e]&&(r[t]=o.stages[e].id)}"first"===e&&(r[t]=o.stages[0].id),"last"===e&&(r[t]=o.stages[o.stages.length-1].id),ve(r)},Me=function(e,t,n){void 0===n&&(n="step");const r=he[e],i=Te(e),o=[];if("step"===n||"first"===n||"last"===n)return Object.keys(he).forEach(r=>{r.startsWith(e)?("step"===n&&o.push(r+"."+t),"first"===n&&o.push(r+"."+i.stages[0].id),"last"===n&&o.push(r+"."+i.stages[i.stages.length-1].id)):o.push(r+"."+he[r])}),"#!"+o.join(I||":");if("prev"===n){const t=g.default(i.stages,{id:r})-1;return!!i.stages[t]&&(Object.keys(he).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+he[n])}),"#!"+o.join(I||":"))}if("next"===n){const t=g.default(i.stages,{id:r})+1;return!!i.stages[t]&&(Object.keys(he).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+he[n])}),"#!"+o.join(I||":"))}return!1},qe=(e,t)=>he[e]===t,We=function(e,t,n){void 0===n&&(n=!1);const i=t.substring(2).split(I||":");let o="";if(i.forEach(t=>{t.startsWith(e+".")&&(o=t.substring(e.length+1))}),o){const t=Te(e),i=g.default(t.stages,{id:o});if(i>g.default(t.stages,{id:he[e]})+1)return!0;if(n&&qe(e,o))return!0;for(let n=0;n<i;n++){const i=we(!1,r,e+"."+t.stages[n].id);if(Object.keys(i).length>0)return!0}}return!1},Ue=(e,t,r)=>{if(n.fieldConfigs&&"function"==typeof n.fieldConfigs[t]){const i=e.split(".");let o="";i.forEach(e=>{const t=o?p.default(me,o):me;if(e.endsWith("]")){const n=e.split("["),r=g.default(t,{id:n[0]});r>-1&&(o+="["+r+"].fields")}else{const n=g.default(t,{id:e});n>-1&&(o+="["+n+"].fields")}}),""!==o&&(ye.push({fields:n.fieldConfigs[t],path:o,action:r}),ge([...ye]))}},ze=(e,t,n)=>{Ai()&&window.stagesLogging("Handle action click",M),n&&("local"!==R&&"session"!==R||mi(u,R),"object"!=typeof R||"local"!==R.type&&"session"!==R.type||mi(u,R.type),u&&"object"==typeof R&&"custom"===R.type&&"function"==typeof R.remove&&R.remove(u),De(B,we(),u),z({}),W(!1));const r=Pe("action",_);let i=!1;if(Array.isArray(h)&&h.indexOf("action")>-1||Array.isArray(h)&&r.some(e=>h.indexOf(e)>-1)){t&&(X(!0),setTimeout(()=>X(!1),0));let e=t?we(!0):{};le(e),Object.keys(e).length>0&&(i=!0)}i||e()},Be=e=>{const t=v.default(be,{path:e});return t?t.config:void 0};return!1===s?null:i?i({actionProps:{handleActionClick:ze,handleUndo:ke,handleRedo:Re,isDisabled:!!(Hs&&Object.keys(Hs).length>0)||c,isDirty:q,focusedField:ue,lastFocusedField:de,dirtyFields:U,silentlyGetValidationErrors:je,updateData:e=>{De(e,we(),u);let t=!1,n={};be.forEach(r=>{if(!r.config.isInterfaceState){const i=p.default(e,r.path),o=p.default(B,r.path);i!==o&&(t=!0,void 0!==i&&(n[r.path]={oldData:o,newData:i}))}}),W(t),z(n)}},fieldProps:{fields:Le(),onCollectionAction:Ne,onWizardNav:_e,getWizardNavHash:Me,isWizardStepActive:qe,isWizardStepDisabled:We,modifyConfig:Ue,data:r,interfaceState:L,errors:ae,asyncData:ie,isDirty:q,focusedField:ue,lastFocusedField:de,dirtyFields:U,get:p.default,getConfig:Be},loading:se}):o?o(Le()):null};function Qs(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}Xs.propTypes={config:qr.oneOfType([qr.object,qr.array,qr.func]).isRequired,data:qr.object,render:qr.oneOfType([qr.node,qr.func]),renderFields:qr.oneOfType([qr.node,qr.func]),fields:qr.object.isRequired,onChange:qr.func,isVisible:qr.bool,isDisabled:qr.bool,id:qr.oneOfType([qr.string,qr.number]),onValidation:qr.func,parentRunValidation:qr.bool,validateOn:qr.array,customRuleHandlers:qr.object,undoMaxDepth:qr.number,typeValidations:qr.object,fieldsets:qr.object,initialInterfaceState:qr.object},Xs.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1,validateOn:["action"],customRuleHandlers:{},undoMaxDepth:10,autoSave:!1,typeValidations:{},fieldsets:{},initialInterfaceState:{}};const Zs=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","hasFocus","prefix","suffix","secondaryText","type","errorRenderer"],ec=e=>{let{id:t,label:n,value:r,onChange:i,onBlur:o,onFocus:a,error:l,placeholder:s,isRequired:c,isDisabled:u,isValidating:f,prefix:d,suffix:p,secondaryText:g,type:h,errorRenderer:v}=e;return Qs(e,Zs),console.log({id:t,value:r}),/*#__PURE__*/y.default.createElement("div",null,n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,d?/*#__PURE__*/y.default.createElement("span",null,d):null,/*#__PURE__*/y.default.createElement("input",{id:t,name:t,value:void 0!==r?r:"number"===h?0:"",placeholder:s,type:h||"text",disabled:!!u,required:!!c,autoComplete:"password"===h?"current-password":"off",onChange:e=>{"function"==typeof i&&i(e.target.value)},onFocus:e=>{"function"==typeof a&&a()},onBlur:e=>{"function"==typeof o&&o()}}),p?/*#__PURE__*/y.default.createElement("span",null,p):null),g?/*#__PURE__*/y.default.createElement("div",null,g):null,l&&!f?v?v(l):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,f?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},tc=(e,t)=>!t.isRequired||""!==e&&void 0!==e,nc=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","type","errorRenderer"],rc=["id","label","value","options","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],ic=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],oc=["id","label","error","isRequired","isValidating","secondaryText","errorRenderer"],ac={text:{component:ec,isValid:tc},number:{component:ec,isValid:tc},email:{component:ec,isValid:tc},password:{component:ec,isValid:tc},tel:{component:ec,isValid:tc},time:{component:ec,isValid:tc},date:{component:ec,isValid:tc},checkbox:{component:e=>{let{id:t,label:n,value:r,onChange:i,onBlur:o,onFocus:a,error:l,placeholder:s,isRequired:c,isDisabled:u,isValidating:f,prefix:d,suffix:p,secondaryText:g,type:h,errorRenderer:v}=e;return Qs(e,nc),/*#__PURE__*/y.default.createElement("div",null,n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,d?/*#__PURE__*/y.default.createElement("span",null,d):null,/*#__PURE__*/y.default.createElement("input",{id:t,name:t,value:"1",placeholder:s,type:h,disabled:!!u,required:!!c,checked:!!r,onChange:()=>{},onClick:e=>{"function"==typeof i&&i(!!e.target.checked)},onBlur:e=>{"function"==typeof o&&o()},onFocus:e=>{"function"==typeof a&&a()}}),p?/*#__PURE__*/y.default.createElement("span",null,p):null),g?/*#__PURE__*/y.default.createElement("div",null,g):null,l&&!f?v?v(l):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,f?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:t,label:n,value:r,options:i,onChange:o,onBlur:a,onFocus:l,error:s,placeholder:c,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:g,secondaryText:h,errorRenderer:v}=e;return Qs(e,rc),/*#__PURE__*/y.default.createElement("div",null,n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,p?/*#__PURE__*/y.default.createElement("span",null,p):null,/*#__PURE__*/y.default.createElement("select",{id:t,name:t,value:void 0===r?"":r,placeholder:c,disabled:!!f,required:!!u,onChange:e=>{"function"==typeof o&&o(e.target.value)},onBlur:e=>{"function"==typeof a&&a()},onFocus:e=>{"function"==typeof l&&l()}},i.map(e=>/*#__PURE__*/y.default.createElement("option",{value:e.value,key:e.value,disabled:!!e.disabled||null},e.text))),g?/*#__PURE__*/y.default.createElement("span",null,g):null),h?/*#__PURE__*/y.default.createElement("div",null,h):null,s&&!d?v?v(s):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:e=>{let{id:n,label:r,value:i,options:o,onChange:a,onBlur:l,onFocus:s,error:c,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:g,secondaryText:h,errorRenderer:v}=e;return Qs(e,ic),/*#__PURE__*/y.default.createElement("div",{id:n},r?/*#__PURE__*/y.default.createElement("label",null,r,u?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,p?/*#__PURE__*/y.default.createElement("span",null,p):null,o.map(e=>/*#__PURE__*/y.default.createElement(t.Fragment,{key:n+"-"+e.value},/*#__PURE__*/y.default.createElement("input",{type:"radio",name:n,id:n+"-"+e.value,value:e.value,checked:i===e.value,disabled:!!f,onChange:()=>{},onClick:t=>{"function"==typeof a&&a(e.value)},onBlur:e=>{"function"==typeof l&&l()},onFocus:e=>{"function"==typeof s&&s()}}),/*#__PURE__*/y.default.createElement("label",{htmlFor:n+"-"+e.value},e.text)," ")),g?/*#__PURE__*/y.default.createElement("span",null,g):null),h?/*#__PURE__*/y.default.createElement("div",null,h):null,c&&!d?v?v(c):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},dummy:{component:e=>{let{id:t,label:n,error:r,isRequired:i,isValidating:o,secondaryText:a,errorRenderer:l}=e;return Qs(e,oc),n||a||r?/*#__PURE__*/y.default.createElement("div",{id:t},n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,i?" *":""):null,a?/*#__PURE__*/y.default.createElement("div",null,a):null,r&&!o?l?l(r):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,o?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null):null},isValid:()=>!0}};Object.defineProperty(exports,"get",{enumerable:!0,get:function(){return p.default}}),exports.Actions=e=>{let{config:t,handleActionClick:n,isDisabled:r}=e;/*#__PURE__*/return y.default.createElement(y.default.Fragment,null,t.map((e,t)=>/*#__PURE__*/y.default.createElement("button",{type:"button",onClick:()=>n(e.onClick,e.validate),key:"action-"+t,disabled:r},"primary"===e.type?/*#__PURE__*/y.default.createElement("strong",null,e.title):e.title)))},exports.Debugger=()=>{const[e,n]=t.useState({}),[r,i]=t.useState({}),[o,a]=t.useState({}),[l,s]=t.useState({}),[c,u]=t.useState(!1),f=(t,o)=>{if("string"==typeof t)r[o]||(r[o]=[]),r[o].push({action:t,time:+new Date}),i(r);else{const r=Object.assign(e,{}),i=Object.keys(r)[0];r[t.id]=t,n(Object.assign({},r)),a(e=>({key:e.key?e.key:i,tab:e.tab?e.tab:"data"}))}};return t.useEffect(()=>{"undefined"!=typeof window&&(window.stagesLogging=f)},[]),0===Object.keys(e).length?null:/*#__PURE__*/y.default.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",width:"320px",padding:"8px",fontSize:"14px",color:"#333",border:"1px #bbb solid",borderRadius:"4px",background:"#fbfbfb",fontFamily:"Open Sans, Helvetica, Arial, sans",zIndex:1e3}},/*#__PURE__*/y.default.createElement("strong",{style:{lineHeight:"22px"}},"Debugger:"),/*#__PURE__*/y.default.createElement("button",{type:"button",style:{float:"right"},onClick:()=>u(!c)},c?"hide":"show"),c?Object.keys(e).map(t=>{const n=t.split("-");n.pop();let i="";return i="logs"===o.tab?r[o.key]?r[o.key].map(e=>e.time+": "+e.action).join("\n"):"":h.default(l[t]?p.default(e[o.key][o.tab],l[t]||""):e[o.key][o.tab],null,2),/*#__PURE__*/y.default.createElement("div",{key:t+"-"+o.tab},/*#__PURE__*/y.default.createElement("h3",{style:{background:"#333",color:"#fff",margin:"8px 0 0 0",padding:"2px 6px",textTransform:"capitalize",position:"relative"}},n.join(" "),":",e[t].isDirty?/*#__PURE__*/y.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"4px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"dirty"):null,Object.keys(e[t].errors).length?/*#__PURE__*/y.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"48px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"errors"):null,e[t].loading?/*#__PURE__*/y.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"98px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"loading"):null),/*#__PURE__*/y.default.createElement("div",null,/*#__PURE__*/y.default.createElement("select",{onChange:e=>a({key:t,tab:e.target.value}),value:o.key===t?o.tab:"data",style:{width:"47%",minWidth:"47%",maxWidth:"47%",marginRight:"2%",height:"25px"}},e[t].keys?/*#__PURE__*/y.default.createElement(y.default.Fragment,null,/*#__PURE__*/y.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/y.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/y.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/y.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/y.default.createElement("option",{value:"keys"},"Keys"),/*#__PURE__*/y.default.createElement("option",{value:"logs"},"Logs")):/*#__PURE__*/y.default.createElement(y.default.Fragment,null,/*#__PURE__*/y.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/y.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/y.default.createElement("option",{value:"parsedFieldConfig"},"Field Config"),/*#__PURE__*/y.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/y.default.createElement("option",{value:"interfaceState"},"Interface State"),/*#__PURE__*/y.default.createElement("option",{value:"undoData"},"Undo Data"),/*#__PURE__*/y.default.createElement("option",{value:"asyncData"},"Async Data"),/*#__PURE__*/y.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/y.default.createElement("option",{value:"fieldPaths"},"Field Paths"),/*#__PURE__*/y.default.createElement("option",{value:"logs"},"Logs"))),/*#__PURE__*/y.default.createElement("input",{value:l[t]||"",placeholder:"your.data.filter.path",onChange:e=>{const n=Object.assign({},l);n[t]=e.target.value,s(n)},style:{width:"47%",minWidth:"47%",maxWidth:"47%",fontSize:"12px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"4px",padding:"4px",overflowX:"scroll",whiteSpace:"pre"}})),o&&o.key===t?/*#__PURE__*/y.default.createElement("textarea",{readOnly:!0,style:{width:"calc(100% - 8px)",minWidth:"calc(100% - 8px)",maxWidth:"calc(100% - 8px)",height:"200px",fontSize:"10px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"8px",overflowX:"scroll",whiteSpace:"pre"},value:i}):null)}):null)},exports.Form=Xs,exports.HashRouter=e=>{let{step:n,onChange:r,keys:i,prefix:o,hashFormat:a="#!"}=e;const[l,s]=(()=>{const[e,n]=t.useState(()=>window.location.hash),r=t.useCallback(()=>{n(window.location.hash)},[]);var i,o;i=()=>{!function(e){e&&e.addEventListener&&e.addEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},o=()=>{!function(e){e&&e.removeEventListener&&e.removeEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},t.useEffect(()=>(i&&i(),()=>{o&&o()}),[]);const a=t.useCallback(t=>{t!==e&&(window.location.hash=t)},[e]);return[e,a]})(),[c,u]=t.useState(!1),f=e=>i&&i[e]?i[e].key:o?o+"-"+e:e,d=()=>{if("string"==typeof l&&-1!==l.indexOf(a)){const e=(e=>{const t=e.split(a);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):g.default(i,{key:e})}return-1})(l);-1!==e&&("function"==typeof s&&s(""+a+f(e)),r(e))}else"function"==typeof s&&s(""+a+f(n))};return t.useEffect(()=>{c&&d()},[l]),t.useEffect(()=>{c&&"function"==typeof s&&s(""+a+f(n))},[n]),p=()=>{d(),u(!0)},t.useEffect(()=>{p()},[]),null;var p},exports.Navigation=e=>{let{currentStep:t,onChangeStep:n,lastValidStep:r,keys:i}=e;const o=[];for(let e=0;e<i.length;e++)if(i&&i[e]&&i[e].visible){const a=i&&i[e]?i[e].key:"Step "+(e+1);o.push(t===e?/*#__PURE__*/y.default.createElement("li",{key:a,style:{textTransform:"capitalize"}},/*#__PURE__*/y.default.createElement("strong",null,a)):/*#__PURE__*/y.default.createElement("li",r>-1&&r+1<e||-1===r&&e>0?{key:a,style:{color:"#999",textTransform:"capitalize"}}:{key:a,style:{textTransform:"capitalize"},onClick:()=>n(e)},a))}/*#__PURE__*/return y.default.createElement("ul",null,o)},exports.Progression=e=>{let{stepCount:t,validSteps:n,percentage:r}=e;/*#__PURE__*/return y.default.createElement("div",null,n+" / "+t+" ("+Math.round(r)+"%)")},exports.Stages=Ci,exports.plainFields=ac;
//# sourceMappingURL=lib.js.map

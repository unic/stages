var e=require("lodash.get"),t=require("react"),n=require("lodash.findindex"),r=require("json-beautify"),o=require("lodash.find"),i=require("lodash.sortby"),a=require("lodash.uniqwith"),l=require("lodash.isequal"),s=require("lodash.set"),c=require("lodash.unset"),u=require("lodash.merge"),f=require("fast-json-stable-stringify");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=/*#__PURE__*/d(e),y=/*#__PURE__*/d(t),g=/*#__PURE__*/d(n),h=/*#__PURE__*/d(r),v=/*#__PURE__*/d(o),m=/*#__PURE__*/d(i),b=/*#__PURE__*/d(a),O=/*#__PURE__*/d(l),E=/*#__PURE__*/d(s),x=/*#__PURE__*/d(c),S=/*#__PURE__*/d(u),w=/*#__PURE__*/d(f),j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function A(e){var t={exports:{}};return e(t,t.exports),t.exports}var C,k,D=function(e){return e&&e.Math==Math&&e},F=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof j&&j)||function(){return this}()||Function("return this")(),R={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},T=function(e){return"function"==typeof e},P=function(e){return"object"==typeof e?null!==e:T(e)},I=F.document,L=P(I)&&P(I.createElement),V=function(e){return L?I.createElement(e):{}},_=V("span").classList,M=_&&_.constructor&&_.constructor.prototype,N=M===Object.prototype?void 0:M,q=function(e){try{return!!e()}catch(e){return!0}},W=!q(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),U=Function.prototype,B=U.call,$=W&&U.bind.bind(B,B),z=W?function(e){return e&&$(e)}:function(e){return e&&function(){return B.apply(e,arguments)}},H=z({}.toString),G=z("".slice),K=function(e){return G(H(e),8,-1)},Y=F.Object,J=z("".split),X=q(function(){return!Y("z").propertyIsEnumerable(0)})?function(e){return"String"==K(e)?J(e,""):Y(e)}:Y,Q=F.TypeError,Z=function(e){if(null==e)throw Q("Can't call method on "+e);return e},ee=function(e){return X(Z(e))},te=Object.defineProperty,ne=function(e,t){try{te(F,e,{value:t,configurable:!0,writable:!0})}catch(n){F[e]=t}return t},re=F["__core-js_shared__"]||ne("__core-js_shared__",{}),oe=A(function(e){(e.exports=function(e,t){return re[e]||(re[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),ie=F.Object,ae=function(e){return ie(Z(e))},le=z({}.hasOwnProperty),se=Object.hasOwn||function(e,t){return le(ae(e),t)},ce=0,ue=Math.random(),fe=z(1..toString),de=function(e){return"Symbol("+(void 0===e?"":e)+")_"+fe(++ce+ue,36)},pe=function(e){return T(e)?e:void 0},ye=function(e,t){return arguments.length<2?pe(F[e]):F[e]&&F[e][t]},ge=ye("navigator","userAgent")||"",he=F.process,ve=F.Deno,me=he&&he.versions||ve&&ve.version,be=me&&me.v8;be&&(k=(C=be.split("."))[0]>0&&C[0]<4?1:+(C[0]+C[1])),!k&&ge&&(!(C=ge.match(/Edge\/(\d+)/))||C[1]>=74)&&(C=ge.match(/Chrome\/(\d+)/))&&(k=+C[1]);var Oe,Ee=k,xe=!!Object.getOwnPropertySymbols&&!q(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ee&&Ee<41}),Se=xe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,we=oe("wks"),je=F.Symbol,Ae=je&&je.for,Ce=Se?je:je&&je.withoutSetter||de,ke=function(e){if(!se(we,e)||!xe&&"string"!=typeof we[e]){var t="Symbol."+e;we[e]=xe&&se(je,e)?je[e]:Se&&Ae?Ae(t):Ce(t)}return we[e]},De=F.String,Fe=F.TypeError,Re=function(e){if(P(e))return e;throw Fe(De(e)+" is not an object")},Te=!q(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Pe=Te&&q(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ie=!Te&&!q(function(){return 7!=Object.defineProperty(V("div"),"a",{get:function(){return 7}}).a}),Le=Function.prototype.call,Ve=W?Le.bind(Le):function(){return Le.apply(Le,arguments)},_e=z({}.isPrototypeOf),Me=F.Object,Ne=Se?function(e){return"symbol"==typeof e}:function(e){var t=ye("Symbol");return T(t)&&_e(t.prototype,Me(e))},qe=F.String,We=function(e){try{return qe(e)}catch(e){return"Object"}},Ue=F.TypeError,Be=function(e){if(T(e))return e;throw Ue(We(e)+" is not a function")},$e=function(e,t){var n=e[t];return null==n?void 0:Be(n)},ze=F.TypeError,He=F.TypeError,Ge=ke("toPrimitive"),Ke=function(e){var t=function(e,t){if(!P(e)||Ne(e))return e;var n,r=$e(e,Ge);if(r){if(void 0===t&&(t="default"),n=Ve(r,e,t),!P(n)||Ne(n))return n;throw He("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&T(n=e.toString)&&!P(r=Ve(n,e)))return r;if(T(n=e.valueOf)&&!P(r=Ve(n,e)))return r;if("string"!==t&&T(n=e.toString)&&!P(r=Ve(n,e)))return r;throw ze("Can't convert object to primitive value")}(e,t)}(e,"string");return Ne(t)?t:t+""},Ye=F.TypeError,Je=Object.defineProperty,Xe=Object.getOwnPropertyDescriptor,Qe={f:Te?Pe?function(e,t,n){if(Re(e),t=Ke(t),Re(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=Xe(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Je(e,t,n)}:Je:function(e,t,n){if(Re(e),t=Ke(t),Re(n),Ie)try{return Je(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Ye("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ze=Math.ceil,et=Math.floor,tt=function(e){var t=+e;return t!=t||0===t?0:(t>0?et:Ze)(t)},nt=Math.max,rt=Math.min,ot=function(e,t){var n=tt(e);return n<0?nt(n+t,0):rt(n,t)},it=Math.min,at=function(e){return e>0?it(tt(e),9007199254740991):0},lt=function(e){return at(e.length)},st=function(e){return function(t,n,r){var o,i=ee(t),a=lt(i),l=ot(r,a);if(e&&n!=n){for(;a>l;)if((o=i[l++])!=o)return!0}else for(;a>l;l++)if((e||l in i)&&i[l]===n)return e||l||0;return!e&&-1}},ct={includes:st(!0),indexOf:st(!1)},ut={},ft=ct.indexOf,dt=z([].push),pt=function(e,t){var n,r=ee(e),o=0,i=[];for(n in r)!se(ut,n)&&se(r,n)&&dt(i,n);for(;t.length>o;)se(r,n=t[o++])&&(~ft(i,n)||dt(i,n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gt=Object.keys||function(e){return pt(e,yt)},ht=Te&&!Pe?Object.defineProperties:function(e,t){Re(e);for(var n,r=ee(t),o=gt(t),i=o.length,a=0;i>a;)Qe.f(e,n=o[a++],r[n]);return e},vt={f:ht},mt=ye("document","documentElement"),bt=oe("keys"),Ot=function(e){return bt[e]||(bt[e]=de(e))},Et=Ot("IE_PROTO"),xt=function(){},St=function(e){return"<script>"+e+"<\/script>"},wt=function(e){e.write(St("")),e.close();var t=e.parentWindow.Object;return e=null,t},jt=function(){try{Oe=new ActiveXObject("htmlfile")}catch(e){}var e,t;jt="undefined"!=typeof document?document.domain&&Oe?wt(Oe):((t=V("iframe")).style.display="none",mt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(St("document.F=Object")),e.close(),e.F):wt(Oe);for(var n=yt.length;n--;)delete jt.prototype[yt[n]];return jt()};ut[Et]=!0;var At=Object.create||function(e,t){var n;return null!==e?(xt.prototype=Re(e),n=new xt,xt.prototype=null,n[Et]=e):n=jt(),void 0===t?n:vt.f(n,t)},Ct=ke("unscopables"),kt=Array.prototype;null==kt[Ct]&&Qe.f(kt,Ct,{configurable:!0,value:At(null)});var Dt=function(e){kt[Ct][e]=!0},Ft={},Rt=z(Function.toString);T(re.inspectSource)||(re.inspectSource=function(e){return Rt(e)});var Tt,Pt,It,Lt=re.inspectSource,Vt=F.WeakMap,_t=T(Vt)&&/native code/.test(Lt(Vt)),Mt=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Nt=Te?function(e,t,n){return Qe.f(e,t,Mt(1,n))}:function(e,t,n){return e[t]=n,e},qt=F.TypeError;if(_t||re.state){var Wt=re.state||(re.state=new(0,F.WeakMap)),Ut=z(Wt.get),Bt=z(Wt.has),$t=z(Wt.set);Tt=function(e,t){if(Bt(Wt,e))throw new qt("Object already initialized");return t.facade=e,$t(Wt,e,t),t},Pt=function(e){return Ut(Wt,e)||{}},It=function(e){return Bt(Wt,e)}}else{var zt=Ot("state");ut[zt]=!0,Tt=function(e,t){if(se(e,zt))throw new qt("Object already initialized");return t.facade=e,Nt(e,zt,t),t},Pt=function(e){return se(e,zt)?e[zt]:{}},It=function(e){return se(e,zt)}}var Ht,Gt,Kt,Yt={set:Tt,get:Pt,has:It,enforce:function(e){return It(e)?Pt(e):Tt(e,{})},getterFor:function(e){return function(t){var n;if(!P(t)||(n=Pt(t)).type!==e)throw qt("Incompatible receiver, "+e+" required");return n}}},Jt={}.propertyIsEnumerable,Xt=Object.getOwnPropertyDescriptor,Qt=Xt&&!Jt.call({1:2},1)?function(e){var t=Xt(this,e);return!!t&&t.enumerable}:Jt,Zt={f:Qt},en=Object.getOwnPropertyDescriptor,tn={f:Te?en:function(e,t){if(e=ee(e),t=Ke(t),Ie)try{return en(e,t)}catch(e){}if(se(e,t))return Mt(!Ve(Zt.f,e,t),e[t])}},nn=Function.prototype,rn=Te&&Object.getOwnPropertyDescriptor,on=se(nn,"name"),an={EXISTS:on,PROPER:on&&"something"===function(){}.name,CONFIGURABLE:on&&(!Te||Te&&rn(nn,"name").configurable)},ln=A(function(e){var t=an.CONFIGURABLE,n=Yt.get,r=Yt.enforce,o=String(String).split("String");(e.exports=function(e,n,i,a){var l,s=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;T(i)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!se(i,"name")||t&&i.name!==f)&&Nt(i,"name",f),(l=r(i)).source||(l.source=o.join("string"==typeof f?f:""))),e!==F?(s?!u&&e[n]&&(c=!0):delete e[n],c?e[n]=i:Nt(e,n,i)):c?e[n]=i:ne(n,i)})(Function.prototype,"toString",function(){return T(this)&&n(this).source||Lt(this)})}),sn=yt.concat("length","prototype"),cn={f:Object.getOwnPropertyNames||function(e){return pt(e,sn)}},un={f:Object.getOwnPropertySymbols},fn=z([].concat),dn=ye("Reflect","ownKeys")||function(e){var t=cn.f(Re(e)),n=un.f;return n?fn(t,n(e)):t},pn=function(e,t,n){for(var r=dn(t),o=Qe.f,i=tn.f,a=0;a<r.length;a++){var l=r[a];se(e,l)||n&&se(n,l)||o(e,l,i(t,l))}},yn=/#|\.prototype\./,gn=function(e,t){var n=vn[hn(e)];return n==bn||n!=mn&&(T(t)?q(t):!!t)},hn=gn.normalize=function(e){return String(e).replace(yn,".").toLowerCase()},vn=gn.data={},mn=gn.NATIVE="N",bn=gn.POLYFILL="P",On=gn,En=tn.f,xn=function(e,t){var n,r,o,i,a,l=e.target,s=e.global,c=e.stat;if(n=s?F:c?F[l]||ne(l,{}):(F[l]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=En(n,r))&&a.value:n[r],!On(s?r:l+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;pn(i,o)}(e.sham||o&&o.sham)&&Nt(i,"sham",!0),ln(n,r,i,e)}},Sn=!q(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wn=Ot("IE_PROTO"),jn=F.Object,An=jn.prototype,Cn=Sn?jn.getPrototypeOf:function(e){var t=ae(e);if(se(t,wn))return t[wn];var n=t.constructor;return T(n)&&t instanceof n?n.prototype:t instanceof jn?An:null},kn=ke("iterator"),Dn=!1;[].keys&&("next"in(Kt=[].keys())?(Gt=Cn(Cn(Kt)))!==Object.prototype&&(Ht=Gt):Dn=!0);var Fn=null==Ht||q(function(){var e={};return Ht[kn].call(e)!==e});Fn&&(Ht={}),T(Ht[kn])||ln(Ht,kn,function(){return this});var Rn={IteratorPrototype:Ht,BUGGY_SAFARI_ITERATORS:Dn},Tn=Qe.f,Pn=ke("toStringTag"),In=function(e,t,n){e&&!n&&(e=e.prototype),e&&!se(e,Pn)&&Tn(e,Pn,{configurable:!0,value:t})},Ln=Rn.IteratorPrototype,Vn=function(){return this},_n=F.String,Mn=F.TypeError,Nn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=z(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Re(n),function(e){if("object"==typeof e||T(e))return e;throw Mn("Can't set "+_n(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),qn=an.PROPER,Wn=an.CONFIGURABLE,Un=Rn.IteratorPrototype,Bn=Rn.BUGGY_SAFARI_ITERATORS,$n=ke("iterator"),zn=function(){return this},Hn=Qe.f,Gn=Yt.set,Kn=Yt.getterFor("Array Iterator"),Yn=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o="Array Iterator";e.prototype=At(Ln,{next:Mt(1,function(){var e=Kn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}})}),In(e,o,!1),Ft[o]=Vn}(n);var l,s,c,u=function(e){if(e===o&&y)return y;if(!Bn&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=!1,d=e.prototype,p=d[$n]||d["@@iterator"]||d.values,y=!Bn&&p||u(o),g=d.entries||p;if(g&&(l=Cn(g.call(new e)))!==Object.prototype&&l.next&&(Cn(l)!==Un&&(Nn?Nn(l,Un):T(l[$n])||ln(l,$n,zn)),In(l,"Array Iterator",!0)),qn&&p&&"values"!==p.name&&(Wn?Nt(d,"name","values"):(f=!0,y=function(){return Ve(p,this)})),void(s={values:u("values"),keys:u("keys"),entries:u("entries")}))for(c in s)(Bn||f||!(c in d))&&ln(d,c,s[c]);else xn({target:"Array",proto:!0,forced:Bn||f},s);return d[$n]!==y&&ln(d,$n,y,{name:o}),Ft.Array=y,s}(Array,0,function(e,t){Gn(this,{type:"Array Iterator",target:ee(e),index:0,kind:t})},0,"values"),Jn=Ft.Arguments=Ft.Array;if(Dt("keys"),Dt("values"),Dt("entries"),Te&&"values"!==Jn.name)try{Hn(Jn,"name",{value:"values"})}catch(e){}var Xn=ke("iterator"),Qn=ke("toStringTag"),Zn=Yn.values,er=function(e,t){if(e){if(e[Xn]!==Zn)try{Nt(e,Xn,Zn)}catch(t){e[Xn]=Zn}if(e[Qn]||Nt(e,Qn,t),R[t])for(var n in Yn)if(e[n]!==Yn[n])try{Nt(e,n,Yn[n])}catch(t){e[n]=Yn[n]}}};for(var tr in R)er(F[tr]&&F[tr].prototype,tr);er(N,"DOMTokenList");var nr=Object.assign,rr=Object.defineProperty,or=z([].concat),ir=!nr||q(function(){if(Te&&1!==nr({b:1},nr(rr({},"a",{enumerable:!0,get:function(){rr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=nr({},e)[n]||gt(nr({},t)).join("")!=r})?function(e,t){for(var n=ae(e),r=arguments.length,o=1,i=un.f,a=Zt.f;r>o;)for(var l,s=X(arguments[o++]),c=i?or(gt(s),i(s)):gt(s),u=c.length,f=0;u>f;)l=c[f++],Te&&!Ve(a,s,l)||(n[l]=s[l]);return n}:nr;xn({target:"Object",stat:!0,forced:Object.assign!==ir},{assign:ir});var ar="function"==typeof Symbol&&Symbol.for,lr=ar?Symbol.for("react.element"):60103,sr=ar?Symbol.for("react.portal"):60106,cr=ar?Symbol.for("react.fragment"):60107,ur=ar?Symbol.for("react.strict_mode"):60108,fr=ar?Symbol.for("react.profiler"):60114,dr=ar?Symbol.for("react.provider"):60109,pr=ar?Symbol.for("react.context"):60110,yr=ar?Symbol.for("react.async_mode"):60111,gr=ar?Symbol.for("react.concurrent_mode"):60111,hr=ar?Symbol.for("react.forward_ref"):60112,vr=ar?Symbol.for("react.suspense"):60113,mr=ar?Symbol.for("react.suspense_list"):60120,br=ar?Symbol.for("react.memo"):60115,Or=ar?Symbol.for("react.lazy"):60116,Er=ar?Symbol.for("react.block"):60121,xr=ar?Symbol.for("react.fundamental"):60117,Sr=ar?Symbol.for("react.responder"):60118,wr=ar?Symbol.for("react.scope"):60119;function jr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case lr:switch(e=e.type){case yr:case gr:case cr:case fr:case ur:case vr:return e;default:switch(e=e&&e.$$typeof){case pr:case hr:case Or:case br:case dr:return e;default:return t}}case sr:return t}}}function Ar(e){return jr(e)===gr}var Cr={AsyncMode:yr,ConcurrentMode:gr,ContextConsumer:pr,ContextProvider:dr,Element:lr,ForwardRef:hr,Fragment:cr,Lazy:Or,Memo:br,Portal:sr,Profiler:fr,StrictMode:ur,Suspense:vr,isAsyncMode:function(e){return Ar(e)||jr(e)===yr},isConcurrentMode:Ar,isContextConsumer:function(e){return jr(e)===pr},isContextProvider:function(e){return jr(e)===dr},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===lr},isForwardRef:function(e){return jr(e)===hr},isFragment:function(e){return jr(e)===cr},isLazy:function(e){return jr(e)===Or},isMemo:function(e){return jr(e)===br},isPortal:function(e){return jr(e)===sr},isProfiler:function(e){return jr(e)===fr},isStrictMode:function(e){return jr(e)===ur},isSuspense:function(e){return jr(e)===vr},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===cr||e===gr||e===fr||e===ur||e===vr||e===mr||"object"==typeof e&&null!==e&&(e.$$typeof===Or||e.$$typeof===br||e.$$typeof===dr||e.$$typeof===pr||e.$$typeof===hr||e.$$typeof===xr||e.$$typeof===Sr||e.$$typeof===wr||e.$$typeof===Er)},typeOf:jr};function kr(){}function Dr(){}A(function(e,t){}),A(function(e){e.exports=Cr}),Dr.resetWarningCache=kr;var Fr=A(function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Dr,resetWarningCache:kr};return n.PropTypes=n,n}()}),Rr=Function.prototype,Tr=Rr.apply,Pr=Rr.call,Ir="object"==typeof Reflect&&Reflect.apply||(W?Pr.bind(Tr):function(){return Pr.apply(Tr,arguments)}),Lr=F.Array,Vr=ye("JSON","stringify"),_r=z(/./.exec),Mr=z("".charAt),Nr=z("".charCodeAt),qr=z("".replace),Wr=z(1..toString),Ur=/[\uD800-\uDFFF]/g,Br=/^[\uD800-\uDBFF]$/,$r=/^[\uDC00-\uDFFF]$/,zr=function(e,t,n){var r=Mr(n,t-1),o=Mr(n,t+1);return _r(Br,e)&&!_r($r,o)||_r($r,e)&&!_r(Br,r)?"\\u"+Wr(Nr(e,0),16):e},Hr=q(function(){return'"\\udf06\\ud834"'!==Vr("\udf06\ud834")||'"\\udead"'!==Vr("\udead")});Vr&&xn({target:"JSON",stat:!0,forced:Hr},{stringify:function(e,t,n){for(var r=0,o=arguments.length,i=Lr(o);r<o;r++)i[r]=arguments[r];var a=Ir(Vr,null,i);return"string"==typeof a?qr(a,Ur,zr):a}});const Gr=function(e,t,n){if(void 0===n&&(n="stages-form-"),"local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage){const t=localStorage.getItem(""+n+e)||"{}";let r={};try{r=JSON.parse(t)}catch(e){}return r}return{}},Kr=function(e,t,n,r){if(void 0===t&&(t={}),void 0===r&&(r="stages-form-"),("local"===n&&"undefined"!=typeof localStorage||"session"===n&&"undefined"!=typeof sessionStorage)&&"object"==typeof t){let n="{}";try{n=JSON.stringify(t)}catch(e){}localStorage.setItem(""+r+e,n)}},Yr=function(e,t,n){void 0===n&&(n="stages-form-"),("local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage)&&localStorage.removeItem(""+n+e)},Jr=()=>"undefined"!=typeof window&&"function"==typeof window.stagesLogging,Xr=e=>{let{children:n,initialData:r,initialStep:o,render:i,validateOnStepChange:a,onChange:l,autoSave:s,id:c}=e;const[u]=t.useState("stages-"+(c||+new Date)),[f,d]=t.useState((()=>{if(!c||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)){if(c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get){const e=s.get(c);if(Object.keys(e).length>0)return e}}else{const e=Gr(c,"object"==typeof s?s.type:s);if(Object.keys(e).length>0)return e}return r})()),[p,y]=t.useState([]),[h,v]=t.useState({}),[m,b]=t.useState(o||0),[O,E]=t.useState([]),x=e=>{const t=O&&O[e]?O[e].key:e;return f&&f[t]?f[t]:{}},S=(e,t)=>(O[t]||(O[t]={key:e,visible:!0},E([...O])),e),w=(e,t,n)=>{const r=Object.assign({},f),o=O&&O[n]?O[n].key:n;Jr()&&window.stagesLogging('Handle onChange for "'+o+'"',u),h[n]=t,v(Object.assign({},h)),r[o]=e,f[o]=e,d(Object.assign({},r)),"function"==typeof l&&l({data:r,errors:h}),c&&("local"===s||"session"===s?0===Object.keys(h).length&&Kr(c,r,s):"object"!=typeof s||"local"!==s.type&&"session"!==s.type?c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.save&&(s.validDataOnly&&0===Object.keys(h).length||!s.validDataOnly)&&s.save(c,r):(s.validDataOnly&&0===Object.keys(h).length||!s.validDataOnly)&&Kr(c,r,s.type))},j=()=>{c&&("local"!==s&&"session"!==s||Yr(c,s),"object"!=typeof s||"local"!==s.type&&"session"!==s.type||Yr(c,s.type),c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.remove&&s.remove(c)),d(r),b(0),"function"==typeof l&&l({data:r,errors:h})};t.useEffect(()=>{Jr()&&(!c||"local"!==s&&"session"!==s&&("object"!=typeof s||"local"!==s.type&&"session"!==s.type)?c&&"object"==typeof s&&"custom"===s.type&&"function"==typeof s.get?window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:o,errors:h,currentStep:m,savedData:s.get(c)}):window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:o,errors:h,currentStep:m,savedData:{}}):window.stagesLogging({id:u,keys:O,data:f,initialData:r,initialStep:o,errors:h,currentStep:m,savedData:Gr(c,"object"==typeof s?s.type:s)}))},[O,f,h,m]),t.useEffect(()=>{Jr()&&window.stagesLogging("Init Stages",u),n.map((e,t)=>e({index:t,setStepKey:S,initializing:!0})).filter(e=>e)},[]),t.useEffect(()=>{if(a){const e=C();e<m&&b(-1===e?0:e+1)}y(n.map((e,t)=>e({data:x(t),allData:f,onChange:w,reset:j,onNav:A,isActive:t===m,index:t,errors:h[t]||{},setStepKey:S})).filter((e,t)=>{const n=null!==e;return O[t]&&(O[t].visible=n),n}))},[m,f]);const A=(e,t)=>{let n=m;if(Jr()&&window.stagesLogging('On nav "'+e+'" -> "'+t+'"',u),"next"===e){let e=!1;for(let t=m+1;t<O.length;t++)O[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=m-1;t>=0;t--)O[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<O.length;t++)O[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=O.length-1;t>=0;t--)O[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=C()),"step"===e&&O[t]&&O[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=g.default(O,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>O.length&&(n=O.length),b(n)},C=()=>{let e=-1,t=!1;return Object.keys(h).forEach(n=>{const r=g.default(O,{key:n});(0===Object.keys(h[n]).length||r>-1&&!O[r].visible)&&!t?e=Number(n):t=!0}),e};return 0===p.length?null:i?i({navigationProps:{currentStep:m,data:f,onChangeStep:e=>{const t=C();Jr()&&window.stagesLogging('On change step "'+e+'"',u),("number"==typeof t&&"number"==typeof e&&t+1>=e||!1===a)&&b(e)},errors:h,keys:O,stepCount:p.length,lastValidStep:C(),reset:j},progressionProps:(()=>{const e=p.length,t=C();let n=0;return Object.keys(h).forEach((e,r)=>{const o=x(r);r<=t&&0===Object.keys(h[r]).length&&Object.keys(o).length>0&&n++}),{currentStep:m,stepCount:e,validSteps:n,percentage:100/e*n,data:f,errors:h}})(),routerProps:{step:m,onChange:b,keys:O},steps:p}):null};Xr.propTypes={children:Fr.arrayOf(Fr.oneOfType([Fr.node,Fr.func])).isRequired,initialData:Fr.object,render:Fr.oneOfType([Fr.node,Fr.func]).isRequired,initialStep:Fr.number,validateOnStepChange:Fr.bool,id:Fr.oneOfType([Fr.string,Fr.number])},Xr.defaultProps={initialData:{},validateOnStepChange:!0,autoSave:!1};var Qr={};Qr[ke("toStringTag")]="z";var Zr="[object z]"===String(Qr),eo=ke("toStringTag"),to=F.Object,no="Arguments"==K(function(){return arguments}()),ro=Zr?K:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=to(e),eo))?n:no?K(t):"Object"==(r=K(t))&&T(t.callee)?"Arguments":r},oo=F.String,io=function(e){if("Symbol"===ro(e))throw TypeError("Cannot convert a Symbol value to a string");return oo(e)},ao=function(){var e=Re(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},lo=F.RegExp,so=q(function(){var e=lo("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),co=so||q(function(){return!lo("a","y").sticky}),uo=so||q(function(){var e=lo("^r","gy");return e.lastIndex=2,null!=e.exec("str")}),fo={BROKEN_CARET:uo,MISSED_STICKY:co,UNSUPPORTED_Y:so},po=F.RegExp,yo=q(function(){var e=po(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),go=F.RegExp,ho=q(function(){var e=go("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),vo=Yt.get,mo=oe("native-string-replace",String.prototype.replace),bo=RegExp.prototype.exec,Oo=bo,Eo=z("".charAt),xo=z("".indexOf),So=z("".replace),wo=z("".slice),jo=function(){var e=/a/,t=/b*/g;return Ve(bo,e,"a"),Ve(bo,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Ao=fo.BROKEN_CARET,Co=void 0!==/()??/.exec("")[1];(jo||Co||Ao||yo||ho)&&(Oo=function(e){var t,n,r,o,i,a,l,s=this,c=vo(s),u=io(e),f=c.raw;if(f)return f.lastIndex=s.lastIndex,t=Ve(Oo,f,u),s.lastIndex=f.lastIndex,t;var d=c.groups,p=Ao&&s.sticky,y=Ve(ao,s),g=s.source,h=0,v=u;if(p&&(y=So(y,"y",""),-1===xo(y,"g")&&(y+="g"),v=wo(u,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==Eo(u,s.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,h++),n=new RegExp("^(?:"+g+")",y)),Co&&(n=new RegExp("^"+g+"$(?!\\s)",y)),jo&&(r=s.lastIndex),o=Ve(bo,p?n:s,v),p?o?(o.input=wo(o.input,h),o[0]=wo(o[0],h),o.index=s.lastIndex,s.lastIndex+=o[0].length):s.lastIndex=0:jo&&o&&(s.lastIndex=s.global?o.index+o[0].length:r),Co&&o&&o.length>1&&Ve(mo,o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&d)for(o.groups=a=At(null),i=0;i<d.length;i++)a[(l=d[i])[0]]=o[l[1]];return o});var ko=Oo;xn({target:"RegExp",proto:!0,forced:/./.exec!==ko},{exec:ko});var Do=ke("species"),Fo=RegExp.prototype,Ro=ke("match"),To=function(e){var t;return P(e)&&(void 0!==(t=e[Ro])?!!t:"RegExp"==K(e))},Po=function(){},Io=[],Lo=ye("Reflect","construct"),Vo=/^\s*(?:class|function)\b/,_o=z(Vo.exec),Mo=!Vo.exec(Po),No=function(e){if(!T(e))return!1;try{return Lo(Po,Io,e),!0}catch(e){return!1}},qo=function(e){if(!T(e))return!1;switch(ro(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Mo||!!_o(Vo,Lt(e))}catch(e){return!0}};qo.sham=!0;var Wo=!Lo||q(function(){var e;return No(No.call)||!No(Object)||!No(function(){e=!0})||e})?qo:No,Uo=F.TypeError,Bo=ke("species"),$o=function(e,t){var n,r=Re(e).constructor;return void 0===r||null==(n=Re(r)[Bo])?t:function(e){if(Wo(e))return e;throw Uo(We(e)+" is not a constructor")}(n)},zo=z("".charAt),Ho=z("".charCodeAt),Go=z("".slice),Ko=function(e){return function(t,n){var r,o,i=io(Z(t)),a=tt(n),l=i.length;return a<0||a>=l?e?"":void 0:(r=Ho(i,a))<55296||r>56319||a+1===l||(o=Ho(i,a+1))<56320||o>57343?e?zo(i,a):r:e?Go(i,a,a+2):o-56320+(r-55296<<10)+65536}},Yo=(Ko(!1),Ko(!0)),Jo=function(e,t,n){return t+(n?Yo(e,t).length:1)},Xo=F.Array,Qo=Math.max,Zo=function(e,t,n){for(var r,o,i,a=lt(e),l=ot(t,a),s=ot(void 0===n?a:n,a),c=Xo(Qo(s-l,0)),u=0;l<s;l++,u++)r=c,o=e[l],(i=Ke(u))in r?Qe.f(r,i,Mt(0,o)):r[i]=o;return c.length=u,c},ei=F.TypeError,ti=function(e,t){var n=e.exec;if(T(n)){var r=Ve(n,e,t);return null!==r&&Re(r),r}if("RegExp"===K(e))return Ve(ko,e,t);throw ei("RegExp#exec called on incompatible receiver")},ni=fo.UNSUPPORTED_Y,ri=Math.min,oi=[].push,ii=z(/./.exec),ai=z(oi),li=z("".slice),si=!q(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});!function(e,t,n,r){var o,i,a,l,s=ke(e),c=!q(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)}),u=c&&!q(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[Do]=function(){return t},t.flags="",t[s]=/./[s],t.exec=function(){return e=!0,null},t[s](""),!e});if(!c||!u||n){var f=z(/./[s]),d=(o=s,i=""[e],a=function(e,t,n,r,o){var i=z(e),a=t.exec;return a===ko||a===Fo.exec?c&&!o?{done:!0,value:f(t,n,r)}:{done:!0,value:i(n,t,r)}:{done:!1}},l="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=io(Z(this)),r=void 0===t?4294967295:t>>>0;if(0===r)return[];if(void 0===e)return[n];if(!To(e))return Ve(i,n,e,r);for(var o,a,l,s=[],c=0,u=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(o=Ve(ko,u,n))&&!((a=u.lastIndex)>c&&(ai(s,li(n,c,o.index)),o.length>1&&o.index<n.length&&Ir(oi,s,Zo(o,1)),l=o[0].length,c=a,s.length>=r));)u.lastIndex===o.index&&u.lastIndex++;return c===n.length?!l&&ii(u,"")||ai(s,""):ai(s,li(n,c)),s.length>r?Zo(s,0,r):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:Ve(i,this,e,t)}:i,[function(e,t){var n=Z(this),r=null==e?void 0:$e(e,o);return r?Ve(r,e,n,t):Ve(l,io(n),e,t)},function(e,t){var n=Re(this),r=io(e),o=a(l,n,r,t,l!==i);if(o.done)return o.value;var s=$o(n,RegExp),c=n.unicode,u=new s(ni?"^(?:"+n.source+")":n,(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(ni?"g":"y")),f=void 0===t?4294967295:t>>>0;if(0===f)return[];if(0===r.length)return null===ti(u,r)?[r]:[];for(var d=0,p=0,y=[];p<r.length;){u.lastIndex=ni?0:p;var g,h=ti(u,ni?li(r,p):r);if(null===h||(g=ri(at(u.lastIndex+(ni?p:0)),r.length))===d)p=Jo(r,p,c);else{if(ai(y,li(r,d,p)),y.length===f)return y;for(var v=1;v<=h.length-1;v++)if(ai(y,h[v]),y.length===f)return y;p=d=g}}return ai(y,li(r,d)),y}]);ln(String.prototype,e,d[0]),ln(Fo,s,d[1])}r&&Nt(Fo[s],"sham",!0)}("split",0,!si,ni);var ci=ke("species"),ui=function(e){var t=ye(e);Te&&t&&!t[ci]&&(0,Qe.f)(t,ci,{configurable:!0,get:function(){return this}})},fi=Qe.f,di=cn.f,pi=Yt.enforce,yi=ke("match"),gi=F.RegExp,hi=gi.prototype,vi=F.SyntaxError,mi=z(ao),bi=z(hi.exec),Oi=z("".charAt),Ei=z("".replace),xi=z("".indexOf),Si=z("".slice),wi=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ji=/a/g,Ai=/a/g,Ci=new gi(ji)!==ji,ki=fo.MISSED_STICKY,Di=fo.UNSUPPORTED_Y,Fi=Te&&(!Ci||ki||yo||ho||q(function(){return Ai[yi]=!1,gi(ji)!=ji||gi(Ai)==Ai||"/a/i"!=gi(ji,"i")}));if(On("RegExp",Fi)){for(var Ri=function(e,t){var n,r,o,i,a,l,s,c,u,f,d=_e(hi,this),p=To(e),y=void 0===t,g=[],h=e;if(!d&&p&&y&&e.constructor===Ri)return e;if((p||_e(hi,e))&&(e=e.source,y&&(t="flags"in h?h.flags:mi(h))),e=void 0===e?"":io(e),t=void 0===t?"":io(t),h=e,yo&&"dotAll"in ji&&(r=!!t&&xi(t,"s")>-1)&&(t=Ei(t,/s/g,"")),n=t,ki&&"sticky"in ji&&(o=!!t&&xi(t,"y")>-1)&&Di&&(t=Ei(t,/y/g,"")),ho&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],a={},l=!1,s=!1,c=0,u="";r<=n;r++){if("\\"===(t=Oi(e,r)))t+=Oi(e,++r);else if("]"===t)l=!1;else if(!l)switch(!0){case"["===t:l=!0;break;case"("===t:bi(wi,Si(e,r+1))&&(r+=2,s=!0),o+=t,c++;continue;case">"===t&&s:if(""===u||se(a,u))throw new vi("Invalid capture group name");a[u]=!0,i[i.length]=[u,c],s=!1,u="";continue}s?u+=t:o+=t}return[o,i]}(e),e=i[0],g=i[1]),s=gi(e,t),c=Ri,Nn&&T(u=(d?this:hi).constructor)&&u!==c&&P(f=u.prototype)&&f!==c.prototype&&Nn(s,f),a=s,(r||o||g.length)&&(l=pi(a),r&&(l.dotAll=!0,l.raw=Ri(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=Oi(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+Oi(e,++r);return o}(e),n)),o&&(l.sticky=!0),g.length&&(l.groups=g)),e!==h)try{Nt(a,"source",""===h?"(?:)":h)}catch(e){}return a},Ti=function(e){e in Ri||fi(Ri,e,{configurable:!0,get:function(){return gi[e]},set:function(t){gi[e]=t}})},Pi=di(gi),Ii=0;Pi.length>Ii;)Ti(Pi[Ii++]);hi.constructor=Ri,Ri.prototype=hi,ln(F,"RegExp",Ri)}ui("RegExp");var Li=an.PROPER,Vi=RegExp.prototype,_i=Vi.toString,Mi=z(ao);(q(function(){return"/a/b"!=_i.call({source:"a",flags:"b"})})||Li&&"toString"!=_i.name)&&ln(RegExp.prototype,"toString",function(){var e=Re(this),t=io(e.source),n=e.flags;return"/"+t+"/"+io(void 0===n&&_e(Vi,e)&&!("flags"in Vi)?Mi(e):n)},{unsafe:!0});var Ni,qi,Wi=(Ni=!1,(qi=/[ac]/).exec=function(){return Ni=!0,/./.exec.apply(this,arguments)},!0===qi.test("abc")&&Ni),Ui=F.Error,Bi=z(/./.test);xn({target:"RegExp",proto:!0,forced:!Wi},{test:function(e){var t=this.exec;if(!T(t))return Bi(this,e);var n=Ve(t,this,e);if(null!==n&&!P(n))throw new Ui("RegExp exec method returned something other than an Object or null");return!!n}});var $i=F.Promise,zi=F.TypeError,Hi=z(z.bind),Gi=function(e,t){return Be(e),void 0===t?e:W?Hi(e,t):function(){return e.apply(t,arguments)}},Ki=ke("iterator"),Yi=Array.prototype,Ji=ke("iterator"),Xi=function(e){if(null!=e)return $e(e,Ji)||$e(e,"@@iterator")||Ft[ro(e)]},Qi=F.TypeError,Zi=function(e,t,n){var r,o;Re(e);try{if(!(r=$e(e,"return"))){if("throw"===t)throw n;return n}r=Ve(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return Re(r),n},ea=F.TypeError,ta=function(e,t){this.stopped=e,this.result=t},na=ta.prototype,ra=function(e,t,n){var r,o,i,a,l,s,c,u,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),y=Gi(t,n&&n.that),g=function(e){return r&&Zi(r,"normal",e),new ta(!0,e)},h=function(e){return f?(Re(e),p?y(e[0],e[1],g):y(e[0],e[1])):p?y(e,g):y(e)};if(d)r=e;else{if(!(o=Xi(e)))throw ea(We(e)+" is not iterable");if(void 0!==(u=o)&&(Ft.Array===u||Yi[Ki]===u)){for(i=0,a=lt(e);a>i;i++)if((l=h(e[i]))&&_e(na,l))return l;return new ta(!1)}r=function(e,t){var n=arguments.length<2?Xi(e):t;if(Be(n))return Re(Ve(n,e));throw Qi(We(e)+" is not iterable")}(e,o)}for(s=r.next;!(c=Ve(s,r)).done;){try{l=h(c.value)}catch(e){Zi(r,"throw",e)}if("object"==typeof l&&l&&_e(na,l))return l}return new ta(!1)},oa=ke("iterator"),ia=!1;try{var aa=0,la={next:function(){return{done:!!aa++}},return:function(){ia=!0}};la[oa]=function(){return this},Array.from(la,function(){throw 2})}catch(e){}var sa,ca,ua,fa,da=z([].slice),pa=F.TypeError,ya=function(e,t){if(e<t)throw pa("Not enough arguments");return e},ga=/(?:ipad|iphone|ipod).*applewebkit/i.test(ge),ha="process"==K(F.process),va=F.setImmediate,ma=F.clearImmediate,ba=F.process,Oa=F.Dispatch,Ea=F.Function,xa=F.MessageChannel,Sa=F.String,wa=0,ja={};try{sa=F.location}catch(e){}var Aa=function(e){if(se(ja,e)){var t=ja[e];delete ja[e],t()}},Ca=function(e){return function(){Aa(e)}},ka=function(e){Aa(e.data)},Da=function(e){F.postMessage(Sa(e),sa.protocol+"//"+sa.host)};va&&ma||(va=function(e){ya(arguments.length,1);var t=T(e)?e:Ea(e),n=da(arguments,1);return ja[++wa]=function(){Ir(t,void 0,n)},ca(wa),wa},ma=function(e){delete ja[e]},ha?ca=function(e){ba.nextTick(Ca(e))}:Oa&&Oa.now?ca=function(e){Oa.now(Ca(e))}:xa&&!ga?(fa=(ua=new xa).port2,ua.port1.onmessage=ka,ca=Gi(fa.postMessage,fa)):F.addEventListener&&T(F.postMessage)&&!F.importScripts&&sa&&"file:"!==sa.protocol&&!q(Da)?(ca=Da,F.addEventListener("message",ka,!1)):ca="onreadystatechange"in V("script")?function(e){mt.appendChild(V("script")).onreadystatechange=function(){mt.removeChild(this),Aa(e)}}:function(e){setTimeout(Ca(e),0)});var Fa,Ra,Ta,Pa,Ia,La,Va,_a,Ma={set:va,clear:ma},Na=/ipad|iphone|ipod/i.test(ge)&&void 0!==F.Pebble,qa=/web0s(?!.*chrome)/i.test(ge),Wa=Ma.set,Ua=F.MutationObserver||F.WebKitMutationObserver,Ba=F.document,$a=F.process,za=F.Promise,Ha=(0,tn.f)(F,"queueMicrotask"),Ga=Ha&&Ha.value;Ga||(Fa=function(){var e,t;for(ha&&(e=$a.domain)&&e.exit();Ra;){t=Ra.fn,Ra=Ra.next;try{t()}catch(e){throw Ra?Pa():Ta=void 0,e}}Ta=void 0,e&&e.enter()},ga||ha||qa||!Ua||!Ba?!Na&&za&&za.resolve?((Va=za.resolve(void 0)).constructor=za,_a=Gi(Va.then,Va),Pa=function(){_a(Fa)}):ha?Pa=function(){$a.nextTick(Fa)}:(Wa=Gi(Wa,F),Pa=function(){Wa(Fa)}):(Ia=!0,La=Ba.createTextNode(""),new Ua(Fa).observe(La,{characterData:!0}),Pa=function(){La.data=Ia=!Ia}));var Ka=Ga||function(e){var t={fn:e,next:void 0};Ta&&(Ta.next=t),Ra||(Ra=t,Pa()),Ta=t},Ya=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Be(t),this.reject=Be(n)},Ja={f:function(e){return new Ya(e)}},Xa=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Qa=function(){this.head=null,this.tail=null};Qa.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Za,el,tl,nl,rl=Qa,ol="object"==typeof window,il=Ma.set,al=ke("species"),ll="Promise",sl=Yt.getterFor(ll),cl=Yt.set,ul=Yt.getterFor(ll),fl=$i&&$i.prototype,dl=$i,pl=fl,yl=F.TypeError,gl=F.document,hl=F.process,vl=Ja.f,ml=vl,bl=!!(gl&&gl.createEvent&&F.dispatchEvent),Ol=T(F.PromiseRejectionEvent),El=!1,xl=On(ll,function(){var e=Lt(dl),t=e!==String(dl);if(!t&&66===Ee)return!0;if(Ee>=51&&/native code/.test(e))return!1;var n=new dl(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[al]=r,!(El=n.then(function(){})instanceof r)||!t&&ol&&!Ol}),Sl=xl||!function(e,t){if(!ia)return!1;var n=!1;try{var r={};r[oa]=function(){return{next:function(){return{done:n=!0}}}},dl.all(r).catch(function(){})}catch(e){}return n}(),wl=function(e){var t;return!(!P(e)||!T(t=e.then))&&t},jl=function(e,t){var n,r,o,i=t.value,a=1==t.state,l=a?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{l?(a||(2===t.rejection&&Fl(t),t.rejection=1),!0===l?n=i:(u&&u.enter(),n=l(i),u&&(u.exit(),o=!0)),n===e.promise?c(yl("Promise-chain cycle")):(r=wl(n))?Ve(r,n,s,c):s(n)):c(i)}catch(e){u&&!o&&u.exit(),c(e)}},Al=function(e,t){e.notified||(e.notified=!0,Ka(function(){for(var n,r=e.reactions;n=r.get();)jl(n,e);e.notified=!1,t&&!e.rejection&&kl(e)}))},Cl=function(e,t,n){var r,o;bl?((r=gl.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),F.dispatchEvent(r)):r={promise:t,reason:n},!Ol&&(o=F["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=F.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},kl=function(e){Ve(il,F,function(){var t,n=e.facade,r=e.value;if(Dl(e)&&(t=Xa(function(){ha?hl.emit("unhandledRejection",r,n):Cl("unhandledrejection",n,r)}),e.rejection=ha||Dl(e)?2:1,t.error))throw t.value})},Dl=function(e){return 1!==e.rejection&&!e.parent},Fl=function(e){Ve(il,F,function(){var t=e.facade;ha?hl.emit("rejectionHandled",t):Cl("rejectionhandled",t,e.value)})},Rl=function(e,t,n){return function(r){e(t,r,n)}},Tl=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Al(e,!0))},Pl=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw yl("Promise can't be resolved itself");var r=wl(t);r?Ka(function(){var n={done:!1};try{Ve(r,t,Rl(Pl,n,e),Rl(Tl,n,e))}catch(t){Tl(n,t,e)}}):(e.value=t,e.state=1,Al(e,!1))}catch(t){Tl({done:!1},t,e)}}};if(xl&&(dl=function(e){!function(e,t){if(_e(pl,e))return e;throw zi("Incorrect invocation")}(this),Be(e),Ve(Za,this);var t=sl(this);try{e(Rl(Pl,t),Rl(Tl,t))}catch(e){Tl(t,e)}},(Za=function(e){cl(this,{type:ll,done:!1,notified:!1,parent:!1,reactions:new rl,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)ln(e,r,t[r],void 0);return e}(pl=dl.prototype,{then:function(e,t){var n=ul(this),r=vl($o(this,dl));return n.parent=!0,r.ok=!T(e)||e,r.fail=T(t)&&t,r.domain=ha?hl.domain:void 0,0==n.state?n.reactions.add(r):Ka(function(){jl(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),el=function(){var e=new Za,t=sl(e);this.promise=e,this.resolve=Rl(Pl,t),this.reject=Rl(Tl,t)},Ja.f=vl=function(e){return e===dl||e===tl?new el(e):ml(e)},T($i)&&fl!==Object.prototype)){nl=fl.then,El||(ln(fl,"then",function(e,t){var n=this;return new dl(function(e,t){Ve(nl,n,e,t)}).then(e,t)},{unsafe:!0}),ln(fl,"catch",pl.catch,{unsafe:!0}));try{delete fl.constructor}catch(e){}Nn&&Nn(fl,pl)}xn({global:!0,wrap:!0,forced:xl},{Promise:dl}),In(dl,ll,!1),ui(ll),tl=ye(ll),xn({target:ll,stat:!0,forced:xl},{reject:function(e){var t=vl(this);return Ve(t.reject,void 0,e),t.promise}}),xn({target:ll,stat:!0,forced:xl},{resolve:function(e){return function(e,t){if(Re(e),P(t)&&t.constructor===e)return t;var n=Ja.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),xn({target:ll,stat:!0,forced:Sl},{all:function(e){var t=this,n=vl(t),r=n.resolve,o=n.reject,i=Xa(function(){var n=Be(t.resolve),i=[],a=0,l=1;ra(e,function(e){var s=a++,c=!1;l++,Ve(n,t,e).then(function(e){c||(c=!0,i[s]=e,--l||r(i))},o)}),--l||r(i)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=vl(t),r=n.reject,o=Xa(function(){var o=Be(t.resolve);ra(e,function(e){Ve(o,t,e).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});var Il,Ll=Math.floor,Vl=function(e,t){var n=e.length,r=Ll(n/2);return n<8?_l(e,t):Ml(e,Vl(Zo(e,0,r),t),Vl(Zo(e,r),t),t)},_l=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},Ml=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,l=0;a<o||l<i;)e[a+l]=a<o&&l<i?r(t[a],n[l])<=0?t[a++]:n[l++]:a<o?t[a++]:n[l++];return e},Nl=Vl,ql=ge.match(/firefox\/(\d+)/i),Wl=!!ql&&+ql[1],Ul=/MSIE|Trident/.test(ge),Bl=ge.match(/AppleWebKit\/(\d+)\./),$l=!!Bl&&+Bl[1],zl=[],Hl=z(zl.sort),Gl=z(zl.push),Kl=q(function(){zl.sort(void 0)}),Yl=q(function(){zl.sort(null)}),Jl=!!(Il=[].sort)&&q(function(){Il.call(null,function(){return 1},1)}),Xl=!q(function(){if(Ee)return Ee<70;if(!(Wl&&Wl>3)){if(Ul)return!0;if($l)return $l<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)zl.push({k:t+r,v:n})}for(zl.sort(function(e,t){return t.v-e.v}),r=0;r<zl.length;r++)t=zl[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}});xn({target:"Array",proto:!0,forced:Kl||!Yl||!Jl||!Xl},{sort:function(e){void 0!==e&&Be(e);var t=ae(this);if(Xl)return void 0===e?Hl(t):Hl(t,e);var n,r,o=[],i=lt(t);for(r=0;r<i;r++)r in t&&Gl(o,t[r]);for(Nl(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:io(t)>io(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<i;)delete t[r++];return t}});var Ql=Array.isArray||function(e){return"Array"==K(e)},Zl=z([].reverse),es=[1,2];xn({target:"Array",proto:!0,forced:String(es)===String(es.reverse())},{reverse:function(){return Ql(this)&&(this.length=this.length),Zl(this)}});var ts=z(1..valueOf),ns=F.RangeError,rs=F.RangeError,os=F.String,is=Math.floor,as=z(function(e){var t=io(Z(this)),n="",r=tt(e);if(r<0||Infinity==r)throw ns("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),ls=z("".slice),ss=z(1..toFixed),cs=function(e,t,n){return 0===t?n:t%2==1?cs(e,t-1,n*e):cs(e*e,t/2,n)},us=function(e,t,n){for(var r=-1,o=n;++r<6;)e[r]=(o+=t*e[r])%1e7,o=is(o/1e7)},fs=function(e,t){for(var n=6,r=0;--n>=0;)e[n]=is((r+=e[n])/t),r=r%t*1e7},ds=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=os(e[t]);n=""===n?r:n+as("0",7-r.length)+r}return n},ps=q(function(){return"0.000"!==ss(8e-5,3)||"1"!==ss(.9,0)||"1.25"!==ss(1.255,2)||"1000000000000000128"!==ss(0xde0b6b3a7640080,0)})||!q(function(){ss({})});xn({target:"Number",proto:!0,forced:ps},{toFixed:function(e){var t,n,r,o,i=ts(this),a=tt(e),l=[0,0,0,0,0,0],s="",c="0";if(a<0||a>20)throw rs("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return os(i);if(i<0&&(s="-",i=-i),i>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*cs(2,69,1))-69,n=t<0?i*cs(2,-t,1):i/cs(2,t,1),n*=4503599627370496,(t=52-t)>0){for(us(l,0,n),r=a;r>=7;)us(l,1e7,0),r-=7;for(us(l,cs(10,r,1),0),r=t-1;r>=23;)fs(l,1<<23),r-=23;fs(l,1<<r),us(l,1,1),fs(l,2),c=ds(l)}else us(l,0,n),us(l,1<<-t,0),c=ds(l)+as("0",a);return a>0?s+((o=c.length)<=a?"0."+as("0",a-o)+c:ls(c,0,o-a)+"."+ls(c,o-a)):s+c}});var ys,gs=F.TypeError,hs=function(e){if(To(e))throw gs("The method doesn't accept regular expressions");return e},vs=ke("match"),ms=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[vs]=!1,"/./"[e](t)}catch(e){}}return!1},bs=tn.f,Os=z("".endsWith),Es=z("".slice),xs=Math.min,Ss=ms("endsWith"),ws=!(Ss||(ys=bs(String.prototype,"endsWith"),!ys||ys.writable));xn({target:"String",proto:!0,forced:!ws&&!Ss},{endsWith:function(e){var t=io(Z(this));hs(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,o=void 0===n?r:xs(at(n),r),i=io(e);return Os?Os(t,i,o):Es(t,o-i.length,o)===i}});var js=tn.f,As=z("".startsWith),Cs=z("".slice),ks=Math.min,Ds=ms("startsWith"),Fs=!Ds&&!!function(){var e=js(String.prototype,"startsWith");return e&&!e.writable}();xn({target:"String",proto:!0,forced:!Fs&&!Ds},{startsWith:function(e){var t=io(Z(this));hs(e);var n=at(ks(arguments.length>1?arguments[1]:void 0,t.length)),r=io(e);return As?As(t,r,n):Cs(t,n,n+r.length)===r}});const Rs=(e,t,n)=>n&&Array.isArray(e)?"number"===t?e.map(e=>Number(e)):"string"===t?e.map(e=>String(e)):"boolean"===t?e.map(e=>Boolean(e)):"date"===t?e.map(e=>new Date(e)):e:"number"===t?Number(e):"string"===t?String(e):"boolean"===t?Boolean(e):"date"===t?new Date(e):e,Ts=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{n[r]=void 0!==e[r]?e[r]:t[r].default,void 0===e[r]&&t[r].required&&console.warn('Param "'+r+'" is required but is missing in field configs!'),void 0!==e[r]&&typeof e[r]!==t[r].type&&console.warn('Param "'+r+'" is not of type "'+t[r].type+'"!')}),n},Ps={};let Is,Ls,Vs,_s=0;const Ms={},Ns=e=>{let{config:n,data:r,render:o,renderFields:i,fields:a,onChange:l,isVisible:s,isDisabled:c,id:u,onValidation:f,parentRunValidation:d,validateOn:h,throttleWait:j,customEvents:A,enableUndo:C,undoMaxDepth:k,customRuleHandlers:D,autoSave:F,typeValidations:R,fieldsets:T,initialInterfaceState:P}=e;const[I,L]=t.useState(P),V=Object.assign({},r);S.default(V,I);const[_]=t.useState("form-"+(u||"noid")+"-"+ +new Date),[M,N]=t.useState(!1),[q,W]=t.useState({}),[U,B]=t.useState(!1),[$,z]=t.useState([]),[H,G]=t.useState(0),[K,Y]=t.useState(!1),[J,X]=t.useState(!1),[Q,Z]=t.useState({}),[ee,te]=t.useState({}),[ne,re]=t.useState(),[oe,ie]=t.useState({}),[ae,le]=t.useState(!1),[se,ce]=t.useState(""),[ue,fe]=t.useState(""),[de,pe]=t.useState([]),ye=((e,t,n,r,o,i)=>{let a="function"==typeof e.fields?e.fields(t,n,r):"function"==typeof e?e(t,n,r):Array.isArray(e)?e:[];const l=o=>{if("string"==typeof o&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[o])return e.fieldConfigs[o](t,n,r);if("object"==typeof o&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[o.type]){const i=e.fieldConfigs[o.type](t,n,r);return Object.assign({},i,o,{type:i.type})}return"object"==typeof o&&i[o.type]?{id:o.id,type:"fieldset",fieldset:o.type,fields:i[o.type].config({data:t,asyncData:n,interfaceState:r,params:Ts(o.params||{},i[o.type].params)}),params:o.params}:"function"==typeof o?o(t,n,r):o};return a=a.map(e=>("object"!=typeof e||"group"!==e.type&&"collection"!==e.type&&"fieldset"!==e.type||!Array.isArray(e.fields)||(e.fields=e.fields.map(e=>l(e))),l(e))),o.forEach(e=>{const r=p.default(a,e.path);if(Array.isArray(r)){if("add"===e.action&&r.push(e.fields(t,n)),"remove"===e.action){const o=e.fields(t,n),i=g.default(r,{id:o.id});i>-1&&r.splice(i,1)}E.default(a,e.path,r)}}),a})(n,V,ne,I,de,T),ge=((e,t)=>{const n=[];return function r(o,i){void 0===o&&(o="");let a=[o?p.default(e,o):e],l=[];Array.isArray(a[0])||(l=Object.keys(a[0]),a=Object.values(a[0])),a.forEach((e,a)=>{const s=void 0!==l[a]?l[a]:void 0;Array.isArray(e)&&e.forEach((e,a)=>{const l=i?i+"."+e.id:e.id,c=p.default(t,l),u=p.default(t,i);if((s&&u&&u.__typename===s||!s)&&n.push({path:l,config:e,data:c}),"collection"===e.type){const n=i?p.default(t,i+"."+e.id):t[e.id];n&&Array.isArray(n)&&n.forEach((t,n)=>{r(o+"["+a+"].fields",i?i+"."+e.id+"["+n+"]":e.id+"["+n+"]")})}else"group"!==e.type&&"fieldset"!==e.type||r(o+"["+a+"].fields",l)})})}(),n})(ye,V);t.useEffect(()=>{if(r&&!U){Jr()&&window.stagesLogging("Set initial data",_),ge.forEach(e=>{if(void 0!==e.config.defaultValue&&void 0===p.default(r,e.path)){const t="function"==typeof e.config.defaultValue?e.config.defaultValue(r):e.config.defaultValue;E.default(r,e.path,t),E.default(V,e.path,t)}});const e=w.default(r);let t;B(JSON.parse(e)),"local"===F||"session"===F||"object"==typeof F&&("local"===F.type||"session"===F.type)?t=Gr(u,"object"==typeof F?F.type:F):u&&"object"==typeof F&&"custom"===F.type&&"function"==typeof F.get&&(t=F.get(u)),t&&Object.keys(t).length>0&&setTimeout(()=>{N(!!t.isDirty),W("object"==typeof t.dirtyFields?t.dirtyFields:{}),Se(t.data,be(!1,t.data),u)},0)}},[r]),t.useEffect(()=>{if(Jr()){let e;e="local"===F||"session"===F||"object"==typeof F&&("local"===F.type||"session"===F.type)?Gr(u,"object"==typeof F?F.type:F):u&&"object"==typeof F&&"custom"===F.type&&"function"==typeof F.get?F.get(u):{},window.stagesLogging({id:_,data:r,initialData:U,interfaceState:I,undoData:$,asyncData:ne,errors:oe,fieldPaths:ge,isDirty:M,focusedField:se,lastFocusedField:ue,dirtyFields:q,loading:ae,parsedFieldConfig:ye,savedData:e})}},[r,oe,M,se,ue,q,ae]);const he=e=>"collection"===e||"subform"===e||"group"===e||"fieldset"===e||"config"===e,ve=(e,t,n,r)=>{if(!a[t.type])return!0;const o=p.default(n,e),i=!he(t.type)&&a[t.type].isValid(o,t);if(R[t.type]&&"function"==typeof R[t.type].validation&&!t.customValidation)return R[t.type].validation({data:o,allData:n,interfaceState:I,fieldConfig:t,isValid:i,fieldHasFocus:!(!se||se!==e),fieldIsDirty:void 0!==q[e],triggeringEvent:r});if(("string"==typeof t.regexValidation||t.regexValidation instanceof RegExp)&&!t.customValidation){let e;if("string"==typeof t.regexValidation)try{e=new RegExp(t.regexValidation)}catch(e){}else e=t.regexValidation;return i&&(e.test(o)||!o)}if(!he(t.type)&&"function"==typeof t.customValidation){const a=t.customValidation({data:o,allData:n,interfaceState:I,fieldConfig:t,isValid:i,fieldHasFocus:!(!se||se!==e),fieldIsDirty:void 0!==q[e],triggeringEvent:r});if(!function(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}(a))return a;!function(){const n=+new Date;Is=Object.assign({},Is,{[e]:n}),a.then(r=>{Is[e]===n&&(!0!==r?(delete Is[e],ie(Object.assign({},oe,{[e]:{field:t}}))):(delete Is[e],ie(Object.assign({},oe))),Is=Object.assign({},Is))})}()}return i},me=(e,t,n,r,o)=>{const i=v.default(ge,{path:e}).config;Jr()&&window.stagesLogging('Validate field "'+e+'"',_);const l=ve(e,i,n,t),s=p.default(n,e);return r[e]&&delete r[e],he(i.type)||!0===l?"collection"===i.type&&i.isRequired&&(!s||0===s.length||1===s.length&&0===Object.keys(s[0]).length)?(o||(o=e),r[e]={value:s,field:i}):"collection"===i.type&&(Array.isArray(i.fields)?i.fields.forEach(o=>{s&&s.forEach((l,c)=>{const u=e+"["+c+"]."+o.id;if(!(i.isRequired||l&&0!==Object.keys(l).length))return;const f=ve(o,u,l,t);if(a[o.type]&&!0!==f)r[e]={value:s,subField:o,errorCode:!1!==f?f:void 0};else if(a[o.type]&&o.isUnique){let t=p.default(n,e,[]).filter(e=>void 0!==e[o.id]).map(e=>e[o.id]);[...new Set(t)].length!==t.length&&(r[e]={value:s,subField:o,errorCode:"notUnique"})}})}):s&&s.forEach((n,o)=>{(i.isRequired||n&&0!==Object.keys(n).length)&&i.fields[n.__typename]&&i.fields[n.__typename].forEach(i=>{const l=ve(i,e+"["+o+"]."+i.id,n,t);a[i.type]&&!0!==l&&(r[e]={value:s,subField:i,errorCode:!1!==l?l:void 0})})})):(o||(o=e),r[e]={value:s,field:i,errorCode:!1!==l?l:void 0}),"collection"===i.type&&i.uniqEntries&&s&&b.default(s,(e,t)=>w.default(e)===w.default(t)).length!==s.length&&(r[e]={value:s,field:i}),"collection"===i.type&&i.rules&&"object"==typeof i.rules&&s&&Object.keys(i.rules).forEach(t=>{const n=i.rules[t];Object.keys(n).forEach(o=>{const a=n[o],l=t.indexOf(",")>-1?t.split(","):[t],c=o.indexOf(",")>-1?o.split(","):[o],u=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);const n=[];return e.forEach(e=>{t.forEach(t=>{n.push([e,t])})}),n}(l,c);let f=!0;if(a.maxCount&&"number"==typeof a.maxCount&&u.forEach(e=>{let t=0;s.forEach(n=>p.default(n,e[0])===e[1]?t++:void 0),t>a.maxCount&&(f=!1)}),a.minCount&&"number"==typeof a.minCount&&u.forEach(e=>{let t=0;s.forEach(n=>p.default(n,e[0])===e[1]?t++:void 0),t<a.minCount&&(f=!1)}),a.exactCount&&"number"==typeof a.exactCount&&u.forEach(e=>{let t=0;s.forEach(n=>p.default(n,e[0])===e[1]?t++:void 0),t!==a.exactCount&&(f=!1)}),a.sameCountAs&&"string"==typeof a.sameCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{p.default(r,e[0])===e[1]&&t++,p.default(r,e[0])===a.sameCountAs&&n++}),t!==n&&(f=!1)}),a.differentCountAs&&"string"==typeof a.differentCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{p.default(r,e[0])===e[1]&&t++,p.default(r,e[0])===a.differentCountAs&&n++}),t===n&&(f=!1)}),(a.sameSumAs&&"string"==typeof a.sameSumAs||a.differentSumAs&&"string"==typeof a.differentSumAs||a.biggerSumAs&&"string"==typeof a.biggerSumAs||a.smallerSumAs&&"string"==typeof a.smallerSumAs)&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{const o=Number(p.default(r,e[0])),i=Number(p.default(r,a.sameSumAs||a.differentSumAs||a.biggerSumAs||a.smallerSumAs));isNaN(o)||(t+=o),isNaN(i)||(n+=i)}),a.sameSumAs&&t!==n&&(f=!1),a.differentSumAs&&t===n&&(f=!1),a.biggerSumAs&&t<=n&&(f=!1),a.smallerSumAs&&t>=n&&(f=!1)}),a.isUnique&&l.length>0){const e=[];let t=!1;s.forEach(n=>{const r=l.map(e=>p.default(n,e));e.forEach(e=>{O.default(r,e)&&(t=!0)}),e.push(r)}),t&&(f=!1)}a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{p.default(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{p.default(r,e[0])===n&&(t=!0)}):p.default(r,e[0])===a.disallow&&(t=!0)}),n&&t&&(f=!1)}),a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{p.default(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{p.default(r,e[0])===n&&(t=!0)}):p.default(r,e[0])===a.disallow&&(t=!0)}),n&&!t&&(f=!1)}),f&&"object"==typeof D&&Object.keys(D).forEach(e=>{void 0!==a[e]&&"function"==typeof D[e]&&(D[e]({fieldValueCombos:u,fieldValidationData:s,valueRules:a,get:p.default})||(f=!1))}),f||(r[e]={value:s,field:i,errorCode:a.errorCode||"invalidRule"})})}),{errors:r,firstErrorField:o}},be=(e,t)=>{let n,r={};if(t||(t=V),ge.forEach(e=>{if(!a[e.config.type]&&!he(e.config.type))return;const o=me(e.path,"action",t,r,n);r=o.errors,n=o.firstErrorField}),n&&s&&e){const e=document.getElementById(n);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return r},Oe=()=>be(!1);t.useEffect(()=>{if("function"==typeof f&&d){Jr()&&window.stagesLogging("Get errors on validation",_);let e=be(!0);ie(e),f(e)}},[f]);const Ee=(e,t)=>{Jr()&&window.stagesLogging('Get sub form errors for sub id "'+e+'"',_),be(!0),t&&Object.keys(t).length>0&&(oe[e]=t)},xe=function(e,t,n){try{const r=function(){if(t.loader&&"function"==typeof t.loader){function r(){t.enableCaching&&((e,t)=>{Jr()&&window.stagesLogging('Update options cache for "'+e+'"',_),te(n=>Object.assign({},n,{[e]:t}))})(i,a),s===l&&(((e,t)=>{Jr()&&window.stagesLogging('Update options loaded for "'+e+'"',_),Z(n=>Object.assign({},n,{[e]:t}))})(e,a),t.onOptionsChange&&"function"==typeof t.onOptionsChange&&t.onOptionsChange(a,n,Fe))}const o={};let i,a;const l="number"==typeof Ps[e]?Ps[e]+1:0;let s=l;Ps[e]=l,Jr()&&window.stagesLogging('Create dynamic options for field "'+e+'"',_),t.enableCaching&&(t.watchFields.forEach(e=>{const t=p.default(n,e);t&&(o[e]=t)}),i=e+"-"+w.default(o));const c=function(){if(!t.enableCaching||!ee[i])return Promise.resolve(t.loader(n,Fe)).then(function(t){a=t,s=Ps[e]});a=ee[i]}();return c&&c.then?c.then(r):r()}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},Se=(e,t,n,r)=>{let o;try{o=w.default({newData:e,errors:Object.keys(t),id:n,fieldKey:r,interfaceState:I})}catch(e){}o!==Vs&&(l((e=>{const t={},n=Object.assign({},e);return ge.forEach(r=>{if(r.config.isInterfaceState){const o=p.default(e,r.path);void 0!==o&&(E.default(t,r.path,o),x.default(n,r.path))}}),L(t),n})(e),t,n,r,I),Vs=o)},we=()=>{if(C&&H>0){const e=H-1,t=JSON.parse($[e]);G(e),ie(t.errors),N(t.isDirty),W(t.dirtyFields),Se(t.data,t.errors,u)}},je=()=>{if(C&&H<$.length-1){const e=H+1,t=JSON.parse($[e]);G(e),ie(t.errors),N(t.isDirty),W(t.dirtyFields),Se(t.data,t.errors,u)}};t.useEffect(()=>{let e=Object.assign({},V);if(Jr()&&window.stagesLogging('Is visible change to "'+(s?"visible":"invisible")+'"',_),ge.forEach(t=>{const n=t.config;let r=p.default(e,t.path);if("collection"===n.type&&n.init){const o=n.min?Number(n.min):1;r&&0!==r.length||(r=[]);for(let t=r.length;t<o;t++)r.push("string"==typeof n.init?"function"==typeof n.setInitialData?n.setInitialData(r,e,n.init):{__typename:n.init}:"function"==typeof n.setInitialData?n.setInitialData(r,e):{});E.default(e,t.path,r)}}),e=Ae(e),"function"==typeof n.asyncDataLoader&&s&&!J)try{return le(!0),Promise.resolve(n.asyncDataLoader()).then(function(e){re(e),X(!0),le(!1)})}catch(e){Promise.reject(e)}s&&(Array.isArray(ge)&&ge.forEach(t=>{t.config.dynamicOptions&&t.config.dynamicOptions.events&&t.config.dynamicOptions.events.indexOf("init")>-1&&xe(t.path,t.config.dynamicOptions,e)}),0===H&&0===$.length&&z([w.default({data:e,isDirty:M,dirtyFields:q,errors:oe})])),Se(e,be(),u)},[s]);const Ae=e=>{const t=Object.assign({},e);return ge.forEach(n=>{if("function"==typeof n.config.computedValue){const r=p.default(V,n.path.split(".").slice(0,-1).join(".")),o=n.config.computedValue(e,r,I);E.default(t,n.path,o)}}),t},Ce=e=>v.default(ge,{path:e}).config,ke=(e,t)=>{const n=[];return"object"==typeof A&&Object.keys(A).forEach(r=>{"function"==typeof A[r]&&A[r]({data:t,dirtyFields:q,optionsLoaded:Q,asyncData:ne,errors:oe,focusedField:se,triggeringEvent:e})&&n.push(r)}),n},De=e=>Array.isArray(e)&&1===e.length?e[0]:e,Fe=function e(t,n,r,o){void 0===o&&(o=!1);let i,a=!1;const l=+new Date;(0===_s||l-_s<Number(j||400))&&(Ls&&clearTimeout(Ls),Ls=setTimeout(()=>e(t,n,r,!0),100),a=!0),o||(_s=l);const s=Ce(t);let c=Object.assign({},r||V),f="function"==typeof s.filter?s.filter(n):n;s.cast&&"function"==typeof s.cast.data&&(f=s.cast.data(f)),s.cast&&"string"==typeof s.cast.data&&(f=Rs(f,s.cast.data)),s.cast&&Array.isArray(s.cast.data)&&(f=Rs(f,s.cast.data[0],!0)),Jr()&&window.stagesLogging('Handle change for field "'+t+'"',_),E.default(c,t,f||void 0),c=Ae(c);const d={data:p.default(c,t),fieldIsDirty:!!q[t],fieldConfig:s,fieldHasFocus:!(!se||se!==t)},y=ke("change",c);if(!s.validateOn&&Array.isArray(h)&&y.some(e=>h.indexOf(e)>-1)||s.validateOn&&Array.isArray(s.validateOn)&&y.some(e=>s.validateOn.indexOf(e)>-1)){const e=me(t,De(y),c,oe);i=Object.assign({},oe,e.errors),ie(i)}else if(!s.validateOn&&Array.isArray(h)&&h.indexOf("change")>-1||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("change")>-1||!s.validateOn&&Array.isArray(h)&&h.indexOf("throttledChange")>-1&&!a||s.validateOn&&Array.isArray(s.validateOn)&&s.validateOn.indexOf("throttledChange")>-1&&!a||!s.validateOn&&"function"==typeof h&&h(d).indexOf("change")>-1||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("change")>-1||!s.validateOn&&"function"==typeof h&&h(d).indexOf("throttledChange")>-1&&!a||s.validateOn&&"function"==typeof s.validateOn&&s.validateOn(d).indexOf("throttledChange")>-1&&!a){const e=me(t,"change",c,oe);i=Object.assign({},oe,e.errors),ie(i)}if(U&&(O.default(p.default(c,t),p.default(U,t))?void 0!==q[t]&&delete q[t]:q[t]={oldData:p.default(U,t),newData:p.default(c,t)},N(Object.keys(q).length>0),W(q)),s.clearFields&&(Array.isArray(s.clearFields)||"function"==typeof s.clearFields)){const e=Object.assign({},Q);(Array.isArray(s.clearFields)?s.clearFields:s.clearFields(f,c,i)).forEach(t=>{E.default(c,t,void 0),delete e[t]}),Z(e)}if(Array.isArray(ge)&&ge.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("change")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t)>-1&&(!s.dynamicOptions||s.dynamicOptions&&Q[e.path]&&Q[e.path].indexOf(p.default(c,t))>-1||!Q[e.path])&&xe(e.path,e.config.dynamicOptions,c)}),(e=>{const t=e.split(".").at(-2);return"]"===(t?t.slice(-1):"")})(t)){const e=(e=>{const t=e.split(".");t.pop();let n=t.join(".");if("]"===n.slice(-1)){const e=n.lastIndexOf("[");n=n.substring(0,e)}return n})(t),n=Ce(e);if(n.sort&&n.sort.by&&n.sort.by.indexOf(s.id)>-1){let t=p.default(c,e,[]);t=m.default(t,n.sort.by),"desc"===n.sort.dir&&(t=t.reverse()),E.default(c,e,t)}}Se(c,i||oe,u,t)},Re=e=>{const t={};return ge.forEach(n=>{if(!e||n.path.startsWith(e+"."))if("fieldset"===n.config.type&&T[n.config.fieldset]){const e=Re(n.path);E.default(t,n.path,T[n.config.fieldset].render({params:Ts(n.config.params||{},T[n.config.fieldset].params),fieldProps:{fields:p.default(e,n.path),onCollectionAction:Te,modifyConfig:Pe,data:r,interfaceState:I,errors:oe,asyncData:ne,isDirty:M,focusedField:se,lastFocusedField:ue,dirtyFields:q,get:p.default},actionProps:{handleActionClick:Ie,handleUndo:we,handleRedo:je,isDisabled:c,isDirty:M,focusedField:se,lastFocusedField:ue,dirtyFields:q,silentlyGetValidationErrors:Oe}}))}else{const e=((e,t,n)=>{if(!a[e.type]&&"subform"!==e.type||"function"==typeof e.isRendered&&!e.isRendered(n,t,V))return null;const o=Object.assign({},e);if(o.id=n,Q[n])o.options=Q[n];else if("function"==typeof o.options)o.options=o.options(n,t,V);else if("object"==typeof o.computedOptions){let t=p.default(r,o.computedOptions.source,[]),i=p.default(V,n);"function"==typeof o.computedOptions.filter&&(t=t.filter(o.computedOptions.filter)),"function"==typeof o.computedOptions.sort&&(t=t.sort(o.computedOptions.sort)),"function"==typeof o.computedOptions.map&&(t=t.map(o.computedOptions.map)),o.computedOptions.initWith&&Array.isArray(o.computedOptions.initWith)&&(t=o.computedOptions.initWith.concat(t)),e.isUnique&&(t=t.map(t=>{if(""===t.value)return t;const o=n.substring(0,n.lastIndexOf("["));let a=p.default(r,o,[]);return g.default(a,{[e.id]:t.value})>-1&&t.value!==i?Object.assign({},t,{disabled:!0}):t})),o.options=t,v.default(t,{value:i})||(o.value="",E.default(V,n,""))}return delete o.computedValue,delete o.computedOptions,delete o.filter,delete o.clearFields,delete o.dynamicOptions,delete o.isRendered,delete o.defaultValue,delete o.cleanUp,delete o.precision,o.placeholder&&Array.isArray(o.placeholder)&&o.placeholder.length>1&&(void 0===Ms[n]&&(Ms[n]=o.placeholder[Math.floor(Math.random()*o.placeholder.length)]),o.placeholder=Ms[n]),R[e.type]&&"function"==typeof R[e.type].renderer&&!e.errorRenderer&&(o.errorRenderer=R[e.type].renderer),Is&&Is[n]&&(o.isValidating=!0),he(e.type)||Object.keys(o).forEach(e=>{"id"!==e&&"function"==typeof o[e]&&e.endsWith("Fn")&&(o[e.substring(0,e.length-2)]=o[e]({path:n,fieldData:t,alldata:V,interfaceState:I}),delete o[e])}),"fieldset"===e.type?null:"subform"!==e.type?/*#__PURE__*/y.default.createElement(a[e.type].component,Object.assign({key:n,value:(i=t,e.cast&&"function"==typeof e.cast.field?e.cast.field(i):e.cast&&"string"==typeof e.cast.field?Rs(i,e.cast.field):e.cast&&Array.isArray(e.cast.field)?Rs(i,e.cast.field[0],!0):i),initialValue:p.default(U,n),error:oe[n],isDirty:!!q[n],isDisabled:c||e.isDisabled,hasFocus:!(!se||se!==n),onChange:e=>Fe(n,e),onFocus:()=>{return ce(e=n),void fe(e);var e},onBlur:()=>(e=>{ce("");const t=Ce(e),n=Object.assign({},V);_s=0,Jr()&&window.stagesLogging('Handle blur for field "'+e+'"',_),t.cleanUp&&"function"==typeof t.cleanUp&&p.default(n,e)&&(E.default(n,e,t.cleanUp(p.default(n,e))),Se(n,oe,u,e)),"number"==typeof t.precision&&(E.default(n,e,Number(p.default(n,e)).toFixed(t.precision)),Se(n,oe,u,e));const r={data:p.default(n,e),fieldIsDirty:!!q[e],fieldConfig:t,fieldHasFocus:!(!se||se!==e)},o=ke("blur",n);if(!t.validateOn&&Array.isArray(h)&&o.some(e=>h.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&o.some(e=>t.validateOn.indexOf(e)>-1)){const t=me(e,De(o),n,oe);ie(Object.assign({},oe,t.errors)),Se(n,t.errors,u,e)}else if(!t.validateOn&&Array.isArray(h)&&h.indexOf("blur")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("blur")>-1||!t.validateOn&&"function"==typeof h&&h(r).indexOf("blur")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(r).indexOf("blur")>-1){const t=me(e,"blur",n,oe);ie(Object.assign({},oe,t.errors)),Se(n,t.errors,u,e)}if(Array.isArray(ge)&&ge.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("blur")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t.id)>-1&&xe(e.config.id,e.config.dynamicOptions,n)}),(e=>{if(C){const t=[...$];t.length=H+1,t.push(w.default({data:e,isDirty:M,dirtyFields:q,errors:oe})),t.length>k&&t.shift(),z(t),G(t.length-1)}})(n),"local"===F||"session"===F){const e=be(!1,n);0===Object.keys(e).length&&Kr(u,{data:n,isDirty:M,dirtyFields:q},F)}else if("object"!=typeof F||"local"!==F.type&&"session"!==F.type){if("object"==typeof F&&"custom"===F.type&&"function"==typeof F.save){const e=be(!1,n);(F.validDataOnly&&0===Object.keys(e).length||!F.validDataOnly)&&F.save(u,{data:n,isDirty:M,dirtyFields:q})}}else{const e=be(!1,n);(F.validDataOnly&&0===Object.keys(e).length||!F.validDataOnly)&&Kr(u,{data:n,isDirty:M,dirtyFields:q},F.type)}})(n)},o)):/*#__PURE__*/y.default.createElement(Ns,{config:e.config,render:t=>{let{fieldProps:n}=t;/*#__PURE__*/return y.default.createElement(e.render,n)},fields:a,id:n,onChange:(e,t)=>Fe(n,e),onValidation:e=>Ee(n,e),parentRunValidation:K,data:V&&p.default(V,n),isVisible:s,isDisabled:c,validateOn:h});var i})(n.config,n.data,n.path);e&&E.default(t,n.path,e)}}),t},Te=(e,t,n,r)=>{const o=Object.assign({},V),i=Ce(e),a=i&&i.min?Number(i.min):0,l=i&&i.max?Number(i.max):99999999999999;let s,c=p.default(o,e,[]);if("last"===n&&(n=c.length-1),"last"===r&&(r=c.length-1),Jr()&&window.stagesLogging('On collection action "'+e+'"',_),"add"===t&&("string"==typeof n&&i.fields[n]?l>c.length&&c.push("function"==typeof i.setInitialData?i.setInitialData(c,o,n):{__typename:n}):l>c.length&&c.push("function"==typeof i.setInitialData?i.setInitialData(c,o):{})),"remove"===t&&a<c.length&&c.splice(n,1),"move"===t&&"number"==typeof n&&"number"==typeof r&&n>-1&&r>-1){const[e]=c.splice(n,1);c.splice(r,0,e)}"sort"===t&&c.length>0&&n&&(c=m.default(c,n)),"duplicate"===t&&"number"==typeof n&&n>-1&&c.splice(n+1,0,Object.assign({},c[n])),i.sort&&i.sort.by&&(c=m.default(c,i.sort.by),"desc"===i.sort.dir&&(c=c.reverse())),E.default(o,e,c),h.indexOf("collectionAction")>-1&&(s=be(),ie(s)),Se(o,s||be(),u,e)},Pe=(e,t,r)=>{if(n.fieldConfigs&&"function"==typeof n.fieldConfigs[t]){const o=e.split(".");let i="";o.forEach(e=>{const t=i?p.default(ye,i):ye;if(e.endsWith("]")){const n=e.split("["),r=g.default(t,{id:n[0]});r>-1&&(i+="["+r+"].fields")}else{const n=g.default(t,{id:e});n>-1&&(i+="["+n+"].fields")}}),""!==i&&(de.push({fields:n.fieldConfigs[t],path:i,action:r}),pe([...de]))}},Ie=(e,t,n)=>{Jr()&&window.stagesLogging("Handle action click",_),n&&("local"!==F&&"session"!==F||Yr(u,F),"object"!=typeof F||"local"!==F.type&&"session"!==F.type||Yr(u,F.type),u&&"object"==typeof F&&"custom"===F.type&&"function"==typeof F.remove&&F.remove(u),Se(U,be(),u),W({}),N(!1));const r=ke("action",V);let o=!1;if(Array.isArray(h)&&h.indexOf("action")>-1||Array.isArray(h)&&r.some(e=>h.indexOf(e)>-1)){t&&(Y(!0),setTimeout(()=>Y(!1),0));let e=t?be(!0):{};ie(e),Object.keys(e).length>0&&(o=!0)}o||e()};return!1===s?null:o?o({actionProps:{handleActionClick:Ie,handleUndo:we,handleRedo:je,isDisabled:!!(Is&&Object.keys(Is).length>0)||c,isDirty:M,focusedField:se,lastFocusedField:ue,dirtyFields:q,silentlyGetValidationErrors:Oe},fieldProps:{fields:Re(),onCollectionAction:Te,modifyConfig:Pe,data:r,interfaceState:I,errors:oe,asyncData:ne,isDirty:M,focusedField:se,lastFocusedField:ue,dirtyFields:q,get:p.default,getConfig:e=>{const t=v.default(ge,{path:e});return t?t.config:void 0}},loading:ae}):i?i(Re()):null};function qs(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}Ns.propTypes={config:Fr.oneOfType([Fr.object,Fr.array,Fr.func]).isRequired,data:Fr.object,render:Fr.oneOfType([Fr.node,Fr.func]),renderFields:Fr.oneOfType([Fr.node,Fr.func]),fields:Fr.object.isRequired,onChange:Fr.func,isVisible:Fr.bool,isDisabled:Fr.bool,id:Fr.oneOfType([Fr.string,Fr.number]),onValidation:Fr.func,parentRunValidation:Fr.bool,validateOn:Fr.array,customRuleHandlers:Fr.object,undoMaxDepth:Fr.number,typeValidations:Fr.object,fieldsets:Fr.object,initialInterfaceState:Fr.object},Ns.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1,validateOn:["action"],customRuleHandlers:{},undoMaxDepth:10,autoSave:!1,typeValidations:{},fieldsets:{},initialInterfaceState:{}};const Ws=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","hasFocus","prefix","suffix","secondaryText","type","errorRenderer"],Us=e=>{let{id:t,label:n,value:r,onChange:o,onBlur:i,onFocus:a,error:l,placeholder:s,isRequired:c,isDisabled:u,isValidating:f,prefix:d,suffix:p,secondaryText:g,type:h,errorRenderer:v}=e;return qs(e,Ws),/*#__PURE__*/y.default.createElement("div",null,n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,d?/*#__PURE__*/y.default.createElement("span",null,d):null,/*#__PURE__*/y.default.createElement("input",{id:t,name:t,value:r||"",placeholder:s,type:h||"text",disabled:!!u,required:!!c,autoComplete:"password"===h?"current-password":"off",onChange:e=>{"function"==typeof o&&o(e.target.value)},onFocus:e=>{"function"==typeof a&&a()},onBlur:e=>{"function"==typeof i&&i()}}),p?/*#__PURE__*/y.default.createElement("span",null,p):null),g?/*#__PURE__*/y.default.createElement("div",null,g):null,l&&!f?v?v(l):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,f?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},Bs=(e,t)=>!t.isRequired||""!==e&&void 0!==e,$s=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","type","errorRenderer"],zs=["id","label","value","options","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],Hs=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],Gs=["id","label","error","isRequired","isValidating","secondaryText","errorRenderer"],Ks={text:{component:Us,isValid:Bs},number:{component:Us,isValid:Bs},email:{component:Us,isValid:Bs},password:{component:Us,isValid:Bs},tel:{component:Us,isValid:Bs},time:{component:Us,isValid:Bs},date:{component:Us,isValid:Bs},checkbox:{component:e=>{let{id:t,label:n,value:r,onChange:o,onBlur:i,onFocus:a,error:l,placeholder:s,isRequired:c,isDisabled:u,isValidating:f,prefix:d,suffix:p,secondaryText:g,type:h,errorRenderer:v}=e;return qs(e,$s),/*#__PURE__*/y.default.createElement("div",null,n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,c?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,d?/*#__PURE__*/y.default.createElement("span",null,d):null,/*#__PURE__*/y.default.createElement("input",{id:t,name:t,value:"1",placeholder:s,type:h,disabled:!!u,required:!!c,checked:!!r,onChange:()=>{},onClick:e=>{"function"==typeof o&&o(!!e.target.checked)},onBlur:e=>{"function"==typeof i&&i()},onFocus:e=>{"function"==typeof a&&a()}}),p?/*#__PURE__*/y.default.createElement("span",null,p):null),g?/*#__PURE__*/y.default.createElement("div",null,g):null,l&&!f?v?v(l):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,f?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:t,label:n,value:r,options:o,onChange:i,onBlur:a,onFocus:l,error:s,placeholder:c,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:g,secondaryText:h,errorRenderer:v}=e;return qs(e,zs),/*#__PURE__*/y.default.createElement("div",null,n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,p?/*#__PURE__*/y.default.createElement("span",null,p):null,/*#__PURE__*/y.default.createElement("select",{id:t,name:t,value:void 0===r?"":r,placeholder:c,disabled:!!f,required:!!u,onChange:e=>{"function"==typeof i&&i(e.target.value)},onBlur:e=>{"function"==typeof a&&a()},onFocus:e=>{"function"==typeof l&&l()}},o.map(e=>/*#__PURE__*/y.default.createElement("option",{value:e.value,key:e.value,disabled:!!e.disabled||null},e.text))),g?/*#__PURE__*/y.default.createElement("span",null,g):null),h?/*#__PURE__*/y.default.createElement("div",null,h):null,s&&!d?v?v(s):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:e=>{let{id:n,label:r,value:o,options:i,onChange:a,onBlur:l,onFocus:s,error:c,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:g,secondaryText:h,errorRenderer:v}=e;return qs(e,Hs),/*#__PURE__*/y.default.createElement("div",{id:n},r?/*#__PURE__*/y.default.createElement("label",null,r,u?" *":""):null,/*#__PURE__*/y.default.createElement("div",null,p?/*#__PURE__*/y.default.createElement("span",null,p):null,i.map(e=>/*#__PURE__*/y.default.createElement(t.Fragment,{key:n+"-"+e.value},/*#__PURE__*/y.default.createElement("input",{type:"radio",name:n,id:n+"-"+e.value,value:e.value,checked:o===e.value,disabled:!!f,onChange:()=>{},onClick:t=>{"function"==typeof a&&a(e.value)},onBlur:e=>{"function"==typeof l&&l()},onFocus:e=>{"function"==typeof s&&s()}}),/*#__PURE__*/y.default.createElement("label",{htmlFor:n+"-"+e.value},e.text)," ")),g?/*#__PURE__*/y.default.createElement("span",null,g):null),h?/*#__PURE__*/y.default.createElement("div",null,h):null,c&&!d?v?v(c):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},dummy:{component:e=>{let{id:t,label:n,error:r,isRequired:o,isValidating:i,secondaryText:a,errorRenderer:l}=e;return qs(e,Gs),n||a||r?/*#__PURE__*/y.default.createElement("div",{id:t},n?/*#__PURE__*/y.default.createElement("label",{htmlFor:t},n,o?" *":""):null,a?/*#__PURE__*/y.default.createElement("div",null,a):null,r&&!i?l?l(r):/*#__PURE__*/y.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,i?/*#__PURE__*/y.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null):null},isValid:()=>!0}};Object.defineProperty(exports,"get",{enumerable:!0,get:function(){return p.default}}),exports.Actions=e=>{let{config:t,handleActionClick:n,isDisabled:r}=e;/*#__PURE__*/return y.default.createElement(y.default.Fragment,null,t.map((e,t)=>/*#__PURE__*/y.default.createElement("button",{type:"button",onClick:()=>n(e.onClick,e.validate),key:"action-"+t,disabled:r},"primary"===e.type?/*#__PURE__*/y.default.createElement("strong",null,e.title):e.title)))},exports.Debugger=()=>{const[e,n]=t.useState({}),[r,o]=t.useState({}),[i,a]=t.useState({}),[l,s]=t.useState({}),[c,u]=t.useState(!1),f=(t,i)=>{if("string"==typeof t)r[i]||(r[i]=[]),r[i].push({action:t,time:+new Date}),o(r);else{const r=Object.assign(e,{}),o=Object.keys(r)[0];r[t.id]=t,n(Object.assign({},r)),a(e=>({key:e.key?e.key:o,tab:e.tab?e.tab:"data"}))}};return t.useEffect(()=>{"undefined"!=typeof window&&(window.stagesLogging=f)},[]),0===Object.keys(e).length?null:/*#__PURE__*/y.default.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",width:"320px",padding:"8px",fontSize:"14px",color:"#333",border:"1px #bbb solid",borderRadius:"4px",background:"#fbfbfb",fontFamily:"Open Sans, Helvetica, Arial, sans",zIndex:1e3}},/*#__PURE__*/y.default.createElement("strong",{style:{lineHeight:"22px"}},"Debugger:"),/*#__PURE__*/y.default.createElement("button",{type:"button",style:{float:"right"},onClick:()=>u(!c)},c?"hide":"show"),c?Object.keys(e).map(t=>{const n=t.split("-");n.pop();let o="";return o="logs"===i.tab?r[i.key]?r[i.key].map(e=>e.time+": "+e.action).join("\n"):"":h.default(l[t]?p.default(e[i.key][i.tab],l[t]||""):e[i.key][i.tab],null,2),/*#__PURE__*/y.default.createElement("div",{key:t+"-"+i.tab},/*#__PURE__*/y.default.createElement("h3",{style:{background:"#333",color:"#fff",margin:"8px 0 0 0",padding:"2px 6px",textTransform:"capitalize",position:"relative"}},n.join(" "),":",e[t].isDirty?/*#__PURE__*/y.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"4px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"dirty"):null,Object.keys(e[t].errors).length?/*#__PURE__*/y.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"48px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"errors"):null,e[t].loading?/*#__PURE__*/y.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"98px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"loading"):null),/*#__PURE__*/y.default.createElement("div",null,/*#__PURE__*/y.default.createElement("select",{onChange:e=>a({key:t,tab:e.target.value}),value:i.key===t?i.tab:"data",style:{width:"47%",minWidth:"47%",maxWidth:"47%",marginRight:"2%",height:"25px"}},e[t].keys?/*#__PURE__*/y.default.createElement(y.default.Fragment,null,/*#__PURE__*/y.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/y.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/y.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/y.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/y.default.createElement("option",{value:"keys"},"Keys"),/*#__PURE__*/y.default.createElement("option",{value:"logs"},"Logs")):/*#__PURE__*/y.default.createElement(y.default.Fragment,null,/*#__PURE__*/y.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/y.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/y.default.createElement("option",{value:"parsedFieldConfig"},"Field Config"),/*#__PURE__*/y.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/y.default.createElement("option",{value:"interfaceState"},"Interface State"),/*#__PURE__*/y.default.createElement("option",{value:"undoData"},"Undo Data"),/*#__PURE__*/y.default.createElement("option",{value:"asyncData"},"Async Data"),/*#__PURE__*/y.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/y.default.createElement("option",{value:"fieldPaths"},"Field Paths"),/*#__PURE__*/y.default.createElement("option",{value:"logs"},"Logs"))),/*#__PURE__*/y.default.createElement("input",{value:l[t]||"",placeholder:"your.data.filter.path",onChange:e=>{const n=Object.assign({},l);n[t]=e.target.value,s(n)},style:{width:"47%",minWidth:"47%",maxWidth:"47%",fontSize:"12px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"4px",padding:"4px",overflowX:"scroll",whiteSpace:"pre"}})),i&&i.key===t?/*#__PURE__*/y.default.createElement("textarea",{readOnly:!0,style:{width:"calc(100% - 8px)",minWidth:"calc(100% - 8px)",maxWidth:"calc(100% - 8px)",height:"200px",fontSize:"10px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"8px",overflowX:"scroll",whiteSpace:"pre"},value:o}):null)}):null)},exports.Form=Ns,exports.HashRouter=e=>{let{step:n,onChange:r,keys:o,prefix:i,hashFormat:a="#!"}=e;const[l,s]=(()=>{const[e,n]=t.useState(()=>window.location.hash),r=t.useCallback(()=>{n(window.location.hash)},[]);var o,i;o=()=>{!function(e){e&&e.addEventListener&&e.addEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},i=()=>{!function(e){e&&e.removeEventListener&&e.removeEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},t.useEffect(()=>(o&&o(),()=>{i&&i()}),[]);const a=t.useCallback(t=>{t!==e&&(window.location.hash=t)},[e]);return[e,a]})(),[c,u]=t.useState(!1),f=e=>o&&o[e]?o[e].key:i?i+"-"+e:e,d=()=>{if("string"==typeof l&&-1!==l.indexOf(a)){const e=(e=>{const t=e.split(a);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):g.default(o,{key:e})}return-1})(l);-1!==e&&("function"==typeof s&&s(""+a+f(e)),r(e))}else"function"==typeof s&&s(""+a+f(n))};return t.useEffect(()=>{c&&d()},[l]),t.useEffect(()=>{c&&"function"==typeof s&&s(""+a+f(n))},[n]),p=()=>{d(),u(!0)},t.useEffect(()=>{p()},[]),null;var p},exports.Navigation=e=>{let{currentStep:t,onChangeStep:n,lastValidStep:r,keys:o}=e;const i=[];for(let e=0;e<o.length;e++)if(o&&o[e]&&o[e].visible){const a=o&&o[e]?o[e].key:"Step "+(e+1);i.push(t===e?/*#__PURE__*/y.default.createElement("li",{key:a,style:{textTransform:"capitalize"}},/*#__PURE__*/y.default.createElement("strong",null,a)):/*#__PURE__*/y.default.createElement("li",r>-1&&r+1<e||-1===r&&e>0?{key:a,style:{color:"#999",textTransform:"capitalize"}}:{key:a,style:{textTransform:"capitalize"},onClick:()=>n(e)},a))}/*#__PURE__*/return y.default.createElement("ul",null,i)},exports.Progression=e=>{let{stepCount:t,validSteps:n,percentage:r}=e;/*#__PURE__*/return y.default.createElement("div",null,n+" / "+t+" ("+Math.round(r)+"%)")},exports.Stages=Xr,exports.plainFields=Ks;
//# sourceMappingURL=lib.js.map

var e=require("react"),t=require("json-beautify"),n=require("fast-json-stable-stringify");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/r(e),i=/*#__PURE__*/r(t),a=/*#__PURE__*/r(n),c=Array.isArray,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){var t={exports:{}};return e(t,t.exports),t.exports}var u="object"==typeof l&&l&&l.Object===Object&&l,f="object"==typeof self&&self&&self.Object===Object&&self,d=u||f||Function("return this")(),p=d.Symbol,y=Object.prototype,g=y.hasOwnProperty,h=y.toString,v=p?p.toStringTag:void 0,b=Object.prototype.toString,m=p?p.toStringTag:void 0,O=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":m&&m in Object(e)?function(e){var t=g.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var o=h.call(e);return r&&(t?e[v]=n:delete e[v]),o}(e):function(e){return b.call(e)}(e)},j=function(e){return null!=e&&"object"==typeof e},w=function(e){return"symbol"==typeof e||j(e)&&"[object Symbol]"==O(e)},E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,x=function(e,t){if(c(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!w(e))||S.test(e)||!E.test(e)||null!=t&&e in Object(t)},A=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},_=function(e){if(!A(e))return!1;var t=O(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},C=d["__core-js_shared__"],k=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),D=Function.prototype.toString,F=function(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""},R=/^\[object .+?Constructor\]$/,T=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!A(e)||(t=e,k&&k in t))&&(_(e)?T:R).test(F(e));var t}(n)?n:void 0},I=P(Object,"create"),V=Object.prototype.hasOwnProperty,L=Object.prototype.hasOwnProperty;function N(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}N.prototype.clear=function(){this.__data__=I?I(null):{},this.size=0},N.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},N.prototype.get=function(e){var t=this.__data__;if(I){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return V.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:L.call(t,e)},N.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=I&&void 0===t?"__lodash_hash_undefined__":t,this};var z=N,M=function(e,t){return e===t||e!=e&&t!=t},W=function(e,t){for(var n=e.length;n--;)if(M(e[n][0],t))return n;return-1},U=Array.prototype.splice;function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(e){var t=this.__data__,n=W(t,e);return!(n<0||(n==t.length-1?t.pop():U.call(t,n,1),--this.size,0))},q.prototype.get=function(e){var t=this.__data__,n=W(t,e);return n<0?void 0:t[n][1]},q.prototype.has=function(e){return W(this.__data__,e)>-1},q.prototype.set=function(e,t){var n=this.__data__,r=W(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var $=q,B=P(d,"Map"),H=function(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}G.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(B||$),string:new z}},G.prototype.delete=function(e){var t=H(this,e).delete(e);return this.size-=t?1:0,t},G.prototype.get=function(e){return H(this,e).get(e)},G.prototype.has=function(e){return H(this,e).has(e)},G.prototype.set=function(e,t){var n=H(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var J=G;function K(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(K.Cache||J),n}K.Cache=J;var Y,X,Q,Z,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/\\(\\)?/g,ne=(Y=K(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(te,"$1"):n||e)}),t},function(e){return 500===X.size&&X.clear(),e}),X=Y.cache,Y),re=ne,oe=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ie=p?p.prototype:void 0,ae=ie?ie.toString:void 0,ce=function e(t){if("string"==typeof t)return t;if(c(t))return oe(t,e)+"";if(w(t))return ae?ae.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},le=function(e){return null==e?"":ce(e)},se=function(e,t){return c(e)?e:x(e,t)?[e]:re(le(e))},ue=function(e){if("string"==typeof e||w(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},fe=function(e,t){for(var n=0,r=(t=se(t,e)).length;null!=e&&n<r;)e=e[ue(t[n++])];return n&&n==r?e:void 0},de=function(e,t,n){var r=null==e?void 0:fe(e,t);return void 0===r?n:r},pe=function(e){return e&&e.Math===Math&&e},ye=pe("object"==typeof globalThis&&globalThis)||pe("object"==typeof window&&window)||pe("object"==typeof self&&self)||pe("object"==typeof l&&l)||pe("object"==typeof l&&l)||function(){return this}()||Function("return this")(),ge=function(e){try{return!!e()}catch(e){return!0}},he=!ge(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),ve=!ge(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),be=Function.prototype.call,me=ve?be.bind(be):function(){return be.apply(be,arguments)},Oe={}.propertyIsEnumerable,je=Object.getOwnPropertyDescriptor,we=je&&!Oe.call({1:2},1)?function(e){var t=je(this,e);return!!t&&t.enumerable}:Oe,Ee={f:we},Se=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},xe=Function.prototype,Ae=xe.call,_e=ve&&xe.bind.bind(Ae,Ae),Ce=ve?_e:function(e){return function(){return Ae.apply(e,arguments)}},ke=Ce({}.toString),De=Ce("".slice),Fe=function(e){return De(ke(e),8,-1)},Re=Object,Te=Ce("".split),Pe=ge(function(){return!Re("z").propertyIsEnumerable(0)})?function(e){return"String"===Fe(e)?Te(e,""):Re(e)}:Re,Ie=function(e){return null==e},Ve=TypeError,Le=function(e){if(Ie(e))throw new Ve("Can't call method on "+e);return e},Ne=function(e){return Pe(Le(e))},ze="object"==typeof document&&document.all,Me=void 0===ze&&void 0!==ze?function(e){return"function"==typeof e||e===ze}:function(e){return"function"==typeof e},We=function(e){return"object"==typeof e?null!==e:Me(e)},Ue=function(e,t){return arguments.length<2?Me(n=ye[e])?n:void 0:ye[e]&&ye[e][t];var n},qe=Ce({}.isPrototypeOf),$e="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Be=ye.process,He=ye.Deno,Ge=Be&&Be.versions||He&&He.version,Je=Ge&&Ge.v8;Je&&(Z=(Q=Je.split("."))[0]>0&&Q[0]<4?1:+(Q[0]+Q[1])),!Z&&$e&&(!(Q=$e.match(/Edge\/(\d+)/))||Q[1]>=74)&&(Q=$e.match(/Chrome\/(\d+)/))&&(Z=+Q[1]);var Ke=Z,Ye=ye.String,Xe=!!Object.getOwnPropertySymbols&&!ge(function(){var e=Symbol("symbol detection");return!Ye(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ke&&Ke<41}),Qe=Xe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ze=Object,et=Qe?function(e){return"symbol"==typeof e}:function(e){var t=Ue("Symbol");return Me(t)&&qe(t.prototype,Ze(e))},tt=String,nt=function(e){try{return tt(e)}catch(e){return"Object"}},rt=TypeError,ot=function(e){if(Me(e))return e;throw new rt(nt(e)+" is not a function")},it=function(e,t){var n=e[t];return Ie(n)?void 0:ot(n)},at=TypeError,ct=Object.defineProperty,lt=function(e,t){try{ct(ye,e,{value:t,configurable:!0,writable:!0})}catch(n){ye[e]=t}return t},st="__core-js_shared__",ut=ye[st]||lt(st,{}),ft=s(function(e){(e.exports=function(e,t){return ut[e]||(ut[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),dt=Object,pt=function(e){return dt(Le(e))},yt=Ce({}.hasOwnProperty),gt=Object.hasOwn||function(e,t){return yt(pt(e),t)},ht=0,vt=Math.random(),bt=Ce(1..toString),mt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+bt(++ht+vt,36)},Ot=ye.Symbol,jt=ft("wks"),wt=Qe?Ot.for||Ot:Ot&&Ot.withoutSetter||mt,Et=function(e){return gt(jt,e)||(jt[e]=Xe&&gt(Ot,e)?Ot[e]:wt("Symbol."+e)),jt[e]},St=TypeError,xt=Et("toPrimitive"),At=function(e){var t=function(e,t){if(!We(e)||et(e))return e;var n,r=it(e,xt);if(r){if(void 0===t&&(t="default"),n=me(r,e,t),!We(n)||et(n))return n;throw new St("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&Me(n=e.toString)&&!We(r=me(n,e)))return r;if(Me(n=e.valueOf)&&!We(r=me(n,e)))return r;if("string"!==t&&Me(n=e.toString)&&!We(r=me(n,e)))return r;throw new at("Can't convert object to primitive value")}(e,t)}(e,"string");return et(t)?t:t+""},_t=ye.document,Ct=We(_t)&&We(_t.createElement),kt=function(e){return Ct?_t.createElement(e):{}},Dt=!he&&!ge(function(){return 7!==Object.defineProperty(kt("div"),"a",{get:function(){return 7}}).a}),Ft=Object.getOwnPropertyDescriptor,Rt={f:he?Ft:function(e,t){if(e=Ne(e),t=At(t),Dt)try{return Ft(e,t)}catch(e){}if(gt(e,t))return Se(!me(Ee.f,e,t),e[t])}},Tt=he&&ge(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Pt=String,It=TypeError,Vt=function(e){if(We(e))return e;throw new It(Pt(e)+" is not an object")},Lt=TypeError,Nt=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,Mt="enumerable",Wt="configurable",Ut="writable",qt={f:he?Tt?function(e,t,n){if(Vt(e),t=At(t),Vt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Ut in n&&!n[Ut]){var r=zt(e,t);r&&r[Ut]&&(e[t]=n.value,n={configurable:Wt in n?n[Wt]:r[Wt],enumerable:Mt in n?n[Mt]:r[Mt],writable:!1})}return Nt(e,t,n)}:Nt:function(e,t,n){if(Vt(e),t=At(t),Vt(n),Dt)try{return Nt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new Lt("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},$t=he?function(e,t,n){return qt.f(e,t,Se(1,n))}:function(e,t,n){return e[t]=n,e},Bt=Function.prototype,Ht=he&&Object.getOwnPropertyDescriptor,Gt=gt(Bt,"name"),Jt={EXISTS:Gt,PROPER:Gt&&"something"===function(){}.name,CONFIGURABLE:Gt&&(!he||he&&Ht(Bt,"name").configurable)},Kt=Ce(Function.toString);Me(ut.inspectSource)||(ut.inspectSource=function(e){return Kt(e)});var Yt,Xt,Qt,Zt=ut.inspectSource,en=ye.WeakMap,tn=Me(en)&&/native code/.test(String(en)),nn=ft("keys"),rn=function(e){return nn[e]||(nn[e]=mt(e))},on={},an="Object already initialized",cn=ye.TypeError;if(tn||ut.state){var ln=ut.state||(ut.state=new(0,ye.WeakMap));ln.get=ln.get,ln.has=ln.has,ln.set=ln.set,Yt=function(e,t){if(ln.has(e))throw new cn(an);return t.facade=e,ln.set(e,t),t},Xt=function(e){return ln.get(e)||{}},Qt=function(e){return ln.has(e)}}else{var sn=rn("state");on[sn]=!0,Yt=function(e,t){if(gt(e,sn))throw new cn(an);return t.facade=e,$t(e,sn,t),t},Xt=function(e){return gt(e,sn)?e[sn]:{}},Qt=function(e){return gt(e,sn)}}var un={set:Yt,get:Xt,has:Qt,enforce:function(e){return Qt(e)?Xt(e):Yt(e,{})},getterFor:function(e){return function(t){var n;if(!We(t)||(n=Xt(t)).type!==e)throw new cn("Incompatible receiver, "+e+" required");return n}}},fn=s(function(e){var t=Jt.CONFIGURABLE,n=un.enforce,r=un.get,o=String,i=Object.defineProperty,a=Ce("".slice),c=Ce("".replace),l=Ce([].join),s=he&&!ge(function(){return 8!==i(function(){},"length",{value:8}).length}),u=String(String).split("String"),f=e.exports=function(e,r,f){"Symbol("===a(o(r),0,7)&&(r="["+c(o(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),f&&f.getter&&(r="get "+r),f&&f.setter&&(r="set "+r),(!gt(e,"name")||t&&e.name!==r)&&(he?i(e,"name",{value:r,configurable:!0}):e.name=r),s&&f&&gt(f,"arity")&&e.length!==f.arity&&i(e,"length",{value:f.arity});try{f&&gt(f,"constructor")&&f.constructor?he&&i(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var d=n(e);return gt(d,"source")||(d.source=l(u,"string"==typeof r?r:"")),e};Function.prototype.toString=f(function(){return Me(this)&&r(this).source||Zt(this)},"toString")}),dn=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(Me(n)&&fn(n,i,r),r.global)o?e[t]=n:lt(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:qt.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},pn=Math.ceil,yn=Math.floor,gn=Math.trunc||function(e){var t=+e;return(t>0?yn:pn)(t)},hn=function(e){var t=+e;return t!=t||0===t?0:gn(t)},vn=Math.max,bn=Math.min,mn=Math.min,On=function(e){var t=hn(e);return t>0?mn(t,9007199254740991):0},jn=function(e){return On(e.length)},wn=function(e){return function(t,n,r){var o,i=Ne(t),a=jn(i),c=function(e,t){var n=hn(e);return n<0?vn(n+t,0):bn(n,t)}(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},En=(wn(!0),wn(!1)),Sn=Ce([].push),xn=function(e,t){var n,r=Ne(e),o=0,i=[];for(n in r)!gt(on,n)&&gt(r,n)&&Sn(i,n);for(;t.length>o;)gt(r,n=t[o++])&&(~En(i,n)||Sn(i,n));return i},An=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_n=An.concat("length","prototype"),Cn={f:Object.getOwnPropertyNames||function(e){return xn(e,_n)}},kn={f:Object.getOwnPropertySymbols},Dn=Ce([].concat),Fn=Ue("Reflect","ownKeys")||function(e){var t=Cn.f(Vt(e)),n=kn.f;return n?Dn(t,n(e)):t},Rn=function(e,t,n){for(var r=Fn(t),o=qt.f,i=Rt.f,a=0;a<r.length;a++){var c=r[a];gt(e,c)||n&&gt(n,c)||o(e,c,i(t,c))}},Tn=/#|\.prototype\./,Pn=function(e,t){var n=Vn[In(e)];return n===Nn||n!==Ln&&(Me(t)?ge(t):!!t)},In=Pn.normalize=function(e){return String(e).replace(Tn,".").toLowerCase()},Vn=Pn.data={},Ln=Pn.NATIVE="N",Nn=Pn.POLYFILL="P",zn=Pn,Mn=Rt.f,Wn=function(e,t){var n,r,o,i,a,c=e.target,l=e.global,s=e.stat;if(n=l?ye:s?ye[c]||lt(c,{}):ye[c]&&ye[c].prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(a=Mn(n,r))&&a.value:n[r],!zn(l?r:c+(s?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Rn(i,o)}(e.sham||o&&o.sham)&&$t(i,"sham",!0),dn(n,r,i,e)}},Un=Object.keys||function(e){return xn(e,An)},qn=Object.assign,$n=Object.defineProperty,Bn=Ce([].concat),Hn=!qn||ge(function(){if(he&&1!==qn({b:1},qn($n({},"a",{enumerable:!0,get:function(){$n(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==qn({},e)[n]||Un(qn({},t)).join("")!==r})?function(e,t){for(var n=pt(e),r=arguments.length,o=1,i=kn.f,a=Ee.f;r>o;)for(var c,l=Pe(arguments[o++]),s=i?Bn(Un(l),i(l)):Un(l),u=s.length,f=0;u>f;)c=s[f++],he&&!me(a,l,c)||(n[c]=l[c]);return n}:qn;Wn({target:"Object",stat:!0,arity:2,forced:Object.assign!==Hn},{assign:Hn});var Gn,Jn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Kn=kt("span").classList,Yn=Kn&&Kn.constructor&&Kn.constructor.prototype,Xn=Yn===Object.prototype?void 0:Yn,Qn=he&&!Tt?Object.defineProperties:function(e,t){Vt(e);for(var n,r=Ne(t),o=Un(t),i=o.length,a=0;i>a;)qt.f(e,n=o[a++],r[n]);return e},Zn={f:Qn},er=Ue("document","documentElement"),tr="prototype",nr="script",rr=rn("IE_PROTO"),or=function(){},ir=function(e){return"<"+nr+">"+e+"</"+nr+">"},ar=function(e){e.write(ir("")),e.close();var t=e.parentWindow.Object;return e=null,t},cr=function(){try{Gn=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;cr="undefined"!=typeof document?document.domain&&Gn?ar(Gn):(t=kt("iframe"),n="java"+nr+":",t.style.display="none",er.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(ir("document.F=Object")),e.close(),e.F):ar(Gn);for(var r=An.length;r--;)delete cr[tr][An[r]];return cr()};on[rr]=!0;var lr=Object.create||function(e,t){var n;return null!==e?(or[tr]=Vt(e),n=new or,or[tr]=null,n[rr]=e):n=cr(),void 0===t?n:Zn.f(n,t)},sr=qt.f,ur=Et("unscopables"),fr=Array.prototype;void 0===fr[ur]&&sr(fr,ur,{configurable:!0,value:lr(null)});var dr,pr,yr,gr=function(e){fr[ur][e]=!0},hr={},vr=!ge(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),br=rn("IE_PROTO"),mr=Object,Or=mr.prototype,jr=vr?mr.getPrototypeOf:function(e){var t=pt(e);if(gt(t,br))return t[br];var n=t.constructor;return Me(n)&&t instanceof n?n.prototype:t instanceof mr?Or:null},wr=Et("iterator"),Er=!1;[].keys&&("next"in(yr=[].keys())?(pr=jr(jr(yr)))!==Object.prototype&&(dr=pr):Er=!0);var Sr=!We(dr)||ge(function(){var e={};return dr[wr].call(e)!==e});Sr&&(dr={}),Me(dr[wr])||dn(dr,wr,function(){return this});var xr={IteratorPrototype:dr,BUGGY_SAFARI_ITERATORS:Er},Ar=qt.f,_r=Et("toStringTag"),Cr=function(e,t,n){e&&!n&&(e=e.prototype),e&&!gt(e,_r)&&Ar(e,_r,{configurable:!0,value:t})},kr=xr.IteratorPrototype,Dr=function(){return this},Fr=String,Rr=TypeError,Tr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=function(e,t,n){try{return Ce(ot(Object.getOwnPropertyDescriptor(e,"__proto__").set))}catch(e){}}(Object.prototype))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Vt(n),function(e){if(function(e){return We(e)||null===e}(e))return e;throw new Rr("Can't set "+Fr(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Pr=Jt.PROPER,Ir=Jt.CONFIGURABLE,Vr=xr.IteratorPrototype,Lr=xr.BUGGY_SAFARI_ITERATORS,Nr=Et("iterator"),zr="keys",Mr="values",Wr="entries",Ur=function(){return this},qr=function(e,t){return{value:e,done:t}},$r=qt.f,Br="Array Iterator",Hr=un.set,Gr=un.getterFor(Br),Jr=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+" Iterator";e.prototype=lr(kr,{next:Se(1,function(){var e=Gr(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,qr(void 0,!0);switch(e.kind){case"keys":return qr(n,!1);case"values":return qr(t[n],!1)}return qr([n,t[n]],!1)})}),Cr(e,o,!1),hr[o]=Dr}(n,t);var c,l,s,u=function(e){if(e===o&&g)return g;if(!Lr&&e&&e in p)return p[e];switch(e){case zr:case Mr:case Wr:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,y=p[Nr]||p["@@iterator"]||o&&p[o],g=!Lr&&y||u(o),h=p.entries||y;if(h&&(c=jr(h.call(new e)))!==Object.prototype&&c.next&&(jr(c)!==Vr&&(Tr?Tr(c,Vr):Me(c[Nr])||dn(c,Nr,Ur)),Cr(c,f,!0)),Pr&&y&&y.name!==Mr&&(Ir?$t(p,"name",Mr):(d=!0,g=function(){return me(y,this)})),o)if(void(l={values:u(Mr),keys:u(zr),entries:u(Wr)}))for(s in l)(Lr||d||!(s in p))&&dn(p,s,l[s]);else Wn({target:t,proto:!0,forced:Lr||d},l);return p[Nr]!==g&&dn(p,Nr,g,{name:o}),hr[t]=g,l}(Array,"Array",function(e,t){Hr(this,{type:Br,target:Ne(e),index:0,kind:t})},0,"values"),Kr=hr.Arguments=hr.Array;if(gr("keys"),gr("values"),gr("entries"),he&&"values"!==Kr.name)try{$r(Kr,"name",{value:"values"})}catch(e){}var Yr=Et("iterator"),Xr=Jr.values,Qr=function(e,t){if(e){if(e[Yr]!==Xr)try{$t(e,Yr,Xr)}catch(t){e[Yr]=Xr}if(Cr(e,t,!0),Jn[t])for(var n in Jr)if(e[n]!==Jr[n])try{$t(e,n,Jr[n])}catch(t){e[n]=Jr[n]}}};for(var Zr in Jn)Qr(ye[Zr]&&ye[Zr].prototype,Zr);Qr(Xn,"DOMTokenList");var eo="function"==typeof Symbol&&Symbol.for,to=eo?Symbol.for("react.element"):60103,no=eo?Symbol.for("react.portal"):60106,ro=eo?Symbol.for("react.fragment"):60107,oo=eo?Symbol.for("react.strict_mode"):60108,io=eo?Symbol.for("react.profiler"):60114,ao=eo?Symbol.for("react.provider"):60109,co=eo?Symbol.for("react.context"):60110,lo=eo?Symbol.for("react.async_mode"):60111,so=eo?Symbol.for("react.concurrent_mode"):60111,uo=eo?Symbol.for("react.forward_ref"):60112,fo=eo?Symbol.for("react.suspense"):60113,po=eo?Symbol.for("react.suspense_list"):60120,yo=eo?Symbol.for("react.memo"):60115,go=eo?Symbol.for("react.lazy"):60116,ho=eo?Symbol.for("react.block"):60121,vo=eo?Symbol.for("react.fundamental"):60117,bo=eo?Symbol.for("react.responder"):60118,mo=eo?Symbol.for("react.scope"):60119;function Oo(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case to:switch(e=e.type){case lo:case so:case ro:case io:case oo:case fo:return e;default:switch(e=e&&e.$$typeof){case co:case uo:case go:case yo:case ao:return e;default:return t}}case no:return t}}}function jo(e){return Oo(e)===so}var wo={AsyncMode:lo,ConcurrentMode:so,ContextConsumer:co,ContextProvider:ao,Element:to,ForwardRef:uo,Fragment:ro,Lazy:go,Memo:yo,Portal:no,Profiler:io,StrictMode:oo,Suspense:fo,isAsyncMode:function(e){return jo(e)||Oo(e)===lo},isConcurrentMode:jo,isContextConsumer:function(e){return Oo(e)===co},isContextProvider:function(e){return Oo(e)===ao},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===to},isForwardRef:function(e){return Oo(e)===uo},isFragment:function(e){return Oo(e)===ro},isLazy:function(e){return Oo(e)===go},isMemo:function(e){return Oo(e)===yo},isPortal:function(e){return Oo(e)===no},isProfiler:function(e){return Oo(e)===io},isStrictMode:function(e){return Oo(e)===oo},isSuspense:function(e){return Oo(e)===fo},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===ro||e===so||e===io||e===oo||e===fo||e===po||"object"==typeof e&&null!==e&&(e.$$typeof===go||e.$$typeof===yo||e.$$typeof===ao||e.$$typeof===co||e.$$typeof===uo||e.$$typeof===vo||e.$$typeof===bo||e.$$typeof===mo||e.$$typeof===ho)},typeOf:Oo};function Eo(){}function So(){}s(function(e,t){}),s(function(e){e.exports=wo}),So.resetWarningCache=Eo;var xo=s(function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:So,resetWarningCache:Eo};return n.PropTypes=n,n}()}),Ao=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};function _o(e){var t=this.__data__=new $(e);this.size=t.size}_o.prototype.clear=function(){this.__data__=new $,this.size=0},_o.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_o.prototype.get=function(e){return this.__data__.get(e)},_o.prototype.has=function(e){return this.__data__.has(e)},_o.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $){var r=n.__data__;if(!B||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};var Co=_o;function ko(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new J;++t<n;)this.add(e[t])}ko.prototype.add=ko.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ko.prototype.has=function(e){return this.__data__.has(e)};var Do=ko,Fo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ro=function(e,t){return e.has(t)},To=function(e,t,n,r,o,i){var a=1&n,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var s=i.get(e),u=i.get(t);if(s&&u)return s==t&&u==e;var f=-1,d=!0,p=2&n?new Do:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var y=e[f],g=t[f];if(r)var h=a?r(g,y,f,t,e,i):r(y,g,f,e,t,i);if(void 0!==h){if(h)continue;d=!1;break}if(p){if(!Fo(t,function(e,t){if(!Ro(p,t)&&(y===e||o(y,e,n,r,i)))return p.push(t)})){d=!1;break}}else if(y!==g&&!o(y,g,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},Po=d.Uint8Array,Io=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Vo=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Lo=p?p.prototype:void 0,No=Lo?Lo.valueOf:void 0,zo=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Mo=Object.prototype.propertyIsEnumerable,Wo=Object.getOwnPropertySymbols,Uo=Wo?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,o=null==t?0:t.length,i=0,a=[];++r<o;){var c=t[r];Mo.call(e,c)&&(a[i++]=c)}return a}(Wo(e)))}:function(){return[]},qo=function(e){return j(e)&&"[object Arguments]"==O(e)},$o=Object.prototype,Bo=$o.hasOwnProperty,Ho=$o.propertyIsEnumerable,Go=qo(function(){return arguments}())?qo:function(e){return j(e)&&Bo.call(e,"callee")&&!Ho.call(e,"callee")},Jo=function(){return!1},Ko=s(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?d.Buffer:void 0;e.exports=(o?o.isBuffer:void 0)||Jo}),Yo=/^(?:0|[1-9]\d*)$/,Xo=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Yo.test(e))&&e>-1&&e%1==0&&e<t},Qo=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Zo={};Zo["[object Float32Array]"]=Zo["[object Float64Array]"]=Zo["[object Int8Array]"]=Zo["[object Int16Array]"]=Zo["[object Int32Array]"]=Zo["[object Uint8Array]"]=Zo["[object Uint8ClampedArray]"]=Zo["[object Uint16Array]"]=Zo["[object Uint32Array]"]=!0,Zo["[object Arguments]"]=Zo["[object Array]"]=Zo["[object ArrayBuffer]"]=Zo["[object Boolean]"]=Zo["[object DataView]"]=Zo["[object Date]"]=Zo["[object Error]"]=Zo["[object Function]"]=Zo["[object Map]"]=Zo["[object Number]"]=Zo["[object Object]"]=Zo["[object RegExp]"]=Zo["[object Set]"]=Zo["[object String]"]=Zo["[object WeakMap]"]=!1;var ei=function(e){return function(t){return e(t)}},ti=s(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&u.process,i=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),ni=ti&&ti.isTypedArray,ri=ni?ei(ni):function(e){return j(e)&&Qo(e.length)&&!!Zo[O(e)]},oi=Object.prototype.hasOwnProperty,ii=function(e,t){var n=c(e),r=!n&&Go(e),o=!n&&!r&&Ko(e),i=!n&&!r&&!o&&ri(e),a=n||r||o||i,l=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=l.length;for(var u in e)!t&&!oi.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Xo(u,s))||l.push(u);return l},ai=Object.prototype,ci=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ai)},li=function(e,t){return function(n){return e(t(n))}},si=li(Object.keys,Object),ui=Object.prototype.hasOwnProperty,fi=function(e){return null!=e&&Qo(e.length)&&!_(e)},di=function(e){return fi(e)?ii(e):function(e){if(!ci(e))return si(e);var t=[];for(var n in Object(e))ui.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},pi=function(e){return function(e,t,n){var r=di(e);return c(e)?r:zo(r,n(e))}(e,0,Uo)},yi=Object.prototype.hasOwnProperty,gi=P(d,"DataView"),hi=P(d,"Promise"),vi=P(d,"Set"),bi=P(d,"WeakMap"),mi="[object Map]",Oi="[object Promise]",ji="[object Set]",wi="[object WeakMap]",Ei="[object DataView]",Si=F(gi),xi=F(B),Ai=F(hi),_i=F(vi),Ci=F(bi),ki=O;(gi&&ki(new gi(new ArrayBuffer(1)))!=Ei||B&&ki(new B)!=mi||hi&&ki(hi.resolve())!=Oi||vi&&ki(new vi)!=ji||bi&&ki(new bi)!=wi)&&(ki=function(e){var t=O(e),n="[object Object]"==t?e.constructor:void 0,r=n?F(n):"";if(r)switch(r){case Si:return Ei;case xi:return mi;case Ai:return Oi;case _i:return ji;case Ci:return wi}return t});var Di=ki,Fi="[object Arguments]",Ri="[object Array]",Ti="[object Object]",Pi=Object.prototype.hasOwnProperty,Ii=function e(t,n,r,o,i){return t===n||(null==t||null==n||!j(t)&&!j(n)?t!=t&&n!=n:function(e,t,n,r,o,i){var a=c(e),l=c(t),s=a?Ri:Di(e),u=l?Ri:Di(t),f=(s=s==Fi?Ti:s)==Ti,d=(u=u==Fi?Ti:u)==Ti,p=s==u;if(p&&Ko(e)){if(!Ko(t))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new Co),a||ri(e)?To(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Po(e),new Po(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return M(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Io;case"[object Set]":if(c||(c=Vo),e.size!=t.size&&!(1&r))return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var s=To(c(e),c(t),r,o,i,a);return a.delete(e),s;case"[object Symbol]":if(No)return No.call(e)==No.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){var y=f&&Pi.call(e,"__wrapped__"),g=d&&Pi.call(t,"__wrapped__");if(y||g){var h=y?e.value():e,v=g?t.value():t;return i||(i=new Co),o(h,v,n,r,i)}}return!!p&&(i||(i=new Co),function(e,t,n,r,o,i){var a=1&n,c=pi(e),l=c.length;if(l!=pi(t).length&&!a)return!1;for(var s=l;s--;){var u=c[s];if(!(a?u in t:yi.call(t,u)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);for(var y=a;++s<l;){var g=e[u=c[s]],h=t[u];if(r)var v=a?r(h,g,u,t,e,i):r(g,h,u,e,t,i);if(!(void 0===v?g===h||o(g,h,n,r,i):v)){p=!1;break}y||(y="constructor"==u)}if(p&&!y){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}(t,n,r,o,e,i))},Vi=function(e){return e==e&&!A(e)},Li=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Ni=function(e,t){return null!=e&&t in Object(e)},zi=function(e){return e},Mi=function(e){return"function"==typeof e?e:null==e?zi:"object"==typeof e?c(e)?(o=e[1],x(r=e[0])&&Vi(o)?Li(ue(r),o):function(e){var t=de(e,r);return void 0===t&&t===o?function(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=se(t,e)).length,i=!1;++r<o;){var a=ue(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Qo(o)&&Xo(a,o)&&(c(e)||Go(e))}(e,t,Ni)}(e,r):Ii(o,t,3)}):(n=function(e){for(var t=di(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Vi(o)]}return t}(t=e),1==n.length&&n[0][2]?Li(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,r){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var c=(a=n[o])[0],l=e[c],s=a[1];if(a[2]){if(void 0===l&&!(c in e))return!1}else{var u=new Co;if(!Ii(s,l,3,void 0,u))return!1}}return!0}(e,0,n)}):function(e){return x(e)?(t=ue(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return fe(t,e)}}(e);var t}(e);var t,n,r,o},Wi=/\s/,Ui=/^\s+/,qi=/^[-+]0x[0-9a-f]+$/i,$i=/^0b[01]+$/i,Bi=/^0o[0-7]+$/i,Hi=parseInt,Gi=Math.max,Ji=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:function(e){var t=function(e){return e?Infinity===(e=function(e){if("number"==typeof e)return e;if(w(e))return NaN;if(A(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=A(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;var n;e=(n=e)?n.slice(0,function(e){for(var t=e.length;t--&&Wi.test(e.charAt(t)););return t}(n)+1).replace(Ui,""):n;var r=$i.test(e);return r||Bi.test(e)?Hi(e.slice(2),r?2:8):qi.test(e)?NaN:+e}(e))||-Infinity===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}(n);return o<0&&(o=Gi(r+o,0)),Ao(e,Mi(t),o)},Ki=Function.prototype,Yi=Ki.apply,Xi=Ki.call,Qi="object"==typeof Reflect&&Reflect.apply||(ve?Xi.bind(Yi):function(){return Xi.apply(Yi,arguments)}),Zi=Ce([].slice),ea=Array.isArray||function(e){return"Array"===Fe(e)},ta={};ta[Et("toStringTag")]="z";var na="[object z]"===String(ta),ra=Et("toStringTag"),oa=Object,ia="Arguments"===Fe(function(){return arguments}()),aa=na?Fe:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=oa(e),ra))?n:ia?Fe(t):"Object"===(r=Fe(t))&&Me(t.callee)?"Arguments":r},ca=String,la=function(e){if("Symbol"===aa(e))throw new TypeError("Cannot convert a Symbol value to a string");return ca(e)},sa=Ce([].push),ua=String,fa=Ue("JSON","stringify"),da=Ce(/./.exec),pa=Ce("".charAt),ya=Ce("".charCodeAt),ga=Ce("".replace),ha=Ce(1..toString),va=/[\uD800-\uDFFF]/g,ba=/^[\uD800-\uDBFF]$/,ma=/^[\uDC00-\uDFFF]$/,Oa=!Xe||ge(function(){var e=Ue("Symbol")("stringify detection");return"[null]"!==fa([e])||"{}"!==fa({a:e})||"{}"!==fa(Object(e))}),ja=ge(function(){return'"\\udf06\\ud834"'!==fa("\udf06\ud834")||'"\\udead"'!==fa("\udead")}),wa=function(e,t){var n=Zi(arguments),r=function(e){if(Me(e))return e;if(ea(e)){for(var t=e.length,n=[],r=0;r<t;r++){var o=e[r];"string"==typeof o?sa(n,o):"number"!=typeof o&&"Number"!==Fe(o)&&"String"!==Fe(o)||sa(n,la(o))}var i=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(ea(this))return t;for(var r=0;r<i;r++)if(n[r]===e)return t}}}(t);if(Me(r)||void 0!==e&&!et(e))return n[1]=function(e,t){if(Me(r)&&(t=me(r,this,ua(e),t)),!et(t))return t},Qi(fa,null,n)},Ea=function(e,t,n){var r=pa(n,t-1),o=pa(n,t+1);return da(ba,e)&&!da(ma,o)||da(ma,e)&&!da(ba,r)?"\\u"+ha(ya(e,0),16):e};fa&&Wn({target:"JSON",stat:!0,arity:3,forced:Oa||ja},{stringify:function(e,t,n){var r=Zi(arguments),o=Qi(Oa?wa:fa,null,r);return ja&&"string"==typeof o?ga(o,va,Ea):o}});const Sa=function(e,t,n){if(void 0===n&&(n="stages-form-"),"local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage){const t=localStorage.getItem(""+n+e)||"{}";let r={};try{r=JSON.parse(t)}catch(e){}return r}return{}},xa=function(e,t,n,r){if(void 0===t&&(t={}),void 0===r&&(r="stages-form-"),("local"===n&&"undefined"!=typeof localStorage||"session"===n&&"undefined"!=typeof sessionStorage)&&"object"==typeof t){let n="{}";try{n=JSON.stringify(t)}catch(e){}localStorage.setItem(""+r+e,n)}},Aa=function(e,t,n){void 0===n&&(n="stages-form-"),("local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage)&&localStorage.removeItem(""+n+e)};var _a=function(){var e=Vt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Ca=RegExp.prototype,ka=function(e){var t=e.flags;return void 0!==t||"flags"in Ca||gt(e,"flags")||!qe(Ca,e)?t:me(_a,e)},Da=Jt.PROPER,Fa="toString",Ra=RegExp.prototype,Ta=Ra[Fa];(ge(function(){return"/a/b"!==Ta.call({source:"a",flags:"b"})})||Da&&Ta.name!==Fa)&&dn(Ra,Fa,function(){var e=Vt(this);return"/"+la(e.source)+"/"+la(ka(e))},{unsafe:!0});const Pa=()=>"undefined"!=typeof window&&"function"==typeof window.stagesLogging,Ia=t=>{let{children:n,initialData:r,initialStep:o,render:i,validateOnStepChange:a,onChange:c,autoSave:l,id:s}=t;const[u]=e.useState("stages-"+(s||+new Date)),[f,d]=e.useState((()=>{if(!s||"local"!==l&&"session"!==l&&("object"!=typeof l||"local"!==l.type&&"session"!==l.type)){if(s&&"object"==typeof l&&"custom"===l.type&&"function"==typeof l.get){const e=l.get(s);if(Object.keys(e).length>0)return e}}else{const e=Sa(s,"object"==typeof l?l.type:l);if(Object.keys(e).length>0)return e}return r})()),[p,y]=e.useState([]),[g,h]=e.useState({}),[v,b]=e.useState(o||0),[m,O]=e.useState([]),j=e=>{const t=m&&m[e]?m[e].key:e;return f&&f[t]?f[t]:{}},w=(e,t)=>(m[t]||(m[t]={key:e,visible:!0},O([...m])),e),E=(e,t,n)=>{const r=Object.assign({},f),o=m&&m[n]?m[n].key:n;Pa()&&window.stagesLogging('Handle onChange for "'+o+'"',u),g[n]=t,h(Object.assign({},g)),r[o]=e,f[o]=e,d(Object.assign({},r)),"function"==typeof c&&c({data:r,errors:g}),s&&("local"===l||"session"===l?0===Object.keys(g).length&&xa(s,r,l):"object"!=typeof l||"local"!==l.type&&"session"!==l.type?s&&"object"==typeof l&&"custom"===l.type&&"function"==typeof l.save&&(l.validDataOnly&&0===Object.keys(g).length||!l.validDataOnly)&&l.save(s,r):(l.validDataOnly&&0===Object.keys(g).length||!l.validDataOnly)&&xa(s,r,l.type))},S=()=>{s&&("local"!==l&&"session"!==l||Aa(s,l),"object"!=typeof l||"local"!==l.type&&"session"!==l.type||Aa(s,l.type),s&&"object"==typeof l&&"custom"===l.type&&"function"==typeof l.remove&&l.remove(s)),d(r),b(0),"function"==typeof c&&c({data:r,errors:g})};e.useEffect(()=>{Pa()&&(!s||"local"!==l&&"session"!==l&&("object"!=typeof l||"local"!==l.type&&"session"!==l.type)?s&&"object"==typeof l&&"custom"===l.type&&"function"==typeof l.get?window.stagesLogging({id:u,keys:m,data:f,initialData:r,initialStep:o,errors:g,currentStep:v,savedData:l.get(s)}):window.stagesLogging({id:u,keys:m,data:f,initialData:r,initialStep:o,errors:g,currentStep:v,savedData:{}}):window.stagesLogging({id:u,keys:m,data:f,initialData:r,initialStep:o,errors:g,currentStep:v,savedData:Sa(s,"object"==typeof l?l.type:l)}))},[m,f,g,v]),e.useEffect(()=>{Pa()&&window.stagesLogging("Init Stages",u),n.map((e,t)=>e({index:t,setStepKey:w,initializing:!0})).filter(e=>e)},[]),e.useEffect(()=>{if(a){const e=A();e<v&&b(-1===e?0:e+1)}y(n.map((e,t)=>e({data:j(t),allData:f,onChange:E,reset:S,onNav:x,isActive:t===v,index:t,errors:g[t]||{},setStepKey:w})).filter((e,t)=>{const n=null!==e;return m[t]&&(m[t].visible=n),n}))},[v,f]);const x=(e,t)=>{let n=v;if(Pa()&&window.stagesLogging('On nav "'+e+'" -> "'+t+'"',u),"next"===e){let e=!1;for(let t=v+1;t<m.length;t++)m[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=v-1;t>=0;t--)m[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<m.length;t++)m[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=m.length-1;t>=0;t--)m[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=A()),"step"===e&&m[t]&&m[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=Ji(m,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>m.length&&(n=m.length),b(n)},A=()=>{let e=-1,t=!1;return Object.keys(g).forEach(n=>{const r=Ji(m,{key:n});(0===Object.keys(g[n]).length||r>-1&&!m[r].visible)&&!t?e=Number(n):t=!0}),e};return 0===p.length?null:i?i({navigationProps:{currentStep:v,data:f,onChangeStep:e=>{const t=A();Pa()&&window.stagesLogging('On change step "'+e+'"',u),("number"==typeof t&&"number"==typeof e&&t+1>=e||!1===a)&&b(e)},errors:g,keys:m,stepCount:p.length,lastValidStep:A(),reset:S},progressionProps:(()=>{const e=p.length,t=A();let n=0;return Object.keys(g).forEach((e,r)=>{const o=j(r);r<=t&&0===Object.keys(g[r]).length&&Object.keys(o).length>0&&n++}),{currentStep:v,stepCount:e,validSteps:n,percentage:100/e*n,data:f,errors:g}})(),routerProps:{step:v,onChange:b,keys:m},steps:p}):null};Ia.propTypes={children:xo.arrayOf(xo.oneOfType([xo.node,xo.func])).isRequired,initialData:xo.object,render:xo.oneOfType([xo.node,xo.func]).isRequired,initialStep:xo.number,validateOnStepChange:xo.bool,id:xo.oneOfType([xo.string,xo.number])},Ia.defaultProps={initialData:{},validateOnStepChange:!0,autoSave:!1};var Va=ye.RegExp,La=ge(function(){var e=Va("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),Na=La||ge(function(){return!Va("a","y").sticky}),za=La||ge(function(){var e=Va("^r","gy");return e.lastIndex=2,null!==e.exec("str")}),Ma={BROKEN_CARET:za,MISSED_STICKY:Na,UNSUPPORTED_Y:La},Wa=ye.RegExp,Ua=ge(function(){var e=Wa(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),qa=ye.RegExp,$a=ge(function(){var e=qa("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Ba=un.get,Ha=ft("native-string-replace",String.prototype.replace),Ga=RegExp.prototype.exec,Ja=Ga,Ka=Ce("".charAt),Ya=Ce("".indexOf),Xa=Ce("".replace),Qa=Ce("".slice),Za=function(){var e=/a/,t=/b*/g;return me(Ga,e,"a"),me(Ga,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ec=Ma.BROKEN_CARET,tc=void 0!==/()??/.exec("")[1];(Za||tc||ec||Ua||$a)&&(Ja=function(e){var t,n,r,o,i,a,c,l=this,s=Ba(l),u=la(e),f=s.raw;if(f)return f.lastIndex=l.lastIndex,t=me(Ja,f,u),l.lastIndex=f.lastIndex,t;var d=s.groups,p=ec&&l.sticky,y=me(_a,l),g=l.source,h=0,v=u;if(p&&(y=Xa(y,"y",""),-1===Ya(y,"g")&&(y+="g"),v=Qa(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==Ka(u,l.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,h++),n=new RegExp("^(?:"+g+")",y)),tc&&(n=new RegExp("^"+g+"$(?!\\s)",y)),Za&&(r=l.lastIndex),o=me(Ga,p?n:l,v),p?o?(o.input=Qa(o.input,h),o[0]=Qa(o[0],h),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:Za&&o&&(l.lastIndex=l.global?o.index+o[0].length:r),tc&&o&&o.length>1&&me(Ha,o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&d)for(o.groups=a=lr(null),i=0;i<d.length;i++)a[(c=d[i])[0]]=o[c[1]];return o});var nc=Ja;Wn({target:"RegExp",proto:!0,forced:/./.exec!==nc},{exec:nc});var rc=Et("species"),oc=RegExp.prototype,ic=function(){},ac=Ue("Reflect","construct"),cc=/^\s*(?:class|function)\b/,lc=Ce(cc.exec),sc=!cc.test(ic),uc=function(e){if(!Me(e))return!1;try{return ac(ic,[],e),!0}catch(e){return!1}},fc=function(e){if(!Me(e))return!1;switch(aa(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return sc||!!lc(cc,Zt(e))}catch(e){return!0}};fc.sham=!0;var dc=!ac||ge(function(){var e;return uc(uc.call)||!uc(Object)||!uc(function(){e=!0})||e})?fc:uc,pc=TypeError,yc=Et("species"),gc=function(e,t){var n,r=Vt(e).constructor;return void 0===r||Ie(n=Vt(r)[yc])?t:function(e){if(dc(e))return e;throw new pc(nt(e)+" is not a constructor")}(n)},hc=Ce("".charAt),vc=Ce("".charCodeAt),bc=Ce("".slice),mc=function(e){return function(t,n){var r,o,i=la(Le(t)),a=hn(n),c=i.length;return a<0||a>=c?e?"":void 0:(r=vc(i,a))<55296||r>56319||a+1===c||(o=vc(i,a+1))<56320||o>57343?e?hc(i,a):r:e?bc(i,a,a+2):o-56320+(r-55296<<10)+65536}},Oc=(mc(!1),mc(!0)),jc=function(e,t,n){return t+(n?Oc(e,t).length:1)},wc=TypeError,Ec=function(e,t){var n=e.exec;if(Me(n)){var r=me(n,e,t);return null!==r&&Vt(r),r}if("RegExp"===Fe(e))return me(nc,e,t);throw new wc("RegExp#exec called on incompatible receiver")},Sc=Ma.UNSUPPORTED_Y,xc=Math.min,Ac=Ce([].push),_c=Ce("".slice),Cc=!ge(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),kc="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;!function(e,t,n,r){var o,i,a,c,l=Et(e),s=!ge(function(){var t={};return t[l]=function(){return 7},7!==""[e](t)}),u=s&&!ge(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[rc]=function(){return t},t.flags="",t[l]=/./[l],t.exec=function(){return e=!0,null},t[l](""),!e});if(!s||!u||n){var f=/./[l],d=(o=l,i=""[e],a=function(e,t,n,r,o){var i=t.exec;return i===nc||i===oc.exec?s&&!o?{done:!0,value:me(f,t,n,r)}:{done:!0,value:me(e,n,t,r)}:{done:!1}},c="0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:me(i,this,e,t)}:i,[function(e,t){var n=Le(this),r=Ie(e)?void 0:it(e,o);return r?me(r,e,n,t):me(c,la(n),e,t)},function(e,t){var n=Vt(this),r=la(e);if(!kc){var o=a(c,n,r,t,c!==i);if(o.done)return o.value}var l=gc(n,RegExp),s=n.unicode,u=new l(Sc?"^(?:"+n.source+")":n,(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(Sc?"g":"y")),f=void 0===t?4294967295:t>>>0;if(0===f)return[];if(0===r.length)return null===Ec(u,r)?[r]:[];for(var d=0,p=0,y=[];p<r.length;){u.lastIndex=Sc?0:p;var g,h=Ec(u,Sc?_c(r,p):r);if(null===h||(g=xc(On(u.lastIndex+(Sc?p:0)),r.length))===d)p=jc(r,p,s);else{if(Ac(y,_c(r,d,p)),y.length===f)return y;for(var v=1;v<=h.length-1;v++)if(Ac(y,h[v]),y.length===f)return y;p=d=g}}return Ac(y,_c(r,d)),y}]);dn(String.prototype,e,d[0]),dn(oc,l,d[1])}r&&$t(oc[l],"sham",!0)}("split",0,kc||!Cc,Sc);var Dc=Ce([].reverse),Fc=[1,2];Wn({target:"Array",proto:!0,forced:String(Fc)===String(Fc.reverse())},{reverse:function(){return ea(this)&&(this.length=this.length),Dc(this)}});var Rc=TypeError,Tc=function(e,t){if(!delete e[t])throw new Rc("Cannot delete property "+nt(t)+" of "+nt(e))},Pc=Math.floor,Ic=function(e,t){var n=e.length;if(n<8)for(var r,o,i=1;i<n;){for(o=i,r=e[i];o&&t(e[o-1],r)>0;)e[o]=e[--o];o!==i++&&(e[o]=r)}else for(var a=Pc(n/2),c=Ic(Zi(e,0,a),t),l=Ic(Zi(e,a),t),s=c.length,u=l.length,f=0,d=0;f<s||d<u;)e[f+d]=f<s&&d<u?t(c[f],l[d])<=0?c[f++]:l[d++]:f<s?c[f++]:l[d++];return e},Vc=Ic,Lc=$e.match(/firefox\/(\d+)/i),Nc=!!Lc&&+Lc[1],zc=/MSIE|Trident/.test($e),Mc=$e.match(/AppleWebKit\/(\d+)\./),Wc=!!Mc&&+Mc[1],Uc=[],qc=Ce(Uc.sort),$c=Ce(Uc.push),Bc=ge(function(){Uc.sort(void 0)}),Hc=ge(function(){Uc.sort(null)}),Gc=function(e,t){var n=[].sort;return!!n&&ge(function(){n.call(null,function(){return 1},1)})}(),Jc=!ge(function(){if(Ke)return Ke<70;if(!(Nc&&Nc>3)){if(zc)return!0;if(Wc)return Wc<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Uc.push({k:t+r,v:n})}for(Uc.sort(function(e,t){return t.v-e.v}),r=0;r<Uc.length;r++)t=Uc[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}});Wn({target:"Array",proto:!0,forced:Bc||!Hc||!Gc||!Jc},{sort:function(e){void 0!==e&&ot(e);var t=pt(this);if(Jc)return void 0===e?qc(t):qc(t,e);var n,r,o=[],i=jn(t);for(r=0;r<i;r++)r in t&&$c(o,t[r]);for(Vc(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:la(t)>la(n)?1:-1}}(e)),n=jn(o),r=0;r<n;)t[r]=o[r++];for(;r<i;)Tc(t,r++);return t}});var Kc=Ce(1..valueOf),Yc=RangeError,Xc=RangeError,Qc=String,Zc=Math.floor,el=Ce(function(e){var t=la(Le(this)),n="",r=hn(e);if(r<0||Infinity===r)throw new Yc("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),tl=Ce("".slice),nl=Ce(1..toFixed),rl=function(e,t,n){return 0===t?n:t%2==1?rl(e,t-1,n*e):rl(e*e,t/2,n)},ol=function(e,t,n){for(var r=-1,o=n;++r<6;)e[r]=(o+=t*e[r])%1e7,o=Zc(o/1e7)},il=function(e,t){for(var n=6,r=0;--n>=0;)e[n]=Zc((r+=e[n])/t),r=r%t*1e7},al=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=Qc(e[t]);n=""===n?r:n+el("0",7-r.length)+r}return n},cl=ge(function(){return"0.000"!==nl(8e-5,3)||"1"!==nl(.9,0)||"1.25"!==nl(1.255,2)||"1000000000000000128"!==nl(0xde0b6b3a7640080,0)})||!ge(function(){nl({})});Wn({target:"Number",proto:!0,forced:cl},{toFixed:function(e){var t,n,r,o,i=Kc(this),a=hn(e),c=[0,0,0,0,0,0],l="",s="0";if(a<0||a>20)throw new Xc("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return Qc(i);if(i<0&&(l="-",i=-i),i>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*rl(2,69,1))-69,n=t<0?i*rl(2,-t,1):i/rl(2,t,1),n*=4503599627370496,(t=52-t)>0){for(ol(c,0,n),r=a;r>=7;)ol(c,1e7,0),r-=7;for(ol(c,rl(10,r,1),0),r=t-1;r>=23;)il(c,1<<23),r-=23;il(c,1<<r),ol(c,1,1),il(c,2),s=al(c)}else ol(c,0,n),ol(c,1<<-t,0),s=al(c)+el("0",a);return a>0?l+((o=s.length)<=a?"0."+el("0",a-o)+s:tl(s,0,o-a)+"."+tl(s,o-a)):l+s}});var ll,sl,ul,fl,dl="process"===Fe(ye.process),pl=Et("species"),yl=function(e){var t,n,r,o=Ue(e);he&&o&&!o[pl]&&(t=o,n=pl,(r={configurable:!0,get:function(){return this}}).get&&fn(r.get,n,{getter:!0}),r.set&&fn(r.set,n,{setter:!0}),qt.f(t,n,r))},gl=TypeError,hl=function(e){if("Function"===Fe(e))return Ce(e)},vl=hl(hl.bind),bl=function(e,t){return ot(e),void 0===t?e:ve?vl(e,t):function(){return e.apply(t,arguments)}},ml=TypeError,Ol=/(?:ipad|iphone|ipod).*applewebkit/i.test($e),jl=ye.setImmediate,wl=ye.clearImmediate,El=ye.process,Sl=ye.Dispatch,xl=ye.Function,Al=ye.MessageChannel,_l=ye.String,Cl=0,kl={},Dl="onreadystatechange";ge(function(){ll=ye.location});var Fl=function(e){if(gt(kl,e)){var t=kl[e];delete kl[e],t()}},Rl=function(e){return function(){Fl(e)}},Tl=function(e){Fl(e.data)},Pl=function(e){ye.postMessage(_l(e),ll.protocol+"//"+ll.host)};jl&&wl||(jl=function(e){!function(e,t){if(e<1)throw new ml("Not enough arguments")}(arguments.length);var t=Me(e)?e:xl(e),n=Zi(arguments,1);return kl[++Cl]=function(){Qi(t,void 0,n)},sl(Cl),Cl},wl=function(e){delete kl[e]},dl?sl=function(e){El.nextTick(Rl(e))}:Sl&&Sl.now?sl=function(e){Sl.now(Rl(e))}:Al&&!Ol?(fl=(ul=new Al).port2,ul.port1.onmessage=Tl,sl=bl(fl.postMessage,fl)):ye.addEventListener&&Me(ye.postMessage)&&!ye.importScripts&&ll&&"file:"!==ll.protocol&&!ge(Pl)?(sl=Pl,ye.addEventListener("message",Tl,!1)):sl=Dl in kt("script")?function(e){er.appendChild(kt("script"))[Dl]=function(){er.removeChild(this),Fl(e)}}:function(e){setTimeout(Rl(e),0)});var Il={set:jl,clear:wl},Vl=Object.getOwnPropertyDescriptor,Ll=function(){this.head=null,this.tail=null};Ll.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Nl,zl,Ml,Wl,Ul,ql=Ll,$l=/ipad|iphone|ipod/i.test($e)&&"undefined"!=typeof Pebble,Bl=/web0s(?!.*chrome)/i.test($e),Hl=Il.set,Gl=ye.MutationObserver||ye.WebKitMutationObserver,Jl=ye.document,Kl=ye.process,Yl=ye.Promise,Xl=function(e){if(!he)return ye[e];var t=Vl(ye,e);return t&&t.value}("queueMicrotask");if(!Xl){var Ql=new ql,Zl=function(){var e,t;for(dl&&(e=Kl.domain)&&e.exit();t=Ql.get();)try{t()}catch(e){throw Ql.head&&Nl(),e}e&&e.enter()};Ol||dl||Bl||!Gl||!Jl?!$l&&Yl&&Yl.resolve?((Wl=Yl.resolve(void 0)).constructor=Yl,Ul=bl(Wl.then,Wl),Nl=function(){Ul(Zl)}):dl?Nl=function(){Kl.nextTick(Zl)}:(Hl=bl(Hl,ye),Nl=function(){Hl(Zl)}):(zl=!0,Ml=Jl.createTextNode(""),new Gl(Zl).observe(Ml,{characterData:!0}),Nl=function(){Ml.data=zl=!zl}),Xl=function(e){Ql.head||Nl(),Ql.add(e)}}var es,ts,ns,rs=Xl,os=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},is=ye.Promise,as="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,cs=!as&&!dl&&"object"==typeof window&&"object"==typeof document,ls=Et("species"),ss=!1,us=Me(ye.PromiseRejectionEvent),fs=zn("Promise",function(){var e=Zt(is),t=e!==String(is);if(!t&&66===Ke)return!0;if(!Ke||Ke<51||!/native code/.test(e)){var n=new is(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[ls]=r,!(ss=n.then(function(){})instanceof r))return!0}return!t&&(cs||as)&&!us}),ds={CONSTRUCTOR:fs,REJECTION_EVENT:us,SUBCLASSING:ss},ps=TypeError,ys=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new ps("Bad Promise constructor");t=e,n=r}),this.resolve=ot(t),this.reject=ot(n)},gs={f:function(e){return new ys(e)}},hs=Il.set,vs="Promise",bs=ds.CONSTRUCTOR,ms=ds.REJECTION_EVENT,Os=ds.SUBCLASSING,js=un.getterFor(vs),ws=un.set,Es=is&&is.prototype,Ss=is,xs=Es,As=ye.TypeError,_s=ye.document,Cs=ye.process,ks=gs.f,Ds=ks,Fs=!!(_s&&_s.createEvent&&ye.dispatchEvent),Rs="unhandledrejection",Ts=function(e){var t;return!(!We(e)||!Me(t=e.then))&&t},Ps=function(e,t){var n,r,o,i=t.value,a=1===t.state,c=a?e.ok:e.fail,l=e.resolve,s=e.reject,u=e.domain;try{c?(a||(2===t.rejection&&zs(t),t.rejection=1),!0===c?n=i:(u&&u.enter(),n=c(i),u&&(u.exit(),o=!0)),n===e.promise?s(new As("Promise-chain cycle")):(r=Ts(n))?me(r,n,l,s):l(n)):s(i)}catch(e){u&&!o&&u.exit(),s(e)}},Is=function(e,t){e.notified||(e.notified=!0,rs(function(){for(var n,r=e.reactions;n=r.get();)Ps(n,e);e.notified=!1,t&&!e.rejection&&Ls(e)}))},Vs=function(e,t,n){var r,o;Fs?((r=_s.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),ye.dispatchEvent(r)):r={promise:t,reason:n},!ms&&(o=ye["on"+e])?o(r):e===Rs&&function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}("Unhandled promise rejection",n)},Ls=function(e){me(hs,ye,function(){var t,n=e.facade,r=e.value;if(Ns(e)&&(t=os(function(){dl?Cs.emit("unhandledRejection",r,n):Vs(Rs,n,r)}),e.rejection=dl||Ns(e)?2:1,t.error))throw t.value})},Ns=function(e){return 1!==e.rejection&&!e.parent},zs=function(e){me(hs,ye,function(){var t=e.facade;dl?Cs.emit("rejectionHandled",t):Vs("rejectionhandled",t,e.value)})},Ms=function(e,t,n){return function(r){e(t,r,n)}},Ws=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Is(e,!0))},Us=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new As("Promise can't be resolved itself");var r=Ts(t);r?rs(function(){var n={done:!1};try{me(r,t,Ms(Us,n,e),Ms(Ws,n,e))}catch(t){Ws(n,t,e)}}):(e.value=t,e.state=1,Is(e,!1))}catch(t){Ws({done:!1},t,e)}}};if(bs&&(Ss=function(e){!function(e,t){if(qe(xs,e))return e;throw new gl("Incorrect invocation")}(this),ot(e),me(es,this);var t=js(this);try{e(Ms(Us,t),Ms(Ws,t))}catch(e){Ws(t,e)}},(es=function(e){ws(this,{type:vs,done:!1,notified:!1,parent:!1,reactions:new ql,rejection:!1,state:0,value:void 0})}).prototype=dn(xs=Ss.prototype,"then",function(e,t){var n=js(this),r=ks(gc(this,Ss));return n.parent=!0,r.ok=!Me(e)||e,r.fail=Me(t)&&t,r.domain=dl?Cs.domain:void 0,0===n.state?n.reactions.add(r):rs(function(){Ps(r,n)}),r.promise}),ts=function(){var e=new es,t=js(e);this.promise=e,this.resolve=Ms(Us,t),this.reject=Ms(Ws,t)},gs.f=ks=function(e){return e===Ss||void 0===e?new ts(e):Ds(e)},Me(is)&&Es!==Object.prototype)){ns=Es.then,Os||dn(Es,"then",function(e,t){var n=this;return new Ss(function(e,t){me(ns,n,e,t)}).then(e,t)},{unsafe:!0});try{delete Es.constructor}catch(e){}Tr&&Tr(Es,xs)}Wn({global:!0,constructor:!0,wrap:!0,forced:bs},{Promise:Ss}),Cr(Ss,vs,!1),yl(vs);var qs=Et("iterator"),$s=Array.prototype,Bs=Et("iterator"),Hs=function(e){if(!Ie(e))return it(e,Bs)||it(e,"@@iterator")||hr[aa(e)]},Gs=TypeError,Js=function(e,t,n){var r,o;Vt(e);try{if(!(r=it(e,"return"))){if("throw"===t)throw n;return n}r=me(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return Vt(r),n},Ks=TypeError,Ys=function(e,t){this.stopped=e,this.result=t},Xs=Ys.prototype,Qs=function(e,t,n){var r,o,i,a,c,l,s,u,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=bl(t,n&&n.that),h=function(e){return r&&Js(r,"normal",e),new Ys(!0,e)},v=function(e){return f?(Vt(e),y?g(e[0],e[1],h):g(e[0],e[1])):y?g(e,h):g(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(o=Hs(e)))throw new Ks(nt(e)+" is not iterable");if(void 0!==(u=o)&&(hr.Array===u||$s[qs]===u)){for(i=0,a=jn(e);a>i;i++)if((c=v(e[i]))&&qe(Xs,c))return c;return new Ys(!1)}r=function(e,t){var n=arguments.length<2?Hs(e):t;if(ot(n))return Vt(me(n,e));throw new Gs(nt(e)+" is not iterable")}(e,o)}for(l=d?e.next:r.next;!(s=me(l,r)).done;){try{c=v(s.value)}catch(e){Js(r,"throw",e)}if("object"==typeof c&&c&&qe(Xs,c))return c}return new Ys(!1)},Zs=Et("iterator"),eu=!1;try{var tu=0,nu={next:function(){return{done:!!tu++}},return:function(){eu=!0}};nu[Zs]=function(){return this},Array.from(nu,function(){throw 2})}catch(e){}var ru=ds.CONSTRUCTOR||!function(e,t){try{if(!eu)return!1}catch(e){return!1}var n=!1;try{var r={};r[Zs]=function(){return{next:function(){return{done:n=!0}}}},is.all(r).then(void 0,function(){})}catch(e){}return n}();Wn({target:"Promise",stat:!0,forced:ru},{all:function(e){var t=this,n=gs.f(t),r=n.resolve,o=n.reject,i=os(function(){var n=ot(t.resolve),i=[],a=0,c=1;Qs(e,function(e){var l=a++,s=!1;c++,me(n,t,e).then(function(e){s||(s=!0,i[l]=e,--c||r(i))},o)}),--c||r(i)});return i.error&&o(i.value),n.promise}});var ou=is&&is.prototype;if(Wn({target:"Promise",proto:!0,forced:ds.CONSTRUCTOR,real:!0},{catch:function(e){return this.then(void 0,e)}}),Me(is)){var iu=Ue("Promise").prototype.catch;ou.catch!==iu&&dn(ou,"catch",iu,{unsafe:!0})}Wn({target:"Promise",stat:!0,forced:ru},{race:function(e){var t=this,n=gs.f(t),r=n.reject,o=os(function(){var o=ot(t.resolve);Qs(e,function(e){me(o,t,e).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}}),Wn({target:"Promise",stat:!0,forced:ds.CONSTRUCTOR},{reject:function(e){var t=gs.f(this);return(0,t.reject)(e),t.promise}}),Wn({target:"Promise",stat:!0,forced:ds.CONSTRUCTOR},{resolve:function(e){return function(e,t){if(Vt(e),We(t)&&t.constructor===e)return t;var n=gs.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var au=Et("match"),cu=function(e){var t;return We(e)&&(void 0!==(t=e[au])?!!t:"RegExp"===Fe(e))},lu=qt.f,su=function(e,t,n){n in e||lu(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},uu=Cn.f,fu=un.enforce,du=Et("match"),pu=ye.RegExp,yu=pu.prototype,gu=ye.SyntaxError,hu=Ce(yu.exec),vu=Ce("".charAt),bu=Ce("".replace),mu=Ce("".indexOf),Ou=Ce("".slice),ju=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,wu=/a/g,Eu=/a/g,Su=new pu(wu)!==wu,xu=Ma.MISSED_STICKY,Au=Ma.UNSUPPORTED_Y,_u=he&&(!Su||xu||Ua||$a||ge(function(){return Eu[du]=!1,pu(wu)!==wu||pu(Eu)===Eu||"/a/i"!==String(pu(wu,"i"))}));if(zn("RegExp",_u)){for(var Cu=function(e,t){var n,r,o,i,a,c,l,s,u,f,d=qe(yu,this),p=cu(e),y=void 0===t,g=[],h=e;if(!d&&p&&y&&e.constructor===Cu)return e;if((p||qe(yu,e))&&(e=e.source,y&&(t=ka(h))),e=void 0===e?"":la(e),t=void 0===t?"":la(t),h=e,Ua&&"dotAll"in wu&&(r=!!t&&mu(t,"s")>-1)&&(t=bu(t,/s/g,"")),n=t,xu&&"sticky"in wu&&(o=!!t&&mu(t,"y")>-1)&&Au&&(t=bu(t,/y/g,"")),$a&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],a=lr(null),c=!1,l=!1,s=0,u="";r<=n;r++){if("\\"===(t=vu(e,r)))t+=vu(e,++r);else if("]"===t)c=!1;else if(!c)switch(!0){case"["===t:c=!0;break;case"("===t:hu(ju,Ou(e,r+1))&&(r+=2,l=!0),o+=t,s++;continue;case">"===t&&l:if(""===u||gt(a,u))throw new gu("Invalid capture group name");a[u]=!0,i[i.length]=[u,s],l=!1,u="";continue}l?u+=t:o+=t}return[o,i]}(e),e=i[0],g=i[1]),l=pu(e,t),s=Cu,Tr&&Me(u=(d?this:yu).constructor)&&u!==s&&We(f=u.prototype)&&f!==s.prototype&&Tr(l,f),a=l,(r||o||g.length)&&(c=fu(a),r&&(c.dotAll=!0,c.raw=Cu(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=vu(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+vu(e,++r);return o}(e),n)),o&&(c.sticky=!0),g.length&&(c.groups=g)),e!==h)try{$t(a,"source",""===h?"(?:)":h)}catch(e){}return a},ku=uu(pu),Du=0;ku.length>Du;)su(Cu,pu,ku[Du++]);yu.constructor=Cu,Cu.prototype=yu,dn(ye,"RegExp",Cu,{constructor:!0})}yl("RegExp");var Fu,Ru,Tu=(Fu=!1,(Ru=/[ac]/).exec=function(){return Fu=!0,/./.exec.apply(this,arguments)},!0===Ru.test("abc")&&Fu),Pu=/./.test;Wn({target:"RegExp",proto:!0,forced:!Tu},{test:function(e){var t=Vt(this),n=la(e),r=t.exec;if(!Me(r))return me(Pu,t,n);var o=me(r,t,n);return null!==o&&(Vt(o),!0)}});var Iu,Vu=TypeError,Lu=function(e){if(cu(e))throw new Vu("The method doesn't accept regular expressions");return e},Nu=Et("match"),zu=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Nu]=!1,"/./"[e](t)}catch(e){}}return!1},Mu=Rt.f,Wu=hl("".slice),Uu=Math.min,qu=zu("endsWith"),$u=!(qu||(Iu=Mu(String.prototype,"endsWith"),!Iu||Iu.writable));Wn({target:"String",proto:!0,forced:!$u&&!qu},{endsWith:function(e){var t=la(Le(this));Lu(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,o=void 0===n?r:Uu(On(n),r),i=la(e);return Wu(t,o-i.length,o)===i}});var Bu=Rt.f,Hu=hl("".slice),Gu=Math.min,Ju=zu("startsWith"),Ku=!Ju&&!!function(){var e=Bu(String.prototype,"startsWith");return e&&!e.writable}();Wn({target:"String",proto:!0,forced:!Ku&&!Ju},{startsWith:function(e){var t=la(Le(this));Lu(e);var n=On(Gu(arguments.length>1?arguments[1]:void 0,t.length)),r=la(e);return Hu(t,n,n+r.length)===r}});var Yu,Xu,Qu,Zu,ef,tf=(Yu=Ji,function(e,t,n){var r=Object(e);if(!fi(e)){var o=Mi(t);e=di(e),t=function(e){return o(r[e],e,r)}}var i=Yu(e,t,n);return i>-1?r[o?e[i]:i]:void 0}),nf=p?p.isConcatSpreadable:void 0,rf=function(e){return c(e)||Go(e)||!!(nf&&e&&e[nf])},of=function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=rf),i||(i=[]);++a<c;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,o,i):zo(i,l):o||(i[i.length]=l)}return i},af=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var c=i[++r];if(!1===t(o[c],c,o))break}return e},cf=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=w(e),a=void 0!==t,c=null===t,l=t==t,s=w(t);if(!c&&!s&&!i&&e>t||i&&a&&l&&!c&&!s||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!s&&e<t||s&&n&&o&&!r&&!i||c&&n&&o||!a&&o||!l)return-1}return 0},lf=Math.max,sf=function(){try{var e=P(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),uf=Date.now,ff=(Xu=sf?function(e,t){return sf(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:zi,Qu=0,Zu=0,function(){var e=uf(),t=16-(e-Zu);if(Zu=e,t>0){if(++Qu>=800)return arguments[0]}else Qu=0;return Xu.apply(void 0,arguments)}),df=function(e,t){return ff(function(e,t,n){return t=lf(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=lf(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,c)}}(e,t,zi),e+"")},pf=function(e,t,n){if(!A(n))return!1;var r=typeof t;return!!("number"==r?fi(n)&&Xo(t,n.length):"string"==r&&t in n)&&M(n[t],e)},yf=df(function(e,t){if(null==e)return[];var n=t.length;return n>1&&pf(e,t[0],t[1])?t=[]:n>2&&pf(t[0],t[1],t[2])&&(t=[t[0]]),function(e,t,n){t=t.length?oe(t,function(e){return c(e)?function(t){return fe(t,1===e.length?e[0]:e)}:e}):[zi];var r=-1;t=oe(t,ei(Mi));var o=function(e,t){var n=-1,r=fi(e)?Array(e.length):[];return function(e,t){if(null==e)return e;if(!fi(e))return function(e,t){return e&&af(e,t,di)}(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r]););}(e,function(e,o,i){r[++n]=t(e)}),r}(e,function(e,n,o){return{criteria:oe(t,function(t){return t(e)}),index:++r,value:e}});return function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,c=n.length;++r<a;){var l=cf(o[r],i[r]);if(l)return r>=c?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(o)}(e,of(t,1),[])}),gf=function(e){return e!=e},hf=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t):Ao(e,gf,0)}(e,t)>-1},vf=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},bf=vi&&1/Vo(new vi([,-0]))[1]==1/0?function(e){return new vi(e)}:function(){},mf=bf,Of=function(e,t){return Ii(e,t)},jf=function(e,t,n){"__proto__"==t&&sf?sf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},wf=Object.prototype.hasOwnProperty,Ef=function(e,t,n){var r=e[t];wf.call(e,t)&&M(r,n)&&(void 0!==n||t in e)||jf(e,t,n)},Sf=function(e,t,n){return null==e?e:function(e,t,n,r){if(!A(e))return e;for(var o=-1,i=(t=se(t,e)).length,a=i-1,c=e;null!=c&&++o<i;){var l=ue(t[o]),s=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var u=c[l];void 0===(s=void 0)&&(s=A(u)?u:Xo(t[o+1])?[]:{})}Ef(c,l,s),c=c[l]}return e}(e,t,n)},xf=function(e,t){return null==e||function(e,t){return null==(e=function(e,t){return t.length<2?e:fe(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(t,0,-1))}(e,t=se(t,e)))||delete e[ue((n=t,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r}(e,t)},Af=function(e,t,n){(void 0!==n&&!M(e[t],n)||void 0===n&&!(t in e))&&jf(e,t,n)},_f=s(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?d.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}),Cf=Object.create,kf=function(){function e(){}return function(t){if(!A(t))return{};if(Cf)return Cf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Df=li(Object.getPrototypeOf,Object),Ff=Function.prototype.toString,Rf=Object.prototype.hasOwnProperty,Tf=Ff.call(Object),Pf=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},If=Object.prototype.hasOwnProperty,Vf=function(e){return fi(e)?ii(e,!0):function(e){if(!A(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ci(e),n=[];for(var r in e)("constructor"!=r||!t&&If.call(e,r))&&n.push(r);return n}(e)},Lf=function e(t,n,r,o,i){t!==n&&af(n,function(a,l){if(i||(i=new Co),A(a))!function(e,t,n,r,o,i,a){var l,s,u,f=Pf(e,n),d=Pf(t,n),p=a.get(d);if(p)Af(e,n,p);else{var y=i?i(f,d,n+"",e,t,a):void 0,g=void 0===y;if(g){var h=c(d),v=!h&&Ko(d),b=!h&&!v&&ri(d);y=d,h||v||b?c(f)?y=f:j(l=f)&&fi(l)?y=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(f):v?(g=!1,y=_f(d,!0)):b?(g=!1,u=function(e){var t=new e.constructor(e.byteLength);return new Po(t).set(new Po(e)),t}((s=d).buffer),y=new s.constructor(u,s.byteOffset,s.length)):y=[]:function(e){if(!j(e)||"[object Object]"!=O(e))return!1;var t=Df(e);if(null===t)return!0;var n=Rf.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ff.call(n)==Tf}(d)||Go(d)?(y=f,Go(f)?y=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],l=void 0;void 0===l&&(l=e[c]),o?jf(n,c,l):Ef(n,c,l)}return n}(e,Vf(e))}(f):A(f)&&!_(f)||(y=function(e){return"function"!=typeof e.constructor||ci(e)?{}:kf(Df(e))}(d))):g=!1}g&&(a.set(d,y),o(y,d,r,i,a),a.delete(d)),Af(e,n,y)}}(t,n,l,r,e,o,i);else{var s=o?o(Pf(t,l),a,l+"",t,n,i):void 0;void 0===s&&(s=a),Af(t,l,s)}},Vf)},Nf=(ef=function(e,t,n){Lf(e,t,n)},df(function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=ef.length>3&&"function"==typeof o?(r--,o):void 0,i&&pf(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&ef(e,a,n)}return e}));const zf=(e,t,n)=>n&&Array.isArray(e)?"number"===t?e.map(e=>Number(e)):"string"===t?e.map(e=>String(e)):"boolean"===t?e.map(e=>Boolean(e)):"date"===t?e.map(e=>new Date(e)):e:"number"===t?Number(e):"string"===t?String(e):"boolean"===t?Boolean(e):"date"===t?new Date(e):e,Mf=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{n[r]=void 0!==e[r]?e[r]:t[r].default,void 0===e[r]&&t[r].required&&console.warn('Param "'+r+'" is required but is missing in field configs!'),void 0!==e[r]&&typeof e[r]!==t[r].type&&console.warn('Param "'+r+'" is not of type "'+t[r].type+'"!')}),n},Wf={};let Uf,qf,$f,Bf=0;const Hf={},Gf=t=>{let{config:n,data:r,render:i,renderFields:c,fields:l,onChange:s,isVisible:u,isDisabled:f,id:d,onValidation:p,parentRunValidation:y,validateOn:g,throttleWait:h,customEvents:v,enableUndo:b,undoMaxDepth:m,customRuleHandlers:O,autoSave:j,typeValidations:w,fieldsets:E,initialInterfaceState:S,hashSeparator:x}=t;const A=e.useRef(!1),[_,C]=e.useState(S),k=Object.assign({},r);Nf(k,_);const[D]=e.useState("form-"+(d||"noid")+"-"+ +new Date),[F,R]=e.useState(!1),[T,P]=e.useState({}),[I,V]=e.useState(!1),[L,N]=e.useState([]),[z,M]=e.useState(0),[W,U]=e.useState(!1),[q,$]=e.useState(!1),[B,H]=e.useState({}),[G,J]=e.useState({}),[K,Y]=e.useState(),[X,Q]=e.useState({}),[Z,ee]=e.useState(!1),[te,ne]=e.useState(""),[re,oe]=e.useState(""),[ie,ae]=e.useState([]),[ce,le]=e.useState({}),se=((e,t,n,r,o,i)=>{let a="function"==typeof e.fields?e.fields(t,n,r):"function"==typeof e?e(t,n,r):Array.isArray(e)?e:[];const c=o=>{if("string"==typeof o&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[o])return e.fieldConfigs[o](t,n,r);if("object"==typeof o&&e.fieldConfigs&&"function"==typeof e.fieldConfigs[o.type]){const i=e.fieldConfigs[o.type](t,n,r);return Object.assign({},i,o,{type:i.type})}return"object"==typeof o&&i[o.type]?{id:o.id,type:"fieldset",fieldset:o.type,fields:i[o.type].config({data:t,asyncData:n,interfaceState:r,params:Mf(o.params||{},i[o.type].params)}),params:o.params}:"function"==typeof o?o(t,n,r):o};return a=a.map(e=>("object"!=typeof e||"group"!==e.type&&"collection"!==e.type&&"fieldset"!==e.type||!Array.isArray(e.fields)||(e.fields=e.fields.map(e=>c(e))),"object"==typeof e&&"wizard"===e.type&&Array.isArray(e.stages)&&(e.stages=e.stages.map(e=>c(e))),c(e))),o.forEach(e=>{const r=de(a,e.path);if(Array.isArray(r)){if("add"===e.action&&r.push(e.fields(t,n)),"remove"===e.action){const o=e.fields(t,n),i=Ji(r,{id:o.id});i>-1&&r.splice(i,1)}Sf(a,e.path,r)}}),a})(n,k,K,_,ie,E),ue=((e,t,n)=>{const r=[];return function o(i,a,c){void 0===i&&(i=""),void 0===a&&(a=""),void 0===c&&(c="");let l=[i?de(e,i):e],s=[];Array.isArray(l[0])||(s=Object.keys(l[0]),l=Object.values(l[0])),("stage"!==c||((e,t)=>{let n=!1;return Object.keys(e).forEach(r=>{r+"."+e[r]===t&&(n=!0)}),n})(n,a))&&l.forEach((e,n)=>{const c=void 0!==s[n]?s[n]:void 0;Array.isArray(e)&&e.forEach((e,n)=>{const l=a?a+"."+e.id:e.id,s=de(t,l),u=de(t,a);if((c&&u&&u.__typename===c||!c)&&r.push({path:l,config:e,data:s}),"collection"===e.type){const r=a?de(t,a+"."+e.id):t[e.id];r&&Array.isArray(r)&&r.forEach((t,r)=>{o(i+"["+n+"].fields",a?a+"."+e.id+"["+r+"]":e.id+"["+r+"]")})}else"group"===e.type||"fieldset"===e.type||"stage"===e.type?o(i+"["+n+"].fields",l,e.type):"wizard"===e.type&&o(i+"["+n+"].stages",l,"wizard")})})}(),r})(se,k,ce);e.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),e.useEffect(()=>{const e=("undefined"!=typeof window?window.location.hash.substring(2):"").split(x||":"),t=Object.assign({},ce);e.forEach(e=>{const n=e.split("."),r=n.slice(0,-1).join("."),o=n[n.length-1];r&&o&&(t[r]=o)}),ue.forEach(e=>{"wizard"!==e.config.type||t[e.path]&&(!t[e.path]||tf(e.config.stages,{id:t[e.path]}))||(t[e.path]=e.config.stages[0].id)}),JSON.stringify(ce)!==JSON.stringify(t)&&le(t)},[n]);const fe=()=>A&&!0===A.current;e.useEffect(()=>{if(r&&!I){let e;Pa()&&window.stagesLogging("Set initial data",D),ue.forEach(t=>{if(void 0!==t.config.defaultValue&&void 0===de(r,t.path)){const e="function"==typeof t.config.defaultValue?t.config.defaultValue(r):t.config.defaultValue;Sf(r,t.path,e),Sf(k,t.path,e)}if(Array.isArray(t.config.validateOn)&&t.config.validateOn.indexOf("init")>-1||Array.isArray(g)&&g.indexOf("init")>-1){const n=ge(t.path,"init",r,X);e=Object.assign({},X,n)}e&&Q(e)});const t=a.default(r);let n;V(JSON.parse(t)),"local"===j||"session"===j||"object"==typeof j&&("local"===j.type||"session"===j.type)?n=Sa(d,"object"==typeof j?j.type:j):d&&"object"==typeof j&&"custom"===j.type&&"function"==typeof j.get&&(n=j.get(d)),n&&Object.keys(n).length>0&&setTimeout(()=>{R(!!n.isDirty),P("object"==typeof n.dirtyFields?n.dirtyFields:{}),Oe(n.data,he(!1,n.data),d)},0)}},[r]),e.useEffect(()=>{if(Pa()){let e;e="local"===j||"session"===j||"object"==typeof j&&("local"===j.type||"session"===j.type)?Sa(d,"object"==typeof j?j.type:j):d&&"object"==typeof j&&"custom"===j.type&&"function"==typeof j.get?j.get(d):{},window.stagesLogging({id:D,data:r,initialData:I,interfaceState:_,undoData:L,asyncData:K,errors:X,fieldPaths:ue,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,loading:Z,parsedFieldConfig:se,savedData:e})}},[r,X,F,te,re,T,Z]);const pe=e=>"collection"===e||"subform"===e||"group"===e||"fieldset"===e||"config"===e||"wizard"===e||"stage"===e,ye=(e,t,n,r)=>{if(!l[t.type])return!0;const o=de(n,e),i=!pe(t.type)&&l[t.type].isValid(o,t);if(w[t.type]&&"function"==typeof w[t.type].validation&&!t.customValidation)return w[t.type].validation({data:o,allData:n,interfaceState:_,fieldConfig:t,isValid:i,fieldHasFocus:!(!te||te!==e),fieldIsDirty:void 0!==T[e],triggeringEvent:r});if(("string"==typeof t.regexValidation||t.regexValidation instanceof RegExp)&&!t.customValidation){let e;if("string"==typeof t.regexValidation)try{e=new RegExp(t.regexValidation)}catch(e){}else e=t.regexValidation;return i&&(e.test(o)||!o)}if(!pe(t.type)&&"function"==typeof t.customValidation){const a=t.customValidation({data:o,allData:n,interfaceState:_,fieldConfig:t,isValid:i,fieldHasFocus:!(!te||te!==e),fieldIsDirty:void 0!==T[e],triggeringEvent:r});if(!function(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}(a))return a;!function(){const n=+new Date;Uf=Object.assign({},Uf,{[e]:n}),a.then(r=>{Uf[e]===n&&(!0!==r?(delete Uf[e],Q(Object.assign({},X,{[e]:{field:t}}))):(delete Uf[e],Q(Object.assign({},X))),Uf=Object.assign({},Uf))})}()}return i},ge=(e,t,n,r,o)=>{const i=tf(ue,{path:e}).config;Pa()&&"render"!==t&&window.stagesLogging('Validate field "'+e+'"',D);const c=ye(e,i,n,t),s=de(n,e);return r[e]&&delete r[e],pe(i.type)||!0===c?"collection"===i.type&&i.isRequired&&(!s||0===s.length||1===s.length&&0===Object.keys(s[0]).length)?(o||(o=e),r[e]={value:s,field:i}):"collection"===i.type&&(Array.isArray(i.fields)?i.fields.forEach(o=>{s&&s.forEach((a,c)=>{const u=e+"["+c+"]."+o.id;if(!(i.isRequired||a&&0!==Object.keys(a).length))return;const f=ye(o,u,a,t);if(l[o.type]&&!0!==f)r[e]={value:s,subField:o,errorCode:!1!==f?f:void 0};else if(l[o.type]&&o.isUnique){let t=de(n,e,[]).filter(e=>void 0!==e[o.id]).map(e=>e[o.id]);[...new Set(t)].length!==t.length&&(r[e]={value:s,subField:o,errorCode:"notUnique"})}})}):s&&s.forEach((n,o)=>{(i.isRequired||n&&0!==Object.keys(n).length)&&i.fields[n.__typename]&&i.fields[n.__typename].forEach(i=>{const a=ye(i,e+"["+o+"]."+i.id,n,t);l[i.type]&&!0!==a&&(r[e]={value:s,subField:i,errorCode:!1!==a?a:void 0})})})):(o||(o=e),r[e]={value:s,field:i,errorCode:!1!==c?c:void 0}),"collection"===i.type&&i.uniqEntries&&s&&(u=s,f=(e,t)=>a.default(e)===a.default(t),f="function"==typeof f?f:void 0,u&&u.length?function(e,t,n){var r=-1,o=hf,i=e.length,a=!0,c=[],l=c;if(n)a=!1,o=vf;else if(i>=200){var s=mf(e);if(s)return Vo(s);a=!1,o=Ro,l=new Do}else l=c;e:for(;++r<i;){var u=e[r],f=u;if(u=n||0!==u?u:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;c.push(u)}else o(l,f,n)||(l!==c&&l.push(f),c.push(u))}return c}(u,0,f):[]).length!==s.length&&(r[e]={value:s,field:i}),"collection"===i.type&&i.rules&&"object"==typeof i.rules&&s&&Object.keys(i.rules).forEach(t=>{const n=i.rules[t];Object.keys(n).forEach(o=>{const a=n[o],c=t.indexOf(",")>-1?t.split(","):[t],l=o.indexOf(",")>-1?o.split(","):[o],u=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);const n=[];return e.forEach(e=>{t.forEach(t=>{n.push([e,t])})}),n}(c,l);let f=!0;if(a.maxCount&&"number"==typeof a.maxCount&&u.forEach(e=>{let t=0;s.forEach(n=>de(n,e[0])===e[1]?t++:void 0),t>a.maxCount&&(f=!1)}),a.minCount&&"number"==typeof a.minCount&&u.forEach(e=>{let t=0;s.forEach(n=>de(n,e[0])===e[1]?t++:void 0),t<a.minCount&&(f=!1)}),a.exactCount&&"number"==typeof a.exactCount&&u.forEach(e=>{let t=0;s.forEach(n=>de(n,e[0])===e[1]?t++:void 0),t!==a.exactCount&&(f=!1)}),a.sameCountAs&&"string"==typeof a.sameCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{de(r,e[0])===e[1]&&t++,de(r,e[0])===a.sameCountAs&&n++}),t!==n&&(f=!1)}),a.differentCountAs&&"string"==typeof a.differentCountAs&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{de(r,e[0])===e[1]&&t++,de(r,e[0])===a.differentCountAs&&n++}),t===n&&(f=!1)}),(a.sameSumAs&&"string"==typeof a.sameSumAs||a.differentSumAs&&"string"==typeof a.differentSumAs||a.biggerSumAs&&"string"==typeof a.biggerSumAs||a.smallerSumAs&&"string"==typeof a.smallerSumAs)&&u.forEach(e=>{let t=0,n=0;s.forEach(r=>{const o=Number(de(r,e[0])),i=Number(de(r,a.sameSumAs||a.differentSumAs||a.biggerSumAs||a.smallerSumAs));isNaN(o)||(t+=o),isNaN(i)||(n+=i)}),a.sameSumAs&&t!==n&&(f=!1),a.differentSumAs&&t===n&&(f=!1),a.biggerSumAs&&t<=n&&(f=!1),a.smallerSumAs&&t>=n&&(f=!1)}),a.isUnique&&c.length>0){const e=[];let t=!1;s.forEach(n=>{const r=c.map(e=>de(n,e));e.forEach(e=>{Of(r,e)&&(t=!0)}),e.push(r)}),t&&(f=!1)}a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{de(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{de(r,e[0])===n&&(t=!0)}):de(r,e[0])===a.disallow&&(t=!0)}),n&&t&&(f=!1)}),a.disallow&&u.forEach(e=>{let t=!1,n=!1;s.forEach(r=>{de(r,e[0])===e[1]&&(n=!0),Array.isArray(a.disallow)?a.disallow.forEach(n=>{de(r,e[0])===n&&(t=!0)}):de(r,e[0])===a.disallow&&(t=!0)}),n&&!t&&(f=!1)}),f&&"object"==typeof O&&Object.keys(O).forEach(e=>{void 0!==a[e]&&"function"==typeof O[e]&&(O[e]({fieldValueCombos:u,fieldValidationData:s,valueRules:a,get:de})||(f=!1))}),f||(r[e]={value:s,field:i,errorCode:a.errorCode||"invalidRule"})})}),{errors:r,firstErrorField:o};var u,f},he=function(e,t,n){void 0===n&&(n="");let r,o={};if(t||(t=k),ue.forEach(e=>{if(""===n||e.path.startsWith(n)){if(!l[e.config.type]&&!pe(e.config.type))return;const i=ge(e.path,""!==n?"render":"action",t,o,r);o=i.errors,r=i.firstErrorField}}),r&&u&&e){const e=document.getElementById(r);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return o},ve=()=>he(!1);e.useEffect(()=>{if("function"==typeof p&&y){Pa()&&window.stagesLogging("Get errors on validation",D);let e=he(!0);Q(e),p(e)}},[p]);const be=(e,t)=>{Pa()&&window.stagesLogging('Get sub form errors for sub id "'+e+'"',D),he(!0),t&&Object.keys(t).length>0&&(X[e]=t)},me=function(e,t,n){try{const r=function(){if(t.loader&&"function"==typeof t.loader){function r(){t.enableCaching&&((e,t)=>{Pa()&&window.stagesLogging('Update options cache for "'+e+'"',D),J(n=>Object.assign({},n,{[e]:t}))})(i,c),s===l&&(((e,t)=>{Pa()&&window.stagesLogging('Update options loaded for "'+e+'"',D),H(n=>Object.assign({},n,{[e]:t}))})(e,c),t.onOptionsChange&&"function"==typeof t.onOptionsChange&&t.onOptionsChange(c,n,_e))}const o={};let i,c;const l="number"==typeof Wf[e]?Wf[e]+1:0;let s=l;Wf[e]=l,Pa()&&window.stagesLogging('Create dynamic options for field "'+e+'"',D),t.enableCaching&&(t.watchFields.forEach(e=>{const t=de(n,e);t&&(o[e]=t)}),i=e+"-"+a.default(o));const u=function(){if(!t.enableCaching||!G[i])return Promise.resolve(t.loader(n,_e)).then(function(t){c=t,s=Wf[e]});c=G[i]}();return u&&u.then?u.then(r):r()}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},Oe=function(e,t,n,r,o){let i;void 0===o&&(o=!1);try{i=a.default({newData:e,errors:Object.keys(t),id:n,fieldKey:r,interfaceState:_})}catch(e){}(i!==$f||o)&&(s((e=>{const t={},n=Object.assign({},e);return ue.forEach(r=>{if(r.config.isInterfaceState){const o=de(e,r.path);void 0!==o&&(Sf(t,r.path,o),xf(n,r.path))}}),C(t),n})(e),t,n,r,_,he(!1,e),Object.keys(T).length>0,T),$f=i)},je=()=>{if(fe()&&b&&z>0){const e=z-1,t=JSON.parse(L[e]);M(e),Q(t.errors),R(t.isDirty),P(t.dirtyFields),Oe(t.data,t.errors,d)}},we=()=>{if(fe()&&b&&z<L.length-1){const e=z+1,t=JSON.parse(L[e]);M(e),Q(t.errors),R(t.isDirty),P(t.dirtyFields),Oe(t.data,t.errors,d)}};e.useEffect(()=>{let e=Object.assign({},k);if(Pa()&&window.stagesLogging('Is visible change to "'+(u?"visible":"invisible")+'"',D),ue.forEach(t=>{const n=t.config;let r=de(e,t.path);if("collection"===n.type&&n.init){const o=n.min?Number(n.min):1;r&&0!==r.length||(r=[]);for(let t=r.length;t<o;t++)r.push("string"==typeof n.init?"function"==typeof n.setInitialData?n.setInitialData(r,e,n.init):{__typename:n.init}:"function"==typeof n.setInitialData?n.setInitialData(r,e):{});Sf(e,t.path,r)}}),e=Ee(e),"function"==typeof n.asyncDataLoader&&u&&!q)try{return ee(!0),Promise.resolve(n.asyncDataLoader()).then(function(e){Y(e),$(!0),ee(!1)})}catch(e){Promise.reject(e)}u&&(Array.isArray(ue)&&ue.forEach(t=>{t.config.dynamicOptions&&t.config.dynamicOptions.events&&t.config.dynamicOptions.events.indexOf("init")>-1&&me(t.path,t.config.dynamicOptions,e)}),0===z&&0===L.length&&N([a.default({data:e,isDirty:F,dirtyFields:T,errors:X})])),Oe(e,he(),d)},[u]);const Ee=e=>{const t=Object.assign({},e);return ue.forEach(n=>{if("function"==typeof n.config.computedValue){const r=de(k,n.path.split(".").slice(0,-1).join(".")),o=n.config.computedValue(e,r,_);Sf(t,n.path,o)}}),t},Se=e=>tf(ue,{path:e}).config,xe=(e,t,n)=>{const r=[];return"object"==typeof v&&Object.keys(v).forEach(o=>{"function"==typeof v[o]&&v[o]({fieldValue:n,data:t,dirtyFields:T,optionsLoaded:B,asyncData:K,errors:X,focusedField:te,triggeringEvent:e})&&r.push(o)}),r},Ae=e=>Array.isArray(e)&&1===e.length?e[0]:e,_e=function e(t,n,r,o){if(void 0===o&&(o=!1),!fe())return;let i,a=!1;const c=+new Date,l=Se(t);o||(Bf=c);let s=Object.assign({},r||k),u="function"==typeof l.filter?l.filter(n):n;o&&l.cleanUp&&"function"==typeof l.cleanUp&&void 0!==u&&ne(e=>{if(e!==t){const e=l.cleanUp(u);let n=Object.assign({},r||k);Sf(n,t,e),setTimeout(()=>Oe(n,he(!1,n),d,t),0)}return e}),l.cast&&"function"==typeof l.cast.data&&(u=l.cast.data(u)),l.cast&&"string"==typeof l.cast.data&&(u=zf(u,l.cast.data)),l.cast&&Array.isArray(l.cast.data)&&(u=zf(u,l.cast.data[0],!0)),Pa()&&window.stagesLogging('Handle change for field "'+t+'"',D),!u||Array.isArray(u)&&0===u.length?Sf(s,t,void 0):Sf(s,t,u),s=Ee(s);const f={data:de(s,t),fieldIsDirty:!!T[t],fieldConfig:l,fieldHasFocus:!(!te||te!==t)};o||(0===Bf||c-Bf<Number(h||400))&&(!l.validateOn&&Array.isArray(g)&&g.indexOf("throttledChange")>-1||l.validateOn&&Array.isArray(l.validateOn)&&l.validateOn.indexOf("throttledChange")>-1||!l.validateOn&&"function"==typeof g&&g(f).indexOf("throttledChange")>-1||l.validateOn&&"function"==typeof l.validateOn&&l.validateOn(f).indexOf("throttledChange")>-1)&&(qf&&clearTimeout(qf),qf=setTimeout(()=>e(t,n,r,!0),h||400),a=!0);const p=xe("change",s,u);if(!l.validateOn&&Array.isArray(g)&&p.some(e=>g.indexOf(e)>-1)||l.validateOn&&Array.isArray(l.validateOn)&&p.some(e=>l.validateOn.indexOf(e)>-1)){const e=ge(t,Ae(p),s,X);i=Object.assign({},X,e.errors),Q(i)}else if(!l.validateOn&&Array.isArray(g)&&g.indexOf("change")>-1||l.validateOn&&Array.isArray(l.validateOn)&&l.validateOn.indexOf("change")>-1||!l.validateOn&&Array.isArray(g)&&g.indexOf("throttledChange")>-1&&!a||l.validateOn&&Array.isArray(l.validateOn)&&l.validateOn.indexOf("throttledChange")>-1&&!a||!l.validateOn&&"function"==typeof g&&g(f).indexOf("change")>-1||l.validateOn&&"function"==typeof l.validateOn&&l.validateOn(f).indexOf("change")>-1||!l.validateOn&&"function"==typeof g&&g(f).indexOf("throttledChange")>-1&&!a||l.validateOn&&"function"==typeof l.validateOn&&l.validateOn(f).indexOf("throttledChange")>-1&&!a){const e=ge(t,"change",s,X);i=Object.assign({},X,e.errors),Q(i)}if(ue.forEach(e=>{if(e.config.validateOn&&Array.isArray(e.config.validateOn)&&e.config.validateOn.indexOf(t+":change")>-1){const t=ge(e.path,"change",s,i||X);i=Object.assign({},i||X,t.errors),Q(i)}}),I&&(Of(de(s,t),de(I,t))?void 0!==T[t]&&delete T[t]:T[t]={oldData:de(I,t),newData:de(s,t)},R(Object.keys(T).length>0),P(T)),l.clearFields&&(Array.isArray(l.clearFields)||"function"==typeof l.clearFields)){const e=Object.assign({},B);(Array.isArray(l.clearFields)?l.clearFields:l.clearFields(u,s,i)).forEach(t=>{Sf(s,t,void 0),delete e[t]}),H(e)}if(Array.isArray(ue)&&ue.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("change")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t)>-1&&(!l.dynamicOptions||l.dynamicOptions&&B[e.path]&&B[e.path].indexOf(de(s,t))>-1||!B[e.path])&&me(e.path,e.config.dynamicOptions,s)}),(e=>{const t=e.split(".").at(-2);return"]"===(t?t.slice(-1):"")})(t)){const e=(e=>{const t=e.split(".");t.pop();let n=t.join(".");if("]"===n.slice(-1)){const e=n.lastIndexOf("[");n=n.substring(0,e)}return n})(t),n=Se(e);if(n.sort&&n.sort.by&&n.sort.by.indexOf(l.id)>-1){let t=de(s,e,[]);t=yf(t,n.sort.by),"desc"===n.sort.dir&&(t=t.reverse()),Sf(s,e,t)}}Oe(s,he(!1,s),d,t)},Ce=e=>{const t={},n=[];return ue.forEach(i=>{if(!e||i.path.startsWith(e+"."))if("fieldset"===i.config.type&&E[i.config.fieldset]){const e=Ce(i.path);Sf(t,i.path,E[i.config.fieldset].render({params:Mf(i.config.params||{},E[i.config.fieldset].params),fieldProps:{fields:de(e,i.path),onCollectionAction:ke,onWizardNav:De,getWizardNavHash:Fe,isWizardStepActive:Re,isWizardStepDisabled:Te,modifyConfig:Pe,data:r,interfaceState:_,errors:X,asyncData:K,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,get:de,getConfig:Ve},actionProps:{handleActionClick:Ie,handleUndo:je,handleRedo:we,isDisabled:f,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,silentlyGetValidationErrors:ve}}))}else{const e=((e,t,i)=>{let c=!1;if(n.forEach(e=>{i.startsWith(e)&&(c=!0)}),c)return null;if(!l[e.type]&&"subform"!==e.type&&"group"!==e.type)return null;if("function"==typeof e.isRendered&&!e.isRendered(i,t,k,_))return"group"===e.type&&n.push(i),null;if("group"===e.type)return null;const s=Object.assign({},e);if(s.id=i,B[i])s.options=B[i];else if("function"==typeof s.options)s.options=s.options(i,t,k);else if("object"==typeof s.computedOptions){let t=de(r,s.computedOptions.source,[]),n=de(k,i);"function"==typeof s.computedOptions.filter&&(t=t.filter(s.computedOptions.filter)),"function"==typeof s.computedOptions.sort&&(t=t.sort(s.computedOptions.sort)),"function"==typeof s.computedOptions.map&&(t=t.map(s.computedOptions.map)),s.computedOptions.initWith&&Array.isArray(s.computedOptions.initWith)&&(t=s.computedOptions.initWith.concat(t)),e.isUnique&&(t=t.map(t=>{if(""===t.value)return t;const o=i.substring(0,i.lastIndexOf("["));let a=de(r,o,[]);return Ji(a,{[e.id]:t.value})>-1&&t.value!==n?Object.assign({},t,{disabled:!0}):t})),s.options=t,tf(t,{value:n})||(s.value="",Sf(k,i,""))}return delete s.computedValue,delete s.computedOptions,delete s.filter,delete s.clearFields,delete s.dynamicOptions,delete s.isRendered,delete s.defaultValue,delete s.cleanUp,delete s.precision,s.placeholder&&Array.isArray(s.placeholder)&&s.placeholder.length>1&&(void 0===Hf[i]&&(Hf[i]=s.placeholder[Math.floor(Math.random()*s.placeholder.length)]),s.placeholder=Hf[i]),w[e.type]&&"function"==typeof w[e.type].renderer&&!e.errorRenderer&&(s.errorRenderer=w[e.type].renderer),Uf&&Uf[i]&&(s.isValidating=!0),pe(e.type)||Object.keys(s).forEach(e=>{"id"!==e&&"function"==typeof s[e]&&e.endsWith("Fn")&&(s[e.substring(0,e.length-2)]=s[e]({path:i,fieldData:t,alldata:k,interfaceState:_}),delete s[e])}),"fieldset"===e.type?null:"subform"!==e.type?/*#__PURE__*/o.default.createElement(l[e.type].component,Object.assign({key:i,value:(p=t,e.cast&&"function"==typeof e.cast.field?e.cast.field(p):e.cast&&"string"==typeof e.cast.field?zf(p,e.cast.field):e.cast&&Array.isArray(e.cast.field)?zf(p,e.cast.field[0],!0):p),initialValue:de(I,i),error:X[i],isDirty:!!T[i],isDisabled:f||e.isDisabled,hasFocus:!(!te||te!==i),onChange:e=>_e(i,e),onFocus:()=>(e=>{if(!fe())return;const t=Se(e),n=Object.assign({},k),r=de(n,e);ne(e),oe(e);const o={data:r,fieldIsDirty:!!T[e],fieldConfig:t,fieldHasFocus:!(!te||te!==e)},i=xe("focus",n,r);if(!t.validateOn&&Array.isArray(g)&&i.some(e=>g.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&i.some(e=>t.validateOn.indexOf(e)>-1)){const t=ge(e,Ae(i),n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}else if(!t.validateOn&&Array.isArray(g)&&g.indexOf("focus")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("focus")>-1||!t.validateOn&&"function"==typeof g&&g(o).indexOf("focus")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(o).indexOf("focus")>-1){const t=ge(e,"focus",n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}})(i),onBlur:()=>(e=>{if(!fe())return;ne("");const t=Se(e),n=Object.assign({},k),r=Object.assign({},k);let o=de(n,e);Bf=0,Pa()&&window.stagesLogging('Handle blur for field "'+e+'"',D),t.cleanUp&&"function"==typeof t.cleanUp&&void 0!==o&&(o=t.cleanUp(o),Sf(n,e,o),_e(e,o,n,!0)),"number"==typeof t.precision&&(Sf(n,e,Number(o).toFixed(t.precision)),Oe(n,X,d,e));const i={data:o,fieldIsDirty:!!T[e],fieldConfig:t,fieldHasFocus:!(!te||te!==e)},c=xe("blur",n,o);if(!t.validateOn&&Array.isArray(g)&&c.some(e=>g.indexOf(e)>-1)||t.validateOn&&Array.isArray(t.validateOn)&&c.some(e=>t.validateOn.indexOf(e)>-1)){const t=ge(e,Ae(c),n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}else if(!t.validateOn&&Array.isArray(g)&&g.indexOf("blur")>-1||t.validateOn&&Array.isArray(t.validateOn)&&t.validateOn.indexOf("blur")>-1||!t.validateOn&&"function"==typeof g&&g(i).indexOf("blur")>-1||t.validateOn&&"function"==typeof t.validateOn&&t.validateOn(i).indexOf("blur")>-1){const t=ge(e,"blur",n,X);Q(Object.assign({},X,t.errors)),Oe(n,t.errors,d,e)}if(ue.forEach(t=>{if(t.config.validateOn&&Array.isArray(t.config.validateOn)&&t.config.validateOn.indexOf(e+":blur")>-1){const e=ge(t.path,"blur",n,X),r=Object.assign({},X,e.errors);Q(r)}}),Array.isArray(ue)&&ue.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("blur")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(t.id)>-1&&me(e.config.id,e.config.dynamicOptions,n),void 0!==j&&e.config.disableAutoSave&&xf(r,e.path)}),(e=>{if(b){const t=[...L];t.length=z+1,t.push(a.default({data:e,isDirty:F,dirtyFields:T,errors:X})),t.length>m&&t.shift(),N(t),M(t.length-1)}})(n),void 0!==j)if("local"===j||"session"===j){const e=he(!1,n);0===Object.keys(e).length&&xa(d,{data:r,isDirty:F,dirtyFields:T},j)}else if("object"!=typeof j||"local"!==j.type&&"session"!==j.type){if("object"==typeof j&&"custom"===j.type&&"function"==typeof j.save){const e=he(!1,n);(j.validDataOnly&&0===Object.keys(e).length||!j.validDataOnly)&&j.save(d,{data:r,isDirty:F,dirtyFields:T})}}else{const e=he(!1,n);(j.validDataOnly&&0===Object.keys(e).length||!j.validDataOnly)&&xa(d,{data:r,isDirty:F,dirtyFields:T},j.type)}})(i)},s)):/*#__PURE__*/o.default.createElement(Gf,{config:e.config,render:t=>{let{fieldProps:n}=t;/*#__PURE__*/return o.default.createElement(e.render,n)},fields:l,id:i,onChange:(e,t)=>_e(i,e),onValidation:e=>be(i,e),parentRunValidation:W,data:k&&de(k,i),isVisible:u,isDisabled:f,validateOn:g});var p})(i.config,i.data,i.path);e&&Sf(t,i.path,e)}}),t},ke=(e,t,n,r)=>{if(!fe())return;const o=Object.assign({},k),i=Se(e),a=i&&i.min?Number(i.min):0,c=i&&i.max?Number(i.max):99999999999999;let l,s=de(o,e,[]),u=!1;if("last"===n&&(n=s.length-1),"last"===r&&(r=s.length-1),Pa()&&window.stagesLogging('On collection action "'+e+'"',D),"add"===t&&("string"==typeof n&&i.fields[n]?c>s.length&&s.push("function"==typeof i.setInitialData?i.setInitialData(s,o,n):{__typename:n}):c>s.length&&s.push("function"==typeof i.setInitialData?i.setInitialData(s,o):{}),u=!0),"remove"===t&&(a<s.length&&s.splice(n,1),u=!0),"move"===t&&"number"==typeof n&&"number"==typeof r&&n>-1&&r>-1){const[e]=s.splice(n,1);s.splice(r,0,e),u=!0}if("sort"===t&&s.length>0&&n&&(s=yf(s,n),u=!0),"duplicate"===t&&"number"==typeof n&&n>-1&&(s.splice(n+1,0,Object.assign({},s[n])),u=!0),i.sort&&i.sort.by&&(s=yf(s,i.sort.by),"desc"===i.sort.dir&&(s=s.reverse()),u=!0),"update"===t&&Array.isArray(n)?(u=!0,Sf(o,e,n)):Sf(o,e,s),u){const t=de(I,e),n=de(o,e);try{JSON.stringify(t)!==JSON.stringify(n)?(R(!0),T[e]={oldData:t,newData:n},P(T)):(delete T[e],Object.keys(T).forEach(t=>{t.startsWith(e)&&delete T[t]}),P(T),R(Object.keys(T).length>0))}catch(e){}}if(g.indexOf("collectionAction")>-1||i.validateOn&&i.validateOn.indexOf("collectionAction")>-1){const t=ge(e,"collectionAction",o,X);l=Object.assign({},X,t.errors),ue.forEach(t=>{if(t.path.startsWith(e)&&(g.indexOf("collectionAction")>-1||t.config.validateOn&&t.config.validateOn.indexOf("collectionAction")>-1)){const e=ge(t.path,"collectionAction",o,X);l=Object.assign({},X,e.errors)}}),Q(l)}Oe(o,l||he(),d,e)},De=(e,t,n)=>{const r=Object.assign({},ce),o=r[t],i=Se(t);if("step"===e&&(r[t]=n),"next"===e){const e=Ji(i.stages,{id:o})+1;i.stages[e]&&(r[t]=i.stages[e].id)}if("prev"===e){const e=Ji(i.stages,{id:o})-1;i.stages[e]&&(r[t]=i.stages[e].id)}"first"===e&&(r[t]=i.stages[0].id),"last"===e&&(r[t]=i.stages[i.stages.length-1].id),le(r)},Fe=function(e,t,n){void 0===n&&(n="step");const r=ce[e],o=Se(e),i=[];if("step"===n||"first"===n||"last"===n)return Object.keys(ce).forEach(r=>{r.startsWith(e)?("step"===n&&i.push(r+"."+t),"first"===n&&i.push(r+"."+o.stages[0].id),"last"===n&&i.push(r+"."+o.stages[o.stages.length-1].id)):i.push(r+"."+ce[r])}),"#!"+i.join(x||":");if("prev"===n){const t=Ji(o.stages,{id:r})-1;return!!o.stages[t]&&(Object.keys(ce).forEach(n=>{n.startsWith(e)?i.push(n+"."+o.stages[t].id):i.push(n+"."+ce[n])}),"#!"+i.join(x||":"))}if("next"===n){const t=Ji(o.stages,{id:r})+1;return!!o.stages[t]&&(Object.keys(ce).forEach(n=>{n.startsWith(e)?i.push(n+"."+o.stages[t].id):i.push(n+"."+ce[n])}),"#!"+i.join(x||":"))}return!1},Re=(e,t)=>ce[e]===t,Te=function(e,t,n){void 0===n&&(n=!1);const o=t.substring(2).split(x||":");let i="";if(o.forEach(t=>{t.startsWith(e+".")&&(i=t.substring(e.length+1))}),i){const t=Se(e),o=Ji(t.stages,{id:i});if(o>Ji(t.stages,{id:ce[e]})+1)return!0;if(n&&Re(e,i))return!0;for(let n=0;n<o;n++){const o=he(!1,r,e+"."+t.stages[n].id);if(Object.keys(o).length>0)return!0}}return!1},Pe=(e,t,r)=>{if(n.fieldConfigs&&"function"==typeof n.fieldConfigs[t]){const o=e.split(".");let i="";o.forEach(e=>{const t=i?de(se,i):se;if(e.endsWith("]")){const n=e.split("["),r=Ji(t,{id:n[0]});r>-1&&(i+="["+r+"].fields")}else{const n=Ji(t,{id:e});n>-1&&(i+="["+n+"].fields")}}),""!==i&&(ie.push({fields:n.fieldConfigs[t],path:i,action:r}),ae([...ie]))}},Ie=(e,t,n)=>{Pa()&&window.stagesLogging("Handle action click",D),n&&("local"!==j&&"session"!==j||Aa(d,j),"object"!=typeof j||"local"!==j.type&&"session"!==j.type||Aa(d,j.type),d&&"object"==typeof j&&"custom"===j.type&&"function"==typeof j.remove&&j.remove(d),Oe(I,he(),d),P({}),R(!1));const r=xe("action",k);let o=!1;if(Array.isArray(g)&&g.indexOf("action")>-1||Array.isArray(g)&&r.some(e=>g.indexOf(e)>-1)){t&&(U(!0),setTimeout(()=>U(!1),0));let e=t?he(!0):{};Q(e),Object.keys(e).length>0&&(o=!0)}o||e()},Ve=e=>{const t=tf(ue,{path:e});return t?t.config:void 0};return!1===u?null:i?i({actionProps:{handleActionClick:Ie,handleUndo:je,handleRedo:we,isDisabled:!!(Uf&&Object.keys(Uf).length>0)||f,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,silentlyGetValidationErrors:ve,updateData:function(e,t){void 0===t&&(t=[]);let n=!1,r={},o=Object.assign({},X);ue.forEach(i=>{if(!i.config.isInterfaceState){const t=de(e,i.path),o=de(I,i.path);t!==o&&(n=!0,void 0!==t&&(r[i.path]={oldData:o,newData:t}))}if(t.indexOf(i.path)>-1){const t=ge(i.path,"change",e,X);o=Object.assign({},o,t.errors)}}),Q(o),R(n),P(r),Oe(e,o,d)}},fieldProps:{fields:Ce(),onCollectionAction:ke,onWizardNav:De,getWizardNavHash:Fe,isWizardStepActive:Re,isWizardStepDisabled:Te,modifyConfig:Pe,data:r,interfaceState:_,errors:X,asyncData:K,isDirty:F,focusedField:te,lastFocusedField:re,dirtyFields:T,get:de,getConfig:Ve},loading:Z}):c?c(Ce()):null};function Jf(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}Gf.propTypes={config:xo.oneOfType([xo.object,xo.array,xo.func]).isRequired,data:xo.object,render:xo.oneOfType([xo.node,xo.func]),renderFields:xo.oneOfType([xo.node,xo.func]),fields:xo.object.isRequired,onChange:xo.func,isVisible:xo.bool,isDisabled:xo.bool,id:xo.oneOfType([xo.string,xo.number]),onValidation:xo.func,parentRunValidation:xo.bool,validateOn:xo.array,customRuleHandlers:xo.object,undoMaxDepth:xo.number,typeValidations:xo.object,fieldsets:xo.object,initialInterfaceState:xo.object},Gf.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1,validateOn:["action"],customRuleHandlers:{},undoMaxDepth:10,autoSave:!1,typeValidations:{},fieldsets:{},initialInterfaceState:{}};const Kf=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","hasFocus","prefix","suffix","secondaryText","type","errorRenderer"],Yf=e=>{let{id:t,label:n,value:r,onChange:i,onBlur:a,onFocus:c,error:l,placeholder:s,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:g,type:h,errorRenderer:v}=e;return Jf(e,Kf),/*#__PURE__*/o.default.createElement("div",null,n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,p?/*#__PURE__*/o.default.createElement("span",null,p):null,/*#__PURE__*/o.default.createElement("input",{id:t,name:t,value:void 0!==r?r:"number"===h?0:"",placeholder:s,type:h||"text",disabled:!!f,required:!!u,autoComplete:"password"===h?"current-password":"off",onChange:e=>{"function"==typeof i&&i(e.target.value)},onFocus:e=>{"function"==typeof c&&c()},onBlur:e=>{"function"==typeof a&&a()}}),y?/*#__PURE__*/o.default.createElement("span",null,y):null),g?/*#__PURE__*/o.default.createElement("div",null,g):null,l&&!d?v?v(l):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},Xf=(e,t)=>!t.isRequired||""!==e&&void 0!==e,Qf=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","type","errorRenderer"],Zf=["id","label","value","options","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],ed=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],td=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],nd=["id","label","error","isRequired","isValidating","secondaryText","errorRenderer"],rd={text:{component:Yf,isValid:Xf},number:{component:Yf,isValid:Xf},email:{component:Yf,isValid:Xf},password:{component:Yf,isValid:Xf},tel:{component:Yf,isValid:Xf},time:{component:Yf,isValid:Xf},date:{component:Yf,isValid:Xf},checkbox:{component:e=>{let{id:t,label:n,value:r,onChange:i,onBlur:a,onFocus:c,error:l,placeholder:s,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:g,type:h,errorRenderer:v}=e;return Jf(e,Qf),/*#__PURE__*/o.default.createElement("div",null,n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,u?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,p?/*#__PURE__*/o.default.createElement("span",null,p):null,/*#__PURE__*/o.default.createElement("input",{id:t,name:t,value:"1",placeholder:s,type:h,disabled:!!f,required:!!u,checked:!!r,onChange:()=>{},onClick:e=>{"function"==typeof i&&i(!!e.target.checked)},onBlur:e=>{"function"==typeof a&&a()},onFocus:e=>{"function"==typeof c&&c()}}),y?/*#__PURE__*/o.default.createElement("span",null,y):null),g?/*#__PURE__*/o.default.createElement("div",null,g):null,l&&!d?v?v(l):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:t,label:n,value:r,options:i,onChange:a,onBlur:c,onFocus:l,error:s,placeholder:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=e;return Jf(e,Zf),/*#__PURE__*/o.default.createElement("div",null,n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,f?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,y?/*#__PURE__*/o.default.createElement("span",null,y):null,/*#__PURE__*/o.default.createElement("select",{id:t,name:t,value:void 0===r?"":r,placeholder:u,disabled:!!d,required:!!f,onChange:e=>{"function"==typeof a&&a(e.target.value)},onBlur:e=>{"function"==typeof c&&c()},onFocus:e=>{"function"==typeof l&&l()}},i.map(e=>/*#__PURE__*/o.default.createElement("option",{value:e.value,key:e.value,disabled:!!e.disabled||null},e.text))),g?/*#__PURE__*/o.default.createElement("span",null,g):null),h?/*#__PURE__*/o.default.createElement("div",null,h):null,s&&!p?v?v(s):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:t=>{let{id:n,label:r,value:i,options:a,onChange:c,onBlur:l,onFocus:s,error:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=t;return Jf(t,ed),/*#__PURE__*/o.default.createElement("div",{id:n},r?/*#__PURE__*/o.default.createElement("label",null,r,f?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,y?/*#__PURE__*/o.default.createElement("span",null,y):null,a.map(t=>/*#__PURE__*/o.default.createElement(e.Fragment,{key:n+"-"+t.value},/*#__PURE__*/o.default.createElement("input",{type:"radio",name:n,id:n+"-"+t.value,value:t.value,checked:i===t.value,disabled:!!d,onChange:()=>{},onClick:e=>{"function"==typeof c&&c(t.value)},onBlur:e=>{"function"==typeof l&&l()},onFocus:e=>{"function"==typeof s&&s()}}),/*#__PURE__*/o.default.createElement("label",{htmlFor:n+"-"+t.value},t.text)," ")),g?/*#__PURE__*/o.default.createElement("span",null,g):null),h?/*#__PURE__*/o.default.createElement("div",null,h):null,u&&!p?v?v(u):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},checkboxGroup:{component:t=>{let{id:n,label:r,value:i,options:a,onChange:c,onBlur:l,onFocus:s,error:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=t;return Jf(t,td),/*#__PURE__*/o.default.createElement("div",{id:n},r?/*#__PURE__*/o.default.createElement("label",null,r,f?" *":""):null,/*#__PURE__*/o.default.createElement("div",null,y?/*#__PURE__*/o.default.createElement("span",null,y):null,a.map(t=>/*#__PURE__*/o.default.createElement(e.Fragment,{key:n+"-"+t.value},/*#__PURE__*/o.default.createElement("input",{type:"checkbox",name:n,id:n+"-"+t.value,value:t.value,checked:Array.isArray(i)&&-1!==i.indexOf(t.value),disabled:!!d,onChange:()=>{},onClick:e=>{if("function"==typeof c){const e=Array.isArray(i)?[...i]:[];-1===e.indexOf(t.value)?e.push(t.value):e.splice(e.indexOf(t.value),1),c(e)}},onBlur:e=>{"function"==typeof l&&l()},onFocus:e=>{"function"==typeof s&&s()}}),/*#__PURE__*/o.default.createElement("label",{htmlFor:n+"-"+t.value},t.text)," ")),g?/*#__PURE__*/o.default.createElement("span",null,g):null),h?/*#__PURE__*/o.default.createElement("div",null,h):null,u&&!p?v?v(u):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},dummy:{component:e=>{let{id:t,label:n,error:r,isRequired:i,isValidating:a,secondaryText:c,errorRenderer:l}=e;return Jf(e,nd),n||c||r?/*#__PURE__*/o.default.createElement("div",{id:t},n?/*#__PURE__*/o.default.createElement("label",{htmlFor:t},n,i?" *":""):null,c?/*#__PURE__*/o.default.createElement("div",null,c):null,r&&!a?l?l(r):/*#__PURE__*/o.default.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,a?/*#__PURE__*/o.default.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null):null},isValid:()=>!0}};exports.Actions=e=>{let{config:t,handleActionClick:n,isDisabled:r}=e;/*#__PURE__*/return o.default.createElement(o.default.Fragment,null,t.map((e,t)=>/*#__PURE__*/o.default.createElement("button",{type:"button",onClick:()=>n(e.onClick,e.validate),key:"action-"+t,disabled:r},"primary"===e.type?/*#__PURE__*/o.default.createElement("strong",null,e.title):e.title)))},exports.Debugger=()=>{const[t,n]=e.useState({}),[r,a]=e.useState({}),[c,l]=e.useState({}),[s,u]=e.useState({}),[f,d]=e.useState(!1),p=(e,o)=>{if("string"==typeof e)r[o]||(r[o]=[]),r[o].push({action:e,time:+new Date}),a(r);else{const r=Object.assign(t,{}),o=Object.keys(r)[0];r[e.id]=e,n(Object.assign({},r)),l(e=>({key:e.key?e.key:o,tab:e.tab?e.tab:"data"}))}};return e.useEffect(()=>{"undefined"!=typeof window&&(window.stagesLogging=p)},[]),0===Object.keys(t).length?null:/*#__PURE__*/o.default.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",width:"320px",padding:"8px",fontSize:"14px",color:"#333",border:"1px #bbb solid",borderRadius:"4px",background:"#fbfbfb",fontFamily:"Open Sans, Helvetica, Arial, sans",zIndex:1e3}},/*#__PURE__*/o.default.createElement("strong",{style:{lineHeight:"22px"}},"Debugger:"),/*#__PURE__*/o.default.createElement("button",{type:"button",style:{float:"right"},onClick:()=>d(!f)},f?"hide":"show"),f?Object.keys(t).map(e=>{const n=e.split("-");n.pop();let a="";return a="logs"===c.tab?r[c.key]?r[c.key].map(e=>e.time+": "+e.action).join("\n"):"":i.default(s[e]?de(t[c.key][c.tab],s[e]||""):t[c.key][c.tab],null,2),/*#__PURE__*/o.default.createElement("div",{key:e+"-"+c.tab},/*#__PURE__*/o.default.createElement("h3",{style:{background:"#333",color:"#fff",margin:"8px 0 0 0",padding:"2px 6px",textTransform:"capitalize",position:"relative"}},n.join(" "),":",t[e].isDirty?/*#__PURE__*/o.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"4px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"dirty"):null,Object.keys(t[e].errors).length?/*#__PURE__*/o.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"48px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"errors"):null,t[e].loading?/*#__PURE__*/o.default.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"98px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"loading"):null),/*#__PURE__*/o.default.createElement("div",null,/*#__PURE__*/o.default.createElement("select",{onChange:t=>l({key:e,tab:t.target.value}),value:c.key===e?c.tab:"data",style:{width:"47%",minWidth:"47%",maxWidth:"47%",marginRight:"2%",height:"25px"}},t[e].keys?/*#__PURE__*/o.default.createElement(o.default.Fragment,null,/*#__PURE__*/o.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/o.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/o.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/o.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/o.default.createElement("option",{value:"keys"},"Keys"),/*#__PURE__*/o.default.createElement("option",{value:"logs"},"Logs")):/*#__PURE__*/o.default.createElement(o.default.Fragment,null,/*#__PURE__*/o.default.createElement("option",{value:"data"},"Data"),/*#__PURE__*/o.default.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/o.default.createElement("option",{value:"parsedFieldConfig"},"Field Config"),/*#__PURE__*/o.default.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/o.default.createElement("option",{value:"interfaceState"},"Interface State"),/*#__PURE__*/o.default.createElement("option",{value:"undoData"},"Undo Data"),/*#__PURE__*/o.default.createElement("option",{value:"asyncData"},"Async Data"),/*#__PURE__*/o.default.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/o.default.createElement("option",{value:"fieldPaths"},"Field Paths"),/*#__PURE__*/o.default.createElement("option",{value:"logs"},"Logs"))),/*#__PURE__*/o.default.createElement("input",{value:s[e]||"",placeholder:"your.data.filter.path",onChange:t=>{const n=Object.assign({},s);n[e]=t.target.value,u(n)},style:{width:"47%",minWidth:"47%",maxWidth:"47%",fontSize:"12px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"4px",padding:"4px",overflowX:"scroll",whiteSpace:"pre"}})),c&&c.key===e?/*#__PURE__*/o.default.createElement("textarea",{readOnly:!0,style:{width:"calc(100% - 8px)",minWidth:"calc(100% - 8px)",maxWidth:"calc(100% - 8px)",height:"200px",fontSize:"10px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"8px",overflowX:"scroll",whiteSpace:"pre"},value:a}):null)}):null)},exports.Form=Gf,exports.HashRouter=t=>{let{step:n,onChange:r,keys:o,prefix:i,hashFormat:a="#!"}=t;const[c,l]=(()=>{const[t,n]=e.useState(()=>window.location.hash),r=e.useCallback(()=>{n(window.location.hash)},[]);var o,i;o=()=>{!function(e){e&&e.addEventListener&&e.addEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},i=()=>{!function(e){e&&e.removeEventListener&&e.removeEventListener(...[].slice.call(arguments,1))}(window,"hashchange",r)},e.useEffect(()=>(o&&o(),()=>{i&&i()}),[]);const a=e.useCallback(e=>{e!==t&&(window.location.hash=e)},[t]);return[t,a]})(),[s,u]=e.useState(!1),f=e=>o&&o[e]?o[e].key:i?i+"-"+e:e,d=()=>{if("string"==typeof c&&-1!==c.indexOf(a)){const e=(e=>{const t=e.split(a);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):Ji(o,{key:e})}return-1})(c);-1!==e&&("function"==typeof l&&l(""+a+f(e)),r(e))}else"function"==typeof l&&l(""+a+f(n))};return e.useEffect(()=>{s&&d()},[c]),e.useEffect(()=>{s&&"function"==typeof l&&l(""+a+f(n))},[n]),p=()=>{d(),u(!0)},e.useEffect(()=>{p()},[]),null;var p},exports.Navigation=e=>{let{currentStep:t,onChangeStep:n,lastValidStep:r,keys:i}=e;const a=[];for(let e=0;e<i.length;e++)if(i&&i[e]&&i[e].visible){const c=i&&i[e]?i[e].key:"Step "+(e+1);a.push(t===e?/*#__PURE__*/o.default.createElement("li",{key:c,style:{textTransform:"capitalize"}},/*#__PURE__*/o.default.createElement("strong",null,c)):/*#__PURE__*/o.default.createElement("li",r>-1&&r+1<e||-1===r&&e>0?{key:c,style:{color:"#999",textTransform:"capitalize"}}:{key:c,style:{textTransform:"capitalize"},onClick:()=>n(e)},c))}/*#__PURE__*/return o.default.createElement("ul",null,a)},exports.Progression=e=>{let{stepCount:t,validSteps:n,percentage:r}=e;/*#__PURE__*/return o.default.createElement("div",null,n+" / "+t+" ("+Math.round(r)+"%)")},exports.Stages=Ia,exports.get=de,exports.plainFields=rd;
//# sourceMappingURL=lib.js.map

import e from"lodash/get";export{default as get}from"lodash/get";import t,{useState as n,useEffect as r,useCallback as i,useRef as o,Fragment as a}from"react";import s from"lodash/findindex";import c from"json-beautify";import l from"lodash/find";import u from"lodash/sortby";import f from"lodash/uniqwith";import d from"lodash/isequal";import p from"lodash/set";import y from"lodash/unset";import g from"lodash/merge";import h from"fast-json-stable-stringify";var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function m(e){var t={exports:{}};return e(t,t.exports),t.exports}var b,O,E=function(e){return e&&e.Math===Math&&e},w=E("object"==typeof globalThis&&globalThis)||E("object"==typeof window&&window)||E("object"==typeof self&&self)||E("object"==typeof v&&v)||E("object"==typeof v&&v)||function(){return this}()||Function("return this")(),S=function(e){try{return!!e()}catch(e){return!0}},x=!S(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),j=!S(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),A=Function.prototype.call,C=j?A.bind(A):function(){return A.apply(A,arguments)},D={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,F=k&&!D.call({1:2},1)?function(e){var t=k(this,e);return!!t&&t.enumerable}:D,R={f:F},T=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},P=Function.prototype,I=P.call,V=j&&P.bind.bind(I,I),L=j?V:function(e){return function(){return I.apply(e,arguments)}},N=L({}.toString),_=L("".slice),M=function(e){return _(N(e),8,-1)},W=Object,q=L("".split),U=S(function(){return!W("z").propertyIsEnumerable(0)})?function(e){return"String"===M(e)?q(e,""):W(e)}:W,z=function(e){return null==e},B=TypeError,$=function(e){if(z(e))throw new B("Can't call method on "+e);return e},H=function(e){return U($(e))},G="object"==typeof document&&document.all,J=void 0===G&&void 0!==G?function(e){return"function"==typeof e||e===G}:function(e){return"function"==typeof e},K=function(e){return"object"==typeof e?null!==e:J(e)},Y=function(e,t){return arguments.length<2?J(n=w[e])?n:void 0:w[e]&&w[e][t];var n},X=L({}.isPrototypeOf),Q="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Z=w.process,ee=w.Deno,te=Z&&Z.versions||ee&&ee.version,ne=te&&te.v8;ne&&(O=(b=ne.split("."))[0]>0&&b[0]<4?1:+(b[0]+b[1])),!O&&Q&&(!(b=Q.match(/Edge\/(\d+)/))||b[1]>=74)&&(b=Q.match(/Chrome\/(\d+)/))&&(O=+b[1]);var re=O,ie=w.String,oe=!!Object.getOwnPropertySymbols&&!S(function(){var e=Symbol("symbol detection");return!ie(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&re&&re<41}),ae=oe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,se=Object,ce=ae?function(e){return"symbol"==typeof e}:function(e){var t=Y("Symbol");return J(t)&&X(t.prototype,se(e))},le=String,ue=function(e){try{return le(e)}catch(e){return"Object"}},fe=TypeError,de=function(e){if(J(e))return e;throw new fe(ue(e)+" is not a function")},pe=function(e,t){var n=e[t];return z(n)?void 0:de(n)},ye=TypeError,ge=Object.defineProperty,he=function(e,t){try{ge(w,e,{value:t,configurable:!0,writable:!0})}catch(n){w[e]=t}return t},ve="__core-js_shared__",me=w[ve]||he(ve,{}),be=m(function(e){(e.exports=function(e,t){return me[e]||(me[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),Oe=Object,Ee=function(e){return Oe($(e))},we=L({}.hasOwnProperty),Se=Object.hasOwn||function(e,t){return we(Ee(e),t)},xe=0,je=Math.random(),Ae=L(1..toString),Ce=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ae(++xe+je,36)},De=w.Symbol,ke=be("wks"),Fe=ae?De.for||De:De&&De.withoutSetter||Ce,Re=function(e){return Se(ke,e)||(ke[e]=oe&&Se(De,e)?De[e]:Fe("Symbol."+e)),ke[e]},Te=TypeError,Pe=Re("toPrimitive"),Ie=function(e){var t=function(e,t){if(!K(e)||ce(e))return e;var n,r=pe(e,Pe);if(r){if(void 0===t&&(t="default"),n=C(r,e,t),!K(n)||ce(n))return n;throw new Te("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&J(n=e.toString)&&!K(r=C(n,e)))return r;if(J(n=e.valueOf)&&!K(r=C(n,e)))return r;if("string"!==t&&J(n=e.toString)&&!K(r=C(n,e)))return r;throw new ye("Can't convert object to primitive value")}(e,t)}(e,"string");return ce(t)?t:t+""},Ve=w.document,Le=K(Ve)&&K(Ve.createElement),Ne=function(e){return Le?Ve.createElement(e):{}},_e=!x&&!S(function(){return 7!==Object.defineProperty(Ne("div"),"a",{get:function(){return 7}}).a}),Me=Object.getOwnPropertyDescriptor,We={f:x?Me:function(e,t){if(e=H(e),t=Ie(t),_e)try{return Me(e,t)}catch(e){}if(Se(e,t))return T(!C(R.f,e,t),e[t])}},qe=x&&S(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ue=String,ze=TypeError,Be=function(e){if(K(e))return e;throw new ze(Ue(e)+" is not an object")},$e=TypeError,He=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,Je="enumerable",Ke="configurable",Ye="writable",Xe={f:x?qe?function(e,t,n){if(Be(e),t=Ie(t),Be(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Ye in n&&!n[Ye]){var r=Ge(e,t);r&&r[Ye]&&(e[t]=n.value,n={configurable:Ke in n?n[Ke]:r[Ke],enumerable:Je in n?n[Je]:r[Je],writable:!1})}return He(e,t,n)}:He:function(e,t,n){if(Be(e),t=Ie(t),Be(n),_e)try{return He(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new $e("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Qe=x?function(e,t,n){return Xe.f(e,t,T(1,n))}:function(e,t,n){return e[t]=n,e},Ze=Function.prototype,et=x&&Object.getOwnPropertyDescriptor,tt=Se(Ze,"name"),nt={EXISTS:tt,PROPER:tt&&"something"===function(){}.name,CONFIGURABLE:tt&&(!x||x&&et(Ze,"name").configurable)},rt=L(Function.toString);J(me.inspectSource)||(me.inspectSource=function(e){return rt(e)});var it,ot,at,st=me.inspectSource,ct=w.WeakMap,lt=J(ct)&&/native code/.test(String(ct)),ut=be("keys"),ft=function(e){return ut[e]||(ut[e]=Ce(e))},dt={},pt="Object already initialized",yt=w.TypeError;if(lt||me.state){var gt=me.state||(me.state=new(0,w.WeakMap));gt.get=gt.get,gt.has=gt.has,gt.set=gt.set,it=function(e,t){if(gt.has(e))throw new yt(pt);return t.facade=e,gt.set(e,t),t},ot=function(e){return gt.get(e)||{}},at=function(e){return gt.has(e)}}else{var ht=ft("state");dt[ht]=!0,it=function(e,t){if(Se(e,ht))throw new yt(pt);return t.facade=e,Qe(e,ht,t),t},ot=function(e){return Se(e,ht)?e[ht]:{}},at=function(e){return Se(e,ht)}}var vt={set:it,get:ot,has:at,enforce:function(e){return at(e)?ot(e):it(e,{})},getterFor:function(e){return function(t){var n;if(!K(t)||(n=ot(t)).type!==e)throw new yt("Incompatible receiver, "+e+" required");return n}}},mt=m(function(e){var t=nt.CONFIGURABLE,n=vt.enforce,r=vt.get,i=String,o=Object.defineProperty,a=L("".slice),s=L("".replace),c=L([].join),l=x&&!S(function(){return 8!==o(function(){},"length",{value:8}).length}),u=String(String).split("String"),f=e.exports=function(e,r,f){"Symbol("===a(i(r),0,7)&&(r="["+s(i(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),f&&f.getter&&(r="get "+r),f&&f.setter&&(r="set "+r),(!Se(e,"name")||t&&e.name!==r)&&(x?o(e,"name",{value:r,configurable:!0}):e.name=r),l&&f&&Se(f,"arity")&&e.length!==f.arity&&o(e,"length",{value:f.arity});try{f&&Se(f,"constructor")&&f.constructor?x&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var d=n(e);return Se(d,"source")||(d.source=c(u,"string"==typeof r?r:"")),e};Function.prototype.toString=f(function(){return J(this)&&r(this).source||st(this)},"toString")}),bt=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(J(n)&&mt(n,o,r),r.global)i?e[t]=n:he(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:Xe.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Ot=Math.ceil,Et=Math.floor,wt=Math.trunc||function(e){var t=+e;return(t>0?Et:Ot)(t)},St=function(e){var t=+e;return t!=t||0===t?0:wt(t)},xt=Math.max,jt=Math.min,At=Math.min,Ct=function(e){var t=St(e);return t>0?At(t,9007199254740991):0},Dt=function(e){return Ct(e.length)},kt=function(e){return function(t,n,r){var i,o=H(t),a=Dt(o),s=function(e,t){var n=St(e);return n<0?xt(n+t,0):jt(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Ft=(kt(!0),kt(!1)),Rt=L([].push),Tt=function(e,t){var n,r=H(e),i=0,o=[];for(n in r)!Se(dt,n)&&Se(r,n)&&Rt(o,n);for(;t.length>i;)Se(r,n=t[i++])&&(~Ft(o,n)||Rt(o,n));return o},Pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],It=Pt.concat("length","prototype"),Vt={f:Object.getOwnPropertyNames||function(e){return Tt(e,It)}},Lt={f:Object.getOwnPropertySymbols},Nt=L([].concat),_t=Y("Reflect","ownKeys")||function(e){var t=Vt.f(Be(e)),n=Lt.f;return n?Nt(t,n(e)):t},Mt=function(e,t,n){for(var r=_t(t),i=Xe.f,o=We.f,a=0;a<r.length;a++){var s=r[a];Se(e,s)||n&&Se(n,s)||i(e,s,o(t,s))}},Wt=/#|\.prototype\./,qt=function(e,t){var n=zt[Ut(e)];return n===$t||n!==Bt&&(J(t)?S(t):!!t)},Ut=qt.normalize=function(e){return String(e).replace(Wt,".").toLowerCase()},zt=qt.data={},Bt=qt.NATIVE="N",$t=qt.POLYFILL="P",Ht=qt,Gt=We.f,Jt=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,l=e.stat;if(n=c?w:l?w[s]||he(s,{}):w[s]&&w[s].prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=Gt(n,r))&&a.value:n[r],!Ht(c?r:s+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Mt(o,i)}(e.sham||i&&i.sham)&&Qe(o,"sham",!0),bt(n,r,o,e)}},Kt=Object.keys||function(e){return Tt(e,Pt)},Yt=Object.assign,Xt=Object.defineProperty,Qt=L([].concat),Zt=!Yt||S(function(){if(x&&1!==Yt({b:1},Yt(Xt({},"a",{enumerable:!0,get:function(){Xt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!==Yt({},e)[n]||Kt(Yt({},t)).join("")!==r})?function(e,t){for(var n=Ee(e),r=arguments.length,i=1,o=Lt.f,a=R.f;r>i;)for(var s,c=U(arguments[i++]),l=o?Qt(Kt(c),o(c)):Kt(c),u=l.length,f=0;u>f;)s=l[f++],x&&!C(a,c,s)||(n[s]=c[s]);return n}:Yt;Jt({target:"Object",stat:!0,arity:2,forced:Object.assign!==Zt},{assign:Zt});var en,tn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},nn=Ne("span").classList,rn=nn&&nn.constructor&&nn.constructor.prototype,on=rn===Object.prototype?void 0:rn,an=x&&!qe?Object.defineProperties:function(e,t){Be(e);for(var n,r=H(t),i=Kt(t),o=i.length,a=0;o>a;)Xe.f(e,n=i[a++],r[n]);return e},sn={f:an},cn=Y("document","documentElement"),ln="prototype",un="script",fn=ft("IE_PROTO"),dn=function(){},pn=function(e){return"<"+un+">"+e+"</"+un+">"},yn=function(e){e.write(pn("")),e.close();var t=e.parentWindow.Object;return e=null,t},gn=function(){try{en=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;gn="undefined"!=typeof document?document.domain&&en?yn(en):(t=Ne("iframe"),n="java"+un+":",t.style.display="none",cn.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(pn("document.F=Object")),e.close(),e.F):yn(en);for(var r=Pt.length;r--;)delete gn[ln][Pt[r]];return gn()};dt[fn]=!0;var hn=Object.create||function(e,t){var n;return null!==e?(dn[ln]=Be(e),n=new dn,dn[ln]=null,n[fn]=e):n=gn(),void 0===t?n:sn.f(n,t)},vn=Xe.f,mn=Re("unscopables"),bn=Array.prototype;void 0===bn[mn]&&vn(bn,mn,{configurable:!0,value:hn(null)});var On,En,wn,Sn=function(e){bn[mn][e]=!0},xn={},jn=!S(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),An=ft("IE_PROTO"),Cn=Object,Dn=Cn.prototype,kn=jn?Cn.getPrototypeOf:function(e){var t=Ee(e);if(Se(t,An))return t[An];var n=t.constructor;return J(n)&&t instanceof n?n.prototype:t instanceof Cn?Dn:null},Fn=Re("iterator"),Rn=!1;[].keys&&("next"in(wn=[].keys())?(En=kn(kn(wn)))!==Object.prototype&&(On=En):Rn=!0);var Tn=!K(On)||S(function(){var e={};return On[Fn].call(e)!==e});Tn&&(On={}),J(On[Fn])||bt(On,Fn,function(){return this});var Pn={IteratorPrototype:On,BUGGY_SAFARI_ITERATORS:Rn},In=Xe.f,Vn=Re("toStringTag"),Ln=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Se(e,Vn)&&In(e,Vn,{configurable:!0,value:t})},Nn=Pn.IteratorPrototype,_n=function(){return this},Mn=String,Wn=TypeError,qn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=function(e,t,n){try{return L(de(Object.getOwnPropertyDescriptor(e,"__proto__").set))}catch(e){}}(Object.prototype))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Be(n),function(e){if(function(e){return K(e)||null===e}(e))return e;throw new Wn("Can't set "+Mn(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Un=nt.PROPER,zn=nt.CONFIGURABLE,Bn=Pn.IteratorPrototype,$n=Pn.BUGGY_SAFARI_ITERATORS,Hn=Re("iterator"),Gn="keys",Jn="values",Kn="entries",Yn=function(){return this},Xn=function(e,t){return{value:e,done:t}},Qn=Xe.f,Zn="Array Iterator",er=vt.set,tr=vt.getterFor(Zn),nr=function(e,t,n,r,i,o,a){!function(e,t,n,r){var i=t+" Iterator";e.prototype=hn(Nn,{next:T(1,function(){var e=tr(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,Xn(void 0,!0);switch(e.kind){case"keys":return Xn(n,!1);case"values":return Xn(t[n],!1)}return Xn([n,t[n]],!1)})}),Ln(e,i,!1),xn[i]=_n}(n,t);var s,c,l,u=function(e){if(e===i&&g)return g;if(!$n&&e&&e in p)return p[e];switch(e){case Gn:case Jn:case Kn:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,p=e.prototype,y=p[Hn]||p["@@iterator"]||i&&p[i],g=!$n&&y||u(i),h=p.entries||y;if(h&&(s=kn(h.call(new e)))!==Object.prototype&&s.next&&(kn(s)!==Bn&&(qn?qn(s,Bn):J(s[Hn])||bt(s,Hn,Yn)),Ln(s,f,!0)),Un&&y&&y.name!==Jn&&(zn?Qe(p,"name",Jn):(d=!0,g=function(){return C(y,this)})),i)if(void(c={values:u(Jn),keys:u(Gn),entries:u(Kn)}))for(l in c)($n||d||!(l in p))&&bt(p,l,c[l]);else Jt({target:t,proto:!0,forced:$n||d},c);return p[Hn]!==g&&bt(p,Hn,g,{name:i}),xn[t]=g,c}(Array,"Array",function(e,t){er(this,{type:Zn,target:H(e),index:0,kind:t})},0,"values"),rr=xn.Arguments=xn.Array;if(Sn("keys"),Sn("values"),Sn("entries"),x&&"values"!==rr.name)try{Qn(rr,"name",{value:"values"})}catch(e){}var ir=Re("iterator"),or=nr.values,ar=function(e,t){if(e){if(e[ir]!==or)try{Qe(e,ir,or)}catch(t){e[ir]=or}if(Ln(e,t,!0),tn[t])for(var n in nr)if(e[n]!==nr[n])try{Qe(e,n,nr[n])}catch(t){e[n]=nr[n]}}};for(var sr in tn)ar(w[sr]&&w[sr].prototype,sr);ar(on,"DOMTokenList");var cr="function"==typeof Symbol&&Symbol.for,lr=cr?Symbol.for("react.element"):60103,ur=cr?Symbol.for("react.portal"):60106,fr=cr?Symbol.for("react.fragment"):60107,dr=cr?Symbol.for("react.strict_mode"):60108,pr=cr?Symbol.for("react.profiler"):60114,yr=cr?Symbol.for("react.provider"):60109,gr=cr?Symbol.for("react.context"):60110,hr=cr?Symbol.for("react.async_mode"):60111,vr=cr?Symbol.for("react.concurrent_mode"):60111,mr=cr?Symbol.for("react.forward_ref"):60112,br=cr?Symbol.for("react.suspense"):60113,Or=cr?Symbol.for("react.suspense_list"):60120,Er=cr?Symbol.for("react.memo"):60115,wr=cr?Symbol.for("react.lazy"):60116,Sr=cr?Symbol.for("react.block"):60121,xr=cr?Symbol.for("react.fundamental"):60117,jr=cr?Symbol.for("react.responder"):60118,Ar=cr?Symbol.for("react.scope"):60119;function Cr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case lr:switch(e=e.type){case hr:case vr:case fr:case pr:case dr:case br:return e;default:switch(e=e&&e.$$typeof){case gr:case mr:case wr:case Er:case yr:return e;default:return t}}case ur:return t}}}function Dr(e){return Cr(e)===vr}var kr={AsyncMode:hr,ConcurrentMode:vr,ContextConsumer:gr,ContextProvider:yr,Element:lr,ForwardRef:mr,Fragment:fr,Lazy:wr,Memo:Er,Portal:ur,Profiler:pr,StrictMode:dr,Suspense:br,isAsyncMode:function(e){return Dr(e)||Cr(e)===hr},isConcurrentMode:Dr,isContextConsumer:function(e){return Cr(e)===gr},isContextProvider:function(e){return Cr(e)===yr},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===lr},isForwardRef:function(e){return Cr(e)===mr},isFragment:function(e){return Cr(e)===fr},isLazy:function(e){return Cr(e)===wr},isMemo:function(e){return Cr(e)===Er},isPortal:function(e){return Cr(e)===ur},isProfiler:function(e){return Cr(e)===pr},isStrictMode:function(e){return Cr(e)===dr},isSuspense:function(e){return Cr(e)===br},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===fr||e===vr||e===pr||e===dr||e===br||e===Or||"object"==typeof e&&null!==e&&(e.$$typeof===wr||e.$$typeof===Er||e.$$typeof===yr||e.$$typeof===gr||e.$$typeof===mr||e.$$typeof===xr||e.$$typeof===jr||e.$$typeof===Ar||e.$$typeof===Sr)},typeOf:Cr};function Fr(){}function Rr(){}m(function(e,t){}),m(function(e){e.exports=kr}),Rr.resetWarningCache=Fr;var Tr=m(function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rr,resetWarningCache:Fr};return n.PropTypes=n,n}()}),Pr=Function.prototype,Ir=Pr.apply,Vr=Pr.call,Lr="object"==typeof Reflect&&Reflect.apply||(j?Vr.bind(Ir):function(){return Vr.apply(Ir,arguments)}),Nr=L([].slice),_r=Array.isArray||function(e){return"Array"===M(e)},Mr={};Mr[Re("toStringTag")]="z";var Wr="[object z]"===String(Mr),qr=Re("toStringTag"),Ur=Object,zr="Arguments"===M(function(){return arguments}()),Br=Wr?M:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Ur(e),qr))?n:zr?M(t):"Object"===(r=M(t))&&J(t.callee)?"Arguments":r},$r=String,Hr=function(e){if("Symbol"===Br(e))throw new TypeError("Cannot convert a Symbol value to a string");return $r(e)},Gr=L([].push),Jr=String,Kr=Y("JSON","stringify"),Yr=L(/./.exec),Xr=L("".charAt),Qr=L("".charCodeAt),Zr=L("".replace),ei=L(1..toString),ti=/[\uD800-\uDFFF]/g,ni=/^[\uD800-\uDBFF]$/,ri=/^[\uDC00-\uDFFF]$/,ii=!oe||S(function(){var e=Y("Symbol")("stringify detection");return"[null]"!==Kr([e])||"{}"!==Kr({a:e})||"{}"!==Kr(Object(e))}),oi=S(function(){return'"\\udf06\\ud834"'!==Kr("\udf06\ud834")||'"\\udead"'!==Kr("\udead")}),ai=function(e,t){var n=Nr(arguments),r=function(e){if(J(e))return e;if(_r(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?Gr(n,i):"number"!=typeof i&&"Number"!==M(i)&&"String"!==M(i)||Gr(n,Hr(i))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(_r(this))return t;for(var r=0;r<o;r++)if(n[r]===e)return t}}}(t);if(J(r)||void 0!==e&&!ce(e))return n[1]=function(e,t){if(J(r)&&(t=C(r,this,Jr(e),t)),!ce(t))return t},Lr(Kr,null,n)},si=function(e,t,n){var r=Xr(n,t-1),i=Xr(n,t+1);return Yr(ni,e)&&!Yr(ri,i)||Yr(ri,e)&&!Yr(ni,r)?"\\u"+ei(Qr(e,0),16):e};Kr&&Jt({target:"JSON",stat:!0,arity:3,forced:ii||oi},{stringify:function(e,t,n){var r=Nr(arguments),i=Lr(ii?ai:Kr,null,r);return oi&&"string"==typeof i?Zr(i,ti,si):i}});const ci=function(e,t,n){if(void 0===n&&(n="stages-form-"),"local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage){const t=localStorage.getItem(""+n+e)||"{}";let r={};try{r=JSON.parse(t)}catch(e){}return r}return{}},li=function(e,t,n,r){if(void 0===t&&(t={}),void 0===r&&(r="stages-form-"),("local"===n&&"undefined"!=typeof localStorage||"session"===n&&"undefined"!=typeof sessionStorage)&&"object"==typeof t){let n="{}";try{n=JSON.stringify(t)}catch(e){}localStorage.setItem(""+r+e,n)}},ui=function(e,t,n){void 0===n&&(n="stages-form-"),("local"===t&&"undefined"!=typeof localStorage||"session"===t&&"undefined"!=typeof sessionStorage)&&localStorage.removeItem(""+n+e)};var fi=function(){var e=Be(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},di=RegExp.prototype,pi=function(e){var t=e.flags;return void 0!==t||"flags"in di||Se(e,"flags")||!X(di,e)?t:C(fi,e)},yi=nt.PROPER,gi="toString",hi=RegExp.prototype,vi=hi[gi];(S(function(){return"/a/b"!==vi.call({source:"a",flags:"b"})})||yi&&vi.name!==gi)&&bt(hi,gi,function(){var e=Be(this);return"/"+Hr(e.source)+"/"+Hr(pi(e))},{unsafe:!0});const mi=()=>"undefined"!=typeof window&&"function"==typeof window.stagesLogging,bi=e=>{let{children:t,initialData:i,initialStep:o,render:a,validateOnStepChange:c,onChange:l,autoSave:u,id:f}=e;const[d]=n("stages-"+(f||+new Date)),[p,y]=n((()=>{if(!f||"local"!==u&&"session"!==u&&("object"!=typeof u||"local"!==u.type&&"session"!==u.type)){if(f&&"object"==typeof u&&"custom"===u.type&&"function"==typeof u.get){const e=u.get(f);if(Object.keys(e).length>0)return e}}else{const e=ci(f,"object"==typeof u?u.type:u);if(Object.keys(e).length>0)return e}return i})()),[g,h]=n([]),[v,m]=n({}),[b,O]=n(o||0),[E,w]=n([]),S=e=>{const t=E&&E[e]?E[e].key:e;return p&&p[t]?p[t]:{}},x=(e,t)=>(E[t]||(E[t]={key:e,visible:!0},w([...E])),e),j=(e,t,n)=>{const r=Object.assign({},p),i=E&&E[n]?E[n].key:n;mi()&&window.stagesLogging('Handle onChange for "'+i+'"',d),v[n]=t,m(Object.assign({},v)),r[i]=e,p[i]=e,y(Object.assign({},r)),"function"==typeof l&&l({data:r,errors:v}),f&&("local"===u||"session"===u?0===Object.keys(v).length&&li(f,r,u):"object"!=typeof u||"local"!==u.type&&"session"!==u.type?f&&"object"==typeof u&&"custom"===u.type&&"function"==typeof u.save&&(u.validDataOnly&&0===Object.keys(v).length||!u.validDataOnly)&&u.save(f,r):(u.validDataOnly&&0===Object.keys(v).length||!u.validDataOnly)&&li(f,r,u.type))},A=()=>{f&&("local"!==u&&"session"!==u||ui(f,u),"object"!=typeof u||"local"!==u.type&&"session"!==u.type||ui(f,u.type),f&&"object"==typeof u&&"custom"===u.type&&"function"==typeof u.remove&&u.remove(f)),y(i),O(0),"function"==typeof l&&l({data:i,errors:v})};r(()=>{mi()&&(!f||"local"!==u&&"session"!==u&&("object"!=typeof u||"local"!==u.type&&"session"!==u.type)?f&&"object"==typeof u&&"custom"===u.type&&"function"==typeof u.get?window.stagesLogging({id:d,keys:E,data:p,initialData:i,initialStep:o,errors:v,currentStep:b,savedData:u.get(f)}):window.stagesLogging({id:d,keys:E,data:p,initialData:i,initialStep:o,errors:v,currentStep:b,savedData:{}}):window.stagesLogging({id:d,keys:E,data:p,initialData:i,initialStep:o,errors:v,currentStep:b,savedData:ci(f,"object"==typeof u?u.type:u)}))},[E,p,v,b]),r(()=>{mi()&&window.stagesLogging("Init Stages",d),t.map((e,t)=>e({index:t,setStepKey:x,initializing:!0})).filter(e=>e)},[]),r(()=>{if(c){const e=D();e<b&&O(-1===e?0:e+1)}h(t.map((e,t)=>e({data:S(t),allData:p,onChange:j,reset:A,onNav:C,isActive:t===b,index:t,errors:v[t]||{},setStepKey:x})).filter((e,t)=>{const n=null!==e;return E[t]&&(E[t].visible=n),n}))},[b,p]);const C=(e,t)=>{let n=b;if(mi()&&window.stagesLogging('On nav "'+e+'" -> "'+t+'"',d),"next"===e){let e=!1;for(let t=b+1;t<E.length;t++)E[t].visible&&!e&&(n=t,e=!0)}if("prev"===e){let e=!1;for(let t=b-1;t>=0;t--)E[t].visible&&!e&&(n=t,e=!0)}if("first"===e){let e=!1;for(let t=0;t<E.length;t++)E[t].visible&&!e&&(n=t,e=!0)}if("last"===e){let e=!1;for(let t=E.length-1;t>=0;t--)E[t].visible&&!e&&(n=t,e=!0)}if("lastValid"===e&&(n=D()),"step"===e&&E[t]&&E[t].visible)n=Number(t);else if("step"===e&&"string"==typeof t){const e=s(E,{key:t});e>-1&&(n=e)}n<0&&(n=0),n>E.length&&(n=E.length),O(n)},D=()=>{let e=-1,t=!1;return Object.keys(v).forEach(n=>{const r=s(E,{key:n});(0===Object.keys(v[n]).length||r>-1&&!E[r].visible)&&!t?e=Number(n):t=!0}),e};return 0===g.length?null:a?a({navigationProps:{currentStep:b,data:p,onChangeStep:e=>{const t=D();mi()&&window.stagesLogging('On change step "'+e+'"',d),("number"==typeof t&&"number"==typeof e&&t+1>=e||!1===c)&&O(e)},errors:v,keys:E,stepCount:g.length,lastValidStep:D(),reset:A},progressionProps:(()=>{const e=g.length,t=D();let n=0;return Object.keys(v).forEach((e,r)=>{const i=S(r);r<=t&&0===Object.keys(v[r]).length&&Object.keys(i).length>0&&n++}),{currentStep:b,stepCount:e,validSteps:n,percentage:100/e*n,data:p,errors:v}})(),routerProps:{step:b,onChange:O,keys:E},steps:g}):null};bi.propTypes={children:Tr.arrayOf(Tr.oneOfType([Tr.node,Tr.func])).isRequired,initialData:Tr.object,render:Tr.oneOfType([Tr.node,Tr.func]).isRequired,initialStep:Tr.number,validateOnStepChange:Tr.bool,id:Tr.oneOfType([Tr.string,Tr.number])},bi.defaultProps={initialData:{},validateOnStepChange:!0,autoSave:!1};var Oi=w.RegExp,Ei=S(function(){var e=Oi("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),wi=Ei||S(function(){return!Oi("a","y").sticky}),Si=Ei||S(function(){var e=Oi("^r","gy");return e.lastIndex=2,null!==e.exec("str")}),xi={BROKEN_CARET:Si,MISSED_STICKY:wi,UNSUPPORTED_Y:Ei},ji=w.RegExp,Ai=S(function(){var e=ji(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),Ci=w.RegExp,Di=S(function(){var e=Ci("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),ki=vt.get,Fi=be("native-string-replace",String.prototype.replace),Ri=RegExp.prototype.exec,Ti=Ri,Pi=L("".charAt),Ii=L("".indexOf),Vi=L("".replace),Li=L("".slice),Ni=function(){var e=/a/,t=/b*/g;return C(Ri,e,"a"),C(Ri,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_i=xi.BROKEN_CARET,Mi=void 0!==/()??/.exec("")[1];(Ni||Mi||_i||Ai||Di)&&(Ti=function(e){var t,n,r,i,o,a,s,c=this,l=ki(c),u=Hr(e),f=l.raw;if(f)return f.lastIndex=c.lastIndex,t=C(Ti,f,u),c.lastIndex=f.lastIndex,t;var d=l.groups,p=_i&&c.sticky,y=C(fi,c),g=c.source,h=0,v=u;if(p&&(y=Vi(y,"y",""),-1===Ii(y,"g")&&(y+="g"),v=Li(u,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Pi(u,c.lastIndex-1))&&(g="(?: "+g+")",v=" "+v,h++),n=new RegExp("^(?:"+g+")",y)),Mi&&(n=new RegExp("^"+g+"$(?!\\s)",y)),Ni&&(r=c.lastIndex),i=C(Ri,p?n:c,v),p?i?(i.input=Li(i.input,h),i[0]=Li(i[0],h),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:Ni&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),Mi&&i&&i.length>1&&C(Fi,i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&d)for(i.groups=a=hn(null),o=0;o<d.length;o++)a[(s=d[o])[0]]=i[s[1]];return i});var Wi=Ti;Jt({target:"RegExp",proto:!0,forced:/./.exec!==Wi},{exec:Wi});var qi=Re("species"),Ui=RegExp.prototype,zi=function(){},Bi=Y("Reflect","construct"),$i=/^\s*(?:class|function)\b/,Hi=L($i.exec),Gi=!$i.test(zi),Ji=function(e){if(!J(e))return!1;try{return Bi(zi,[],e),!0}catch(e){return!1}},Ki=function(e){if(!J(e))return!1;switch(Br(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Gi||!!Hi($i,st(e))}catch(e){return!0}};Ki.sham=!0;var Yi=!Bi||S(function(){var e;return Ji(Ji.call)||!Ji(Object)||!Ji(function(){e=!0})||e})?Ki:Ji,Xi=TypeError,Qi=Re("species"),Zi=function(e,t){var n,r=Be(e).constructor;return void 0===r||z(n=Be(r)[Qi])?t:function(e){if(Yi(e))return e;throw new Xi(ue(e)+" is not a constructor")}(n)},eo=L("".charAt),to=L("".charCodeAt),no=L("".slice),ro=function(e){return function(t,n){var r,i,o=Hr($(t)),a=St(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=to(o,a))<55296||r>56319||a+1===s||(i=to(o,a+1))<56320||i>57343?e?eo(o,a):r:e?no(o,a,a+2):i-56320+(r-55296<<10)+65536}},io=(ro(!1),ro(!0)),oo=function(e,t,n){return t+(n?io(e,t).length:1)},ao=TypeError,so=function(e,t){var n=e.exec;if(J(n)){var r=C(n,e,t);return null!==r&&Be(r),r}if("RegExp"===M(e))return C(Wi,e,t);throw new ao("RegExp#exec called on incompatible receiver")},co=xi.UNSUPPORTED_Y,lo=Math.min,uo=L([].push),fo=L("".slice),po=!S(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),yo="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;!function(e,t,n,r){var i,o,a,s,c=Re(e),l=!S(function(){var t={};return t[c]=function(){return 7},7!==""[e](t)}),u=l&&!S(function(){var e=!1,t=/a/;return(t={}).constructor={},t.constructor[qi]=function(){return t},t.flags="",t[c]=/./[c],t.exec=function(){return e=!0,null},t[c](""),!e});if(!l||!u||n){var f=/./[c],d=(i=c,o=""[e],a=function(e,t,n,r,i){var o=t.exec;return o===Wi||o===Ui.exec?l&&!i?{done:!0,value:C(f,t,n,r)}:{done:!0,value:C(e,n,t,r)}:{done:!1}},s="0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:C(o,this,e,t)}:o,[function(e,t){var n=$(this),r=z(e)?void 0:pe(e,i);return r?C(r,e,n,t):C(s,Hr(n),e,t)},function(e,t){var n=Be(this),r=Hr(e);if(!yo){var i=a(s,n,r,t,s!==o);if(i.done)return i.value}var c=Zi(n,RegExp),l=n.unicode,u=new c(co?"^(?:"+n.source+")":n,(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(co?"g":"y")),f=void 0===t?4294967295:t>>>0;if(0===f)return[];if(0===r.length)return null===so(u,r)?[r]:[];for(var d=0,p=0,y=[];p<r.length;){u.lastIndex=co?0:p;var g,h=so(u,co?fo(r,p):r);if(null===h||(g=lo(Ct(u.lastIndex+(co?p:0)),r.length))===d)p=oo(r,p,l);else{if(uo(y,fo(r,d,p)),y.length===f)return y;for(var v=1;v<=h.length-1;v++)if(uo(y,h[v]),y.length===f)return y;p=d=g}}return uo(y,fo(r,d)),y}]);bt(String.prototype,e,d[0]),bt(Ui,c,d[1])}r&&Qe(Ui[c],"sham",!0)}("split",0,yo||!po,co);const go=e=>{let{step:t,onChange:o,keys:a,prefix:c,hashFormat:l="#!"}=e;const[u,f]=(()=>{const[e,t]=n(()=>window.location.hash),o=i(()=>{t(window.location.hash)},[]);var a,s;a=()=>{!function(e){e&&e.addEventListener&&e.addEventListener(...[].slice.call(arguments,1))}(window,"hashchange",o)},s=()=>{!function(e){e&&e.removeEventListener&&e.removeEventListener(...[].slice.call(arguments,1))}(window,"hashchange",o)},r(()=>(a&&a(),()=>{s&&s()}),[]);const c=i(t=>{t!==e&&(window.location.hash=t)},[e]);return[e,c]})(),[d,p]=n(!1),y=e=>a&&a[e]?a[e].key:c?c+"-"+e:e,g=()=>{if("string"==typeof u&&-1!==u.indexOf(l)){const e=(e=>{const t=e.split(l);if(2===t.length){const e=t[1];return(e=>{var t=Math.floor(Number(e));return Infinity!==t&&String(t)===e&&t>=0})(e)?Number(e):s(a,{key:e})}return-1})(u);-1!==e&&("function"==typeof f&&f(""+l+y(e)),o(e))}else"function"==typeof f&&f(""+l+y(t))};return r(()=>{d&&g()},[u]),r(()=>{d&&"function"==typeof f&&f(""+l+y(t))},[t]),h=()=>{g(),p(!0)},r(()=>{h()},[]),null;var h},ho=e=>{let{currentStep:n,onChangeStep:r,lastValidStep:i,keys:o}=e;const a=[];for(let e=0;e<o.length;e++)if(o&&o[e]&&o[e].visible){const s=o&&o[e]?o[e].key:"Step "+(e+1);a.push(n===e?/*#__PURE__*/t.createElement("li",{key:s,style:{textTransform:"capitalize"}},/*#__PURE__*/t.createElement("strong",null,s)):/*#__PURE__*/t.createElement("li",i>-1&&i+1<e||-1===i&&e>0?{key:s,style:{color:"#999",textTransform:"capitalize"}}:{key:s,style:{textTransform:"capitalize"},onClick:()=>r(e)},s))}/*#__PURE__*/return t.createElement("ul",null,a)},vo=e=>{let{stepCount:n,validSteps:r,percentage:i}=e;/*#__PURE__*/return t.createElement("div",null,r+" / "+n+" ("+Math.round(i)+"%)")},mo=()=>{const[i,o]=n({}),[a,s]=n({}),[l,u]=n({}),[f,d]=n({}),[p,y]=n(!1),g=(e,t)=>{if("string"==typeof e)a[t]||(a[t]=[]),a[t].push({action:e,time:+new Date}),s(a);else{const t=Object.assign(i,{}),n=Object.keys(t)[0];t[e.id]=e,o(Object.assign({},t)),u(e=>({key:e.key?e.key:n,tab:e.tab?e.tab:"data"}))}};return r(()=>{"undefined"!=typeof window&&(window.stagesLogging=g)},[]),0===Object.keys(i).length?null:/*#__PURE__*/t.createElement("div",{style:{position:"absolute",top:"8px",right:"8px",width:"320px",padding:"8px",fontSize:"14px",color:"#333",border:"1px #bbb solid",borderRadius:"4px",background:"#fbfbfb",fontFamily:"Open Sans, Helvetica, Arial, sans",zIndex:1e3}},/*#__PURE__*/t.createElement("strong",{style:{lineHeight:"22px"}},"Debugger:"),/*#__PURE__*/t.createElement("button",{type:"button",style:{float:"right"},onClick:()=>y(!p)},p?"hide":"show"),p?Object.keys(i).map(n=>{const r=n.split("-");r.pop();let o="";return o="logs"===l.tab?a[l.key]?a[l.key].map(e=>e.time+": "+e.action).join("\n"):"":c(f[n]?e(i[l.key][l.tab],f[n]||""):i[l.key][l.tab],null,2),/*#__PURE__*/t.createElement("div",{key:n+"-"+l.tab},/*#__PURE__*/t.createElement("h3",{style:{background:"#333",color:"#fff",margin:"8px 0 0 0",padding:"2px 6px",textTransform:"capitalize",position:"relative"}},r.join(" "),":",i[n].isDirty?/*#__PURE__*/t.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"4px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"dirty"):null,Object.keys(i[n].errors).length?/*#__PURE__*/t.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"48px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"errors"):null,i[n].loading?/*#__PURE__*/t.createElement("span",{style:{display:"inline-block",position:"absolute",top:"5px",right:"98px",background:"#f30",color:"#fff",fontSize:"11px",padding:"1px 4px"}},"loading"):null),/*#__PURE__*/t.createElement("div",null,/*#__PURE__*/t.createElement("select",{onChange:e=>u({key:n,tab:e.target.value}),value:l.key===n?l.tab:"data",style:{width:"47%",minWidth:"47%",maxWidth:"47%",marginRight:"2%",height:"25px"}},i[n].keys?/*#__PURE__*/t.createElement(t.Fragment,null,/*#__PURE__*/t.createElement("option",{value:"data"},"Data"),/*#__PURE__*/t.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/t.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/t.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/t.createElement("option",{value:"keys"},"Keys"),/*#__PURE__*/t.createElement("option",{value:"logs"},"Logs")):/*#__PURE__*/t.createElement(t.Fragment,null,/*#__PURE__*/t.createElement("option",{value:"data"},"Data"),/*#__PURE__*/t.createElement("option",{value:"errors"},"Errors"),/*#__PURE__*/t.createElement("option",{value:"parsedFieldConfig"},"Field Config"),/*#__PURE__*/t.createElement("option",{value:"initialData"},"Initial Data"),/*#__PURE__*/t.createElement("option",{value:"interfaceState"},"Interface State"),/*#__PURE__*/t.createElement("option",{value:"undoData"},"Undo Data"),/*#__PURE__*/t.createElement("option",{value:"asyncData"},"Async Data"),/*#__PURE__*/t.createElement("option",{value:"savedData"},"Saved Data"),/*#__PURE__*/t.createElement("option",{value:"fieldPaths"},"Field Paths"),/*#__PURE__*/t.createElement("option",{value:"logs"},"Logs"))),/*#__PURE__*/t.createElement("input",{value:f[n]||"",placeholder:"your.data.filter.path",onChange:e=>{const t=Object.assign({},f);t[n]=e.target.value,d(t)},style:{width:"47%",minWidth:"47%",maxWidth:"47%",fontSize:"12px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"4px",padding:"4px",overflowX:"scroll",whiteSpace:"pre"}})),l&&l.key===n?/*#__PURE__*/t.createElement("textarea",{readOnly:!0,style:{width:"calc(100% - 8px)",minWidth:"calc(100% - 8px)",maxWidth:"calc(100% - 8px)",height:"200px",fontSize:"10px",border:"1px #ccc solid",background:"#fbfbfb",marginTop:"8px",overflowX:"scroll",whiteSpace:"pre"},value:o}):null)}):null)};var bo=L([].reverse),Oo=[1,2];Jt({target:"Array",proto:!0,forced:String(Oo)===String(Oo.reverse())},{reverse:function(){return _r(this)&&(this.length=this.length),bo(this)}});var Eo=TypeError,wo=function(e,t){if(!delete e[t])throw new Eo("Cannot delete property "+ue(t)+" of "+ue(e))},So=Math.floor,xo=function(e,t){var n=e.length;if(n<8)for(var r,i,o=1;o<n;){for(i=o,r=e[o];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==o++&&(e[i]=r)}else for(var a=So(n/2),s=xo(Nr(e,0,a),t),c=xo(Nr(e,a),t),l=s.length,u=c.length,f=0,d=0;f<l||d<u;)e[f+d]=f<l&&d<u?t(s[f],c[d])<=0?s[f++]:c[d++]:f<l?s[f++]:c[d++];return e},jo=xo,Ao=Q.match(/firefox\/(\d+)/i),Co=!!Ao&&+Ao[1],Do=/MSIE|Trident/.test(Q),ko=Q.match(/AppleWebKit\/(\d+)\./),Fo=!!ko&&+ko[1],Ro=[],To=L(Ro.sort),Po=L(Ro.push),Io=S(function(){Ro.sort(void 0)}),Vo=S(function(){Ro.sort(null)}),Lo=function(e,t){var n=[].sort;return!!n&&S(function(){n.call(null,function(){return 1},1)})}(),No=!S(function(){if(re)return re<70;if(!(Co&&Co>3)){if(Do)return!0;if(Fo)return Fo<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Ro.push({k:t+r,v:n})}for(Ro.sort(function(e,t){return t.v-e.v}),r=0;r<Ro.length;r++)t=Ro[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});Jt({target:"Array",proto:!0,forced:Io||!Vo||!Lo||!No},{sort:function(e){void 0!==e&&de(e);var t=Ee(this);if(No)return void 0===e?To(t):To(t,e);var n,r,i=[],o=Dt(t);for(r=0;r<o;r++)r in t&&Po(i,t[r]);for(jo(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:Hr(t)>Hr(n)?1:-1}}(e)),n=Dt(i),r=0;r<n;)t[r]=i[r++];for(;r<o;)wo(t,r++);return t}});var _o=L(1..valueOf),Mo=RangeError,Wo=RangeError,qo=String,Uo=Math.floor,zo=L(function(e){var t=Hr($(this)),n="",r=St(e);if(r<0||Infinity===r)throw new Mo("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}),Bo=L("".slice),$o=L(1..toFixed),Ho=function(e,t,n){return 0===t?n:t%2==1?Ho(e,t-1,n*e):Ho(e*e,t/2,n)},Go=function(e,t,n){for(var r=-1,i=n;++r<6;)e[r]=(i+=t*e[r])%1e7,i=Uo(i/1e7)},Jo=function(e,t){for(var n=6,r=0;--n>=0;)e[n]=Uo((r+=e[n])/t),r=r%t*1e7},Ko=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=qo(e[t]);n=""===n?r:n+zo("0",7-r.length)+r}return n},Yo=S(function(){return"0.000"!==$o(8e-5,3)||"1"!==$o(.9,0)||"1.25"!==$o(1.255,2)||"1000000000000000128"!==$o(0xde0b6b3a7640080,0)})||!S(function(){$o({})});Jt({target:"Number",proto:!0,forced:Yo},{toFixed:function(e){var t,n,r,i,o=_o(this),a=St(e),s=[0,0,0,0,0,0],c="",l="0";if(a<0||a>20)throw new Wo("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return qo(o);if(o<0&&(c="-",o=-o),o>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*Ho(2,69,1))-69,n=t<0?o*Ho(2,-t,1):o/Ho(2,t,1),n*=4503599627370496,(t=52-t)>0){for(Go(s,0,n),r=a;r>=7;)Go(s,1e7,0),r-=7;for(Go(s,Ho(10,r,1),0),r=t-1;r>=23;)Jo(s,1<<23),r-=23;Jo(s,1<<r),Go(s,1,1),Jo(s,2),l=Ko(s)}else Go(s,0,n),Go(s,1<<-t,0),l=Ko(s)+zo("0",a);return a>0?c+((i=l.length)<=a?"0."+zo("0",a-i)+l:Bo(l,0,i-a)+"."+Bo(l,i-a)):c+l}});var Xo,Qo,Zo,ea,ta="process"===M(w.process),na=Re("species"),ra=function(e){var t,n,r,i=Y(e);x&&i&&!i[na]&&(t=i,n=na,(r={configurable:!0,get:function(){return this}}).get&&mt(r.get,n,{getter:!0}),r.set&&mt(r.set,n,{setter:!0}),Xe.f(t,n,r))},ia=TypeError,oa=function(e){if("Function"===M(e))return L(e)},aa=oa(oa.bind),sa=function(e,t){return de(e),void 0===t?e:j?aa(e,t):function(){return e.apply(t,arguments)}},ca=TypeError,la=/(?:ipad|iphone|ipod).*applewebkit/i.test(Q),ua=w.setImmediate,fa=w.clearImmediate,da=w.process,pa=w.Dispatch,ya=w.Function,ga=w.MessageChannel,ha=w.String,va=0,ma={},ba="onreadystatechange";S(function(){Xo=w.location});var Oa=function(e){if(Se(ma,e)){var t=ma[e];delete ma[e],t()}},Ea=function(e){return function(){Oa(e)}},wa=function(e){Oa(e.data)},Sa=function(e){w.postMessage(ha(e),Xo.protocol+"//"+Xo.host)};ua&&fa||(ua=function(e){!function(e,t){if(e<1)throw new ca("Not enough arguments")}(arguments.length);var t=J(e)?e:ya(e),n=Nr(arguments,1);return ma[++va]=function(){Lr(t,void 0,n)},Qo(va),va},fa=function(e){delete ma[e]},ta?Qo=function(e){da.nextTick(Ea(e))}:pa&&pa.now?Qo=function(e){pa.now(Ea(e))}:ga&&!la?(ea=(Zo=new ga).port2,Zo.port1.onmessage=wa,Qo=sa(ea.postMessage,ea)):w.addEventListener&&J(w.postMessage)&&!w.importScripts&&Xo&&"file:"!==Xo.protocol&&!S(Sa)?(Qo=Sa,w.addEventListener("message",wa,!1)):Qo=ba in Ne("script")?function(e){cn.appendChild(Ne("script"))[ba]=function(){cn.removeChild(this),Oa(e)}}:function(e){setTimeout(Ea(e),0)});var xa={set:ua,clear:fa},ja=Object.getOwnPropertyDescriptor,Aa=function(){this.head=null,this.tail=null};Aa.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Ca,Da,ka,Fa,Ra,Ta=Aa,Pa=/ipad|iphone|ipod/i.test(Q)&&"undefined"!=typeof Pebble,Ia=/web0s(?!.*chrome)/i.test(Q),Va=xa.set,La=w.MutationObserver||w.WebKitMutationObserver,Na=w.document,_a=w.process,Ma=w.Promise,Wa=function(e){if(!x)return w[e];var t=ja(w,e);return t&&t.value}("queueMicrotask");if(!Wa){var qa=new Ta,Ua=function(){var e,t;for(ta&&(e=_a.domain)&&e.exit();t=qa.get();)try{t()}catch(e){throw qa.head&&Ca(),e}e&&e.enter()};la||ta||Ia||!La||!Na?!Pa&&Ma&&Ma.resolve?((Fa=Ma.resolve(void 0)).constructor=Ma,Ra=sa(Fa.then,Fa),Ca=function(){Ra(Ua)}):ta?Ca=function(){_a.nextTick(Ua)}:(Va=sa(Va,w),Ca=function(){Va(Ua)}):(Da=!0,ka=Na.createTextNode(""),new La(Ua).observe(ka,{characterData:!0}),Ca=function(){ka.data=Da=!Da}),Wa=function(e){qa.head||Ca(),qa.add(e)}}var za,Ba,$a,Ha=Wa,Ga=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ja=w.Promise,Ka="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Ya=!Ka&&!ta&&"object"==typeof window&&"object"==typeof document,Xa=Re("species"),Qa=!1,Za=J(w.PromiseRejectionEvent),es=Ht("Promise",function(){var e=st(Ja),t=e!==String(Ja);if(!t&&66===re)return!0;if(!re||re<51||!/native code/.test(e)){var n=new Ja(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[Xa]=r,!(Qa=n.then(function(){})instanceof r))return!0}return!t&&(Ya||Ka)&&!Za}),ts={CONSTRUCTOR:es,REJECTION_EVENT:Za,SUBCLASSING:Qa},ns=TypeError,rs=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new ns("Bad Promise constructor");t=e,n=r}),this.resolve=de(t),this.reject=de(n)},is={f:function(e){return new rs(e)}},os=xa.set,as="Promise",ss=ts.CONSTRUCTOR,cs=ts.REJECTION_EVENT,ls=ts.SUBCLASSING,us=vt.getterFor(as),fs=vt.set,ds=Ja&&Ja.prototype,ps=Ja,ys=ds,gs=w.TypeError,hs=w.document,vs=w.process,ms=is.f,bs=ms,Os=!!(hs&&hs.createEvent&&w.dispatchEvent),Es="unhandledrejection",ws=function(e){var t;return!(!K(e)||!J(t=e.then))&&t},Ss=function(e,t){var n,r,i,o=t.value,a=1===t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&Ds(t),t.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===e.promise?l(new gs("Promise-chain cycle")):(r=ws(n))?C(r,n,c,l):c(n)):l(o)}catch(e){u&&!i&&u.exit(),l(e)}},xs=function(e,t){e.notified||(e.notified=!0,Ha(function(){for(var n,r=e.reactions;n=r.get();)Ss(n,e);e.notified=!1,t&&!e.rejection&&As(e)}))},js=function(e,t,n){var r,i;Os?((r=hs.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),w.dispatchEvent(r)):r={promise:t,reason:n},!cs&&(i=w["on"+e])?i(r):e===Es&&function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}("Unhandled promise rejection",n)},As=function(e){C(os,w,function(){var t,n=e.facade,r=e.value;if(Cs(e)&&(t=Ga(function(){ta?vs.emit("unhandledRejection",r,n):js(Es,n,r)}),e.rejection=ta||Cs(e)?2:1,t.error))throw t.value})},Cs=function(e){return 1!==e.rejection&&!e.parent},Ds=function(e){C(os,w,function(){var t=e.facade;ta?vs.emit("rejectionHandled",t):js("rejectionhandled",t,e.value)})},ks=function(e,t,n){return function(r){e(t,r,n)}},Fs=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,xs(e,!0))},Rs=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new gs("Promise can't be resolved itself");var r=ws(t);r?Ha(function(){var n={done:!1};try{C(r,t,ks(Rs,n,e),ks(Fs,n,e))}catch(t){Fs(n,t,e)}}):(e.value=t,e.state=1,xs(e,!1))}catch(t){Fs({done:!1},t,e)}}};if(ss&&(ps=function(e){!function(e,t){if(X(ys,e))return e;throw new ia("Incorrect invocation")}(this),de(e),C(za,this);var t=us(this);try{e(ks(Rs,t),ks(Fs,t))}catch(e){Fs(t,e)}},(za=function(e){fs(this,{type:as,done:!1,notified:!1,parent:!1,reactions:new Ta,rejection:!1,state:0,value:void 0})}).prototype=bt(ys=ps.prototype,"then",function(e,t){var n=us(this),r=ms(Zi(this,ps));return n.parent=!0,r.ok=!J(e)||e,r.fail=J(t)&&t,r.domain=ta?vs.domain:void 0,0===n.state?n.reactions.add(r):Ha(function(){Ss(r,n)}),r.promise}),Ba=function(){var e=new za,t=us(e);this.promise=e,this.resolve=ks(Rs,t),this.reject=ks(Fs,t)},is.f=ms=function(e){return e===ps||void 0===e?new Ba(e):bs(e)},J(Ja)&&ds!==Object.prototype)){$a=ds.then,ls||bt(ds,"then",function(e,t){var n=this;return new ps(function(e,t){C($a,n,e,t)}).then(e,t)},{unsafe:!0});try{delete ds.constructor}catch(e){}qn&&qn(ds,ys)}Jt({global:!0,constructor:!0,wrap:!0,forced:ss},{Promise:ps}),Ln(ps,as,!1),ra(as);var Ts=Re("iterator"),Ps=Array.prototype,Is=Re("iterator"),Vs=function(e){if(!z(e))return pe(e,Is)||pe(e,"@@iterator")||xn[Br(e)]},Ls=TypeError,Ns=function(e,t,n){var r,i;Be(e);try{if(!(r=pe(e,"return"))){if("throw"===t)throw n;return n}r=C(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Be(r),n},_s=TypeError,Ms=function(e,t){this.stopped=e,this.result=t},Ws=Ms.prototype,qs=function(e,t,n){var r,i,o,a,s,c,l,u,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),g=sa(t,n&&n.that),h=function(e){return r&&Ns(r,"normal",e),new Ms(!0,e)},v=function(e){return f?(Be(e),y?g(e[0],e[1],h):g(e[0],e[1])):y?g(e,h):g(e)};if(d)r=e.iterator;else if(p)r=e;else{if(!(i=Vs(e)))throw new _s(ue(e)+" is not iterable");if(void 0!==(u=i)&&(xn.Array===u||Ps[Ts]===u)){for(o=0,a=Dt(e);a>o;o++)if((s=v(e[o]))&&X(Ws,s))return s;return new Ms(!1)}r=function(e,t){var n=arguments.length<2?Vs(e):t;if(de(n))return Be(C(n,e));throw new Ls(ue(e)+" is not iterable")}(e,i)}for(c=d?e.next:r.next;!(l=C(c,r)).done;){try{s=v(l.value)}catch(e){Ns(r,"throw",e)}if("object"==typeof s&&s&&X(Ws,s))return s}return new Ms(!1)},Us=Re("iterator"),zs=!1;try{var Bs=0,$s={next:function(){return{done:!!Bs++}},return:function(){zs=!0}};$s[Us]=function(){return this},Array.from($s,function(){throw 2})}catch(e){}var Hs=ts.CONSTRUCTOR||!function(e,t){try{if(!zs)return!1}catch(e){return!1}var n=!1;try{var r={};r[Us]=function(){return{next:function(){return{done:n=!0}}}},Ja.all(r).then(void 0,function(){})}catch(e){}return n}();Jt({target:"Promise",stat:!0,forced:Hs},{all:function(e){var t=this,n=is.f(t),r=n.resolve,i=n.reject,o=Ga(function(){var n=de(t.resolve),o=[],a=0,s=1;qs(e,function(e){var c=a++,l=!1;s++,C(n,t,e).then(function(e){l||(l=!0,o[c]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise}});var Gs=Ja&&Ja.prototype;if(Jt({target:"Promise",proto:!0,forced:ts.CONSTRUCTOR,real:!0},{catch:function(e){return this.then(void 0,e)}}),J(Ja)){var Js=Y("Promise").prototype.catch;Gs.catch!==Js&&bt(Gs,"catch",Js,{unsafe:!0})}Jt({target:"Promise",stat:!0,forced:Hs},{race:function(e){var t=this,n=is.f(t),r=n.reject,i=Ga(function(){var i=de(t.resolve);qs(e,function(e){C(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),Jt({target:"Promise",stat:!0,forced:ts.CONSTRUCTOR},{reject:function(e){var t=is.f(this);return(0,t.reject)(e),t.promise}}),Jt({target:"Promise",stat:!0,forced:ts.CONSTRUCTOR},{resolve:function(e){return function(e,t){if(Be(e),K(t)&&t.constructor===e)return t;var n=is.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var Ks=Re("match"),Ys=function(e){var t;return K(e)&&(void 0!==(t=e[Ks])?!!t:"RegExp"===M(e))},Xs=Xe.f,Qs=function(e,t,n){n in e||Xs(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},Zs=Vt.f,ec=vt.enforce,tc=Re("match"),nc=w.RegExp,rc=nc.prototype,ic=w.SyntaxError,oc=L(rc.exec),ac=L("".charAt),sc=L("".replace),cc=L("".indexOf),lc=L("".slice),uc=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,fc=/a/g,dc=/a/g,pc=new nc(fc)!==fc,yc=xi.MISSED_STICKY,gc=xi.UNSUPPORTED_Y,hc=x&&(!pc||yc||Ai||Di||S(function(){return dc[tc]=!1,nc(fc)!==fc||nc(dc)===dc||"/a/i"!==String(nc(fc,"i"))}));if(Ht("RegExp",hc)){for(var vc=function(e,t){var n,r,i,o,a,s,c,l,u,f,d=X(rc,this),p=Ys(e),y=void 0===t,g=[],h=e;if(!d&&p&&y&&e.constructor===vc)return e;if((p||X(rc,e))&&(e=e.source,y&&(t=pi(h))),e=void 0===e?"":Hr(e),t=void 0===t?"":Hr(t),h=e,Ai&&"dotAll"in fc&&(r=!!t&&cc(t,"s")>-1)&&(t=sc(t,/s/g,"")),n=t,yc&&"sticky"in fc&&(i=!!t&&cc(t,"y")>-1)&&gc&&(t=sc(t,/y/g,"")),Di&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a=hn(null),s=!1,c=!1,l=0,u="";r<=n;r++){if("\\"===(t=ac(e,r)))t+=ac(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:oc(uc,lc(e,r+1))&&(r+=2,c=!0),i+=t,l++;continue;case">"===t&&c:if(""===u||Se(a,u))throw new ic("Invalid capture group name");a[u]=!0,o[o.length]=[u,l],c=!1,u="";continue}c?u+=t:i+=t}return[i,o]}(e),e=o[0],g=o[1]),c=nc(e,t),l=vc,qn&&J(u=(d?this:rc).constructor)&&u!==l&&K(f=u.prototype)&&f!==l.prototype&&qn(c,f),a=c,(r||i||g.length)&&(s=ec(a),r&&(s.dotAll=!0,s.raw=vc(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=ac(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+ac(e,++r);return i}(e),n)),i&&(s.sticky=!0),g.length&&(s.groups=g)),e!==h)try{Qe(a,"source",""===h?"(?:)":h)}catch(e){}return a},mc=Zs(nc),bc=0;mc.length>bc;)Qs(vc,nc,mc[bc++]);rc.constructor=vc,vc.prototype=rc,bt(w,"RegExp",vc,{constructor:!0})}ra("RegExp");var Oc,Ec,wc=(Oc=!1,(Ec=/[ac]/).exec=function(){return Oc=!0,/./.exec.apply(this,arguments)},!0===Ec.test("abc")&&Oc),Sc=/./.test;Jt({target:"RegExp",proto:!0,forced:!wc},{test:function(e){var t=Be(this),n=Hr(e),r=t.exec;if(!J(r))return C(Sc,t,n);var i=C(r,t,n);return null!==i&&(Be(i),!0)}});var xc,jc=TypeError,Ac=function(e){if(Ys(e))throw new jc("The method doesn't accept regular expressions");return e},Cc=Re("match"),Dc=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Cc]=!1,"/./"[e](t)}catch(e){}}return!1},kc=We.f,Fc=oa("".slice),Rc=Math.min,Tc=Dc("endsWith"),Pc=!(Tc||(xc=kc(String.prototype,"endsWith"),!xc||xc.writable));Jt({target:"String",proto:!0,forced:!Pc&&!Tc},{endsWith:function(e){var t=Hr($(this));Ac(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:Rc(Ct(n),r),o=Hr(e);return Fc(t,i-o.length,i)===o}});var Ic=We.f,Vc=oa("".slice),Lc=Math.min,Nc=Dc("startsWith"),_c=!Nc&&!!function(){var e=Ic(String.prototype,"startsWith");return e&&!e.writable}();Jt({target:"String",proto:!0,forced:!_c&&!Nc},{startsWith:function(e){var t=Hr($(this));Ac(e);var n=Ct(Lc(arguments.length>1?arguments[1]:void 0,t.length)),r=Hr(e);return Vc(t,n,n+r.length)===r}});const Mc=(e,t,n)=>n&&Array.isArray(e)?"number"===t?e.map(e=>Number(e)):"string"===t?e.map(e=>String(e)):"boolean"===t?e.map(e=>Boolean(e)):"date"===t?e.map(e=>new Date(e)):e:"number"===t?Number(e):"string"===t?String(e):"boolean"===t?Boolean(e):"date"===t?new Date(e):e,Wc=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{n[r]=void 0!==e[r]?e[r]:t[r].default,void 0===e[r]&&t[r].required&&console.warn('Param "'+r+'" is required but is missing in field configs!'),void 0!==e[r]&&typeof e[r]!==t[r].type&&console.warn('Param "'+r+'" is not of type "'+t[r].type+'"!')}),n},qc={};let Uc,zc,Bc,$c=0;const Hc={},Gc=i=>{let{config:a,data:c,render:v,renderFields:m,fields:b,onChange:O,isVisible:E,isDisabled:w,id:S,onValidation:x,parentRunValidation:j,validateOn:A,throttleWait:C,customEvents:D,enableUndo:k,undoMaxDepth:F,customRuleHandlers:R,autoSave:T,typeValidations:P,fieldsets:I,initialInterfaceState:V,hashSeparator:L}=i;const N=o(!1),[_,M]=n(V),W=Object.assign({},c);g(W,_);const[q]=n("form-"+(S||"noid")+"-"+ +new Date),[U,z]=n(!1),[B,$]=n({}),[H,G]=n(!1),[J,K]=n([]),[Y,X]=n(0),[Q,Z]=n(!1),[ee,te]=n(!1),[ne,re]=n({}),[ie,oe]=n({}),[ae,se]=n(),[ce,le]=n({}),[ue,fe]=n(!1),[de,pe]=n(""),[ye,ge]=n(""),[he,ve]=n([]),[me,be]=n({}),Oe=((t,n,r,i,o,a)=>{let c="function"==typeof t.fields?t.fields(n,r,i):"function"==typeof t?t(n,r,i):Array.isArray(t)?t:[];const l=e=>{if("string"==typeof e&&t.fieldConfigs&&"function"==typeof t.fieldConfigs[e])return t.fieldConfigs[e](n,r,i);if("object"==typeof e&&t.fieldConfigs&&"function"==typeof t.fieldConfigs[e.type]){const o=t.fieldConfigs[e.type](n,r,i);return Object.assign({},o,e,{type:o.type})}return"object"==typeof e&&a[e.type]?{id:e.id,type:"fieldset",fieldset:e.type,fields:a[e.type].config({data:n,asyncData:r,interfaceState:i,params:Wc(e.params||{},a[e.type].params)}),params:e.params}:"function"==typeof e?e(n,r,i):e};return c=c.map(e=>("object"!=typeof e||"group"!==e.type&&"collection"!==e.type&&"fieldset"!==e.type||!Array.isArray(e.fields)||(e.fields=e.fields.map(e=>l(e))),"object"==typeof e&&"wizard"===e.type&&Array.isArray(e.stages)&&(e.stages=e.stages.map(e=>l(e))),l(e))),o.forEach(t=>{const i=e(c,t.path);if(Array.isArray(i)){if("add"===t.action&&i.push(t.fields(n,r)),"remove"===t.action){const e=t.fields(n,r),o=s(i,{id:e.id});o>-1&&i.splice(o,1)}p(c,t.path,i)}}),c})(a,W,ae,_,he,I),Ee=((t,n,r)=>{const i=[];return function o(a,s,c){void 0===a&&(a=""),void 0===s&&(s=""),void 0===c&&(c="");let l=[a?e(t,a):t],u=[];Array.isArray(l[0])||(u=Object.keys(l[0]),l=Object.values(l[0])),("stage"!==c||((e,t)=>{let n=!1;return Object.keys(e).forEach(r=>{r+"."+e[r]===t&&(n=!0)}),n})(r,s))&&l.forEach((t,r)=>{const c=void 0!==u[r]?u[r]:void 0;Array.isArray(t)&&t.forEach((t,r)=>{const l=s?s+"."+t.id:t.id,u=e(n,l),f=e(n,s);if((c&&f&&f.__typename===c||!c)&&i.push({path:l,config:t,data:u}),"collection"===t.type){const i=s?e(n,s+"."+t.id):n[t.id];i&&Array.isArray(i)&&i.forEach((e,n)=>{o(a+"["+r+"].fields",s?s+"."+t.id+"["+n+"]":t.id+"["+n+"]")})}else"group"===t.type||"fieldset"===t.type||"stage"===t.type?o(a+"["+r+"].fields",l,t.type):"wizard"===t.type&&o(a+"["+r+"].stages",l,"wizard")})})}(),i})(Oe,W,me);r(()=>(N.current=!0,()=>{N.current=!1}),[]),r(()=>{const e=("undefined"!=typeof window?window.location.hash.substring(2):"").split(L||":"),t=Object.assign({},me);e.forEach(e=>{const n=e.split("."),r=n.slice(0,-1).join("."),i=n[n.length-1];r&&i&&(t[r]=i)}),Ee.forEach(e=>{"wizard"!==e.config.type||t[e.path]&&(!t[e.path]||l(e.config.stages,{id:t[e.path]}))||(t[e.path]=e.config.stages[0].id)}),JSON.stringify(me)!==JSON.stringify(t)&&be(t)},[a]);const we=()=>N&&!0===N.current;r(()=>{if(c&&!H){let t;mi()&&window.stagesLogging("Set initial data",q),Ee.forEach(n=>{if(void 0!==n.config.defaultValue&&void 0===e(c,n.path)){const e="function"==typeof n.config.defaultValue?n.config.defaultValue(c):n.config.defaultValue;p(c,n.path,e),p(W,n.path,e)}if(Array.isArray(n.config.validateOn)&&n.config.validateOn.indexOf("init")>-1||Array.isArray(A)&&A.indexOf("init")>-1){const e=je(n.path,"init",c,ce);t=Object.assign({},ce,e)}t&&le(t)});const n=h(c);let r;G(JSON.parse(n)),"local"===T||"session"===T||"object"==typeof T&&("local"===T.type||"session"===T.type)?r=ci(S,"object"==typeof T?T.type:T):S&&"object"==typeof T&&"custom"===T.type&&"function"==typeof T.get&&(r=T.get(S)),r&&Object.keys(r).length>0&&setTimeout(()=>{z(!!r.isDirty),$("object"==typeof r.dirtyFields?r.dirtyFields:{}),Fe(r.data,Ae(!1,r.data),S)},0)}},[c]),r(()=>{if(mi()){let e;e="local"===T||"session"===T||"object"==typeof T&&("local"===T.type||"session"===T.type)?ci(S,"object"==typeof T?T.type:T):S&&"object"==typeof T&&"custom"===T.type&&"function"==typeof T.get?T.get(S):{},window.stagesLogging({id:q,data:c,initialData:H,interfaceState:_,undoData:J,asyncData:ae,errors:ce,fieldPaths:Ee,isDirty:U,focusedField:de,lastFocusedField:ye,dirtyFields:B,loading:ue,parsedFieldConfig:Oe,savedData:e})}},[c,ce,U,de,ye,B,ue]);const Se=e=>"collection"===e||"subform"===e||"group"===e||"fieldset"===e||"config"===e||"wizard"===e||"stage"===e,xe=(t,n,r,i)=>{if(!b[n.type])return!0;const o=e(r,t),a=!Se(n.type)&&b[n.type].isValid(o,n);if(P[n.type]&&"function"==typeof P[n.type].validation&&!n.customValidation)return P[n.type].validation({data:o,allData:r,interfaceState:_,fieldConfig:n,isValid:a,fieldHasFocus:!(!de||de!==t),fieldIsDirty:void 0!==B[t],triggeringEvent:i});if(("string"==typeof n.regexValidation||n.regexValidation instanceof RegExp)&&!n.customValidation){let e;if("string"==typeof n.regexValidation)try{e=new RegExp(n.regexValidation)}catch(e){}else e=n.regexValidation;return a&&(e.test(o)||!o)}if(!Se(n.type)&&"function"==typeof n.customValidation){const e=n.customValidation({data:o,allData:r,interfaceState:_,fieldConfig:n,isValid:a,fieldHasFocus:!(!de||de!==t),fieldIsDirty:void 0!==B[t],triggeringEvent:i});if(!function(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}(e))return e;!function(){const r=+new Date;Uc=Object.assign({},Uc,{[t]:r}),e.then(e=>{Uc[t]===r&&(!0!==e?(delete Uc[t],le(Object.assign({},ce,{[t]:{field:n}}))):(delete Uc[t],le(Object.assign({},ce))),Uc=Object.assign({},Uc))})}()}return a},je=(t,n,r,i,o)=>{const a=l(Ee,{path:t}).config;mi()&&"render"!==n&&window.stagesLogging('Validate field "'+t+'"',q);const s=xe(t,a,r,n),c=e(r,t);return i[t]&&delete i[t],Se(a.type)||!0===s?"collection"===a.type&&a.isRequired&&(!c||0===c.length||1===c.length&&0===Object.keys(c[0]).length)?(o||(o=t),i[t]={value:c,field:a}):"collection"===a.type&&(Array.isArray(a.fields)?a.fields.forEach(o=>{c&&c.forEach((s,l)=>{const u=t+"["+l+"]."+o.id;if(!(a.isRequired||s&&0!==Object.keys(s).length))return;const f=xe(o,u,s,n);if(b[o.type]&&!0!==f)i[t]={value:c,subField:o,errorCode:!1!==f?f:void 0};else if(b[o.type]&&o.isUnique){let n=e(r,t,[]).filter(e=>void 0!==e[o.id]).map(e=>e[o.id]);[...new Set(n)].length!==n.length&&(i[t]={value:c,subField:o,errorCode:"notUnique"})}})}):c&&c.forEach((e,r)=>{(a.isRequired||e&&0!==Object.keys(e).length)&&a.fields[e.__typename]&&a.fields[e.__typename].forEach(o=>{const a=xe(o,t+"["+r+"]."+o.id,e,n);b[o.type]&&!0!==a&&(i[t]={value:c,subField:o,errorCode:!1!==a?a:void 0})})})):(o||(o=t),i[t]={value:c,field:a,errorCode:!1!==s?s:void 0}),"collection"===a.type&&a.uniqEntries&&c&&f(c,(e,t)=>h(e)===h(t)).length!==c.length&&(i[t]={value:c,field:a}),"collection"===a.type&&a.rules&&"object"==typeof a.rules&&c&&Object.keys(a.rules).forEach(n=>{const r=a.rules[n];Object.keys(r).forEach(o=>{const s=r[o],l=n.indexOf(",")>-1?n.split(","):[n],u=o.indexOf(",")>-1?o.split(","):[o],f=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);const n=[];return e.forEach(e=>{t.forEach(t=>{n.push([e,t])})}),n}(l,u);let p=!0;if(s.maxCount&&"number"==typeof s.maxCount&&f.forEach(t=>{let n=0;c.forEach(r=>e(r,t[0])===t[1]?n++:void 0),n>s.maxCount&&(p=!1)}),s.minCount&&"number"==typeof s.minCount&&f.forEach(t=>{let n=0;c.forEach(r=>e(r,t[0])===t[1]?n++:void 0),n<s.minCount&&(p=!1)}),s.exactCount&&"number"==typeof s.exactCount&&f.forEach(t=>{let n=0;c.forEach(r=>e(r,t[0])===t[1]?n++:void 0),n!==s.exactCount&&(p=!1)}),s.sameCountAs&&"string"==typeof s.sameCountAs&&f.forEach(t=>{let n=0,r=0;c.forEach(i=>{e(i,t[0])===t[1]&&n++,e(i,t[0])===s.sameCountAs&&r++}),n!==r&&(p=!1)}),s.differentCountAs&&"string"==typeof s.differentCountAs&&f.forEach(t=>{let n=0,r=0;c.forEach(i=>{e(i,t[0])===t[1]&&n++,e(i,t[0])===s.differentCountAs&&r++}),n===r&&(p=!1)}),(s.sameSumAs&&"string"==typeof s.sameSumAs||s.differentSumAs&&"string"==typeof s.differentSumAs||s.biggerSumAs&&"string"==typeof s.biggerSumAs||s.smallerSumAs&&"string"==typeof s.smallerSumAs)&&f.forEach(t=>{let n=0,r=0;c.forEach(i=>{const o=Number(e(i,t[0])),a=Number(e(i,s.sameSumAs||s.differentSumAs||s.biggerSumAs||s.smallerSumAs));isNaN(o)||(n+=o),isNaN(a)||(r+=a)}),s.sameSumAs&&n!==r&&(p=!1),s.differentSumAs&&n===r&&(p=!1),s.biggerSumAs&&n<=r&&(p=!1),s.smallerSumAs&&n>=r&&(p=!1)}),s.isUnique&&l.length>0){const t=[];let n=!1;c.forEach(r=>{const i=l.map(t=>e(r,t));t.forEach(e=>{d(i,e)&&(n=!0)}),t.push(i)}),n&&(p=!1)}s.disallow&&f.forEach(t=>{let n=!1,r=!1;c.forEach(i=>{e(i,t[0])===t[1]&&(r=!0),Array.isArray(s.disallow)?s.disallow.forEach(r=>{e(i,t[0])===r&&(n=!0)}):e(i,t[0])===s.disallow&&(n=!0)}),r&&n&&(p=!1)}),s.disallow&&f.forEach(t=>{let n=!1,r=!1;c.forEach(i=>{e(i,t[0])===t[1]&&(r=!0),Array.isArray(s.disallow)?s.disallow.forEach(r=>{e(i,t[0])===r&&(n=!0)}):e(i,t[0])===s.disallow&&(n=!0)}),r&&!n&&(p=!1)}),p&&"object"==typeof R&&Object.keys(R).forEach(t=>{void 0!==s[t]&&"function"==typeof R[t]&&(R[t]({fieldValueCombos:f,fieldValidationData:c,valueRules:s,get:e})||(p=!1))}),p||(i[t]={value:c,field:a,errorCode:s.errorCode||"invalidRule"})})}),{errors:i,firstErrorField:o}},Ae=function(e,t,n){void 0===n&&(n="");let r,i={};if(t||(t=W),Ee.forEach(e=>{if(""===n||e.path.startsWith(n)){if(!b[e.config.type]&&!Se(e.config.type))return;const o=je(e.path,""!==n?"render":"action",t,i,r);i=o.errors,r=o.firstErrorField}}),r&&E&&e){const e=document.getElementById(r);e&&!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.scrollIntoView()}return i},Ce=()=>Ae(!1);r(()=>{if("function"==typeof x&&j){mi()&&window.stagesLogging("Get errors on validation",q);let e=Ae(!0);le(e),x(e)}},[x]);const De=(e,t)=>{mi()&&window.stagesLogging('Get sub form errors for sub id "'+e+'"',q),Ae(!0),t&&Object.keys(t).length>0&&(ce[e]=t)},ke=function(t,n,r){try{const i=function(){if(n.loader&&"function"==typeof n.loader){function i(){n.enableCaching&&((e,t)=>{mi()&&window.stagesLogging('Update options cache for "'+e+'"',q),oe(n=>Object.assign({},n,{[e]:t}))})(a,s),l===c&&(((e,t)=>{mi()&&window.stagesLogging('Update options loaded for "'+e+'"',q),re(n=>Object.assign({},n,{[e]:t}))})(t,s),n.onOptionsChange&&"function"==typeof n.onOptionsChange&&n.onOptionsChange(s,r,Ne))}const o={};let a,s;const c="number"==typeof qc[t]?qc[t]+1:0;let l=c;qc[t]=c,mi()&&window.stagesLogging('Create dynamic options for field "'+t+'"',q),n.enableCaching&&(n.watchFields.forEach(t=>{const n=e(r,t);n&&(o[t]=n)}),a=t+"-"+h(o));const u=function(){if(!n.enableCaching||!ie[a])return Promise.resolve(n.loader(r,Ne)).then(function(e){s=e,l=qc[t]});s=ie[a]}();return u&&u.then?u.then(i):i()}}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},Fe=function(t,n,r,i,o){let a;void 0===o&&(o=!1);try{a=h({newData:t,errors:Object.keys(n),id:r,fieldKey:i,interfaceState:_})}catch(e){}(a!==Bc||o)&&(O((t=>{const n={},r=Object.assign({},t);return Ee.forEach(i=>{if(i.config.isInterfaceState){const o=e(t,i.path);void 0!==o&&(p(n,i.path,o),y(r,i.path))}}),M(n),r})(t),n,r,i,_,Ae(!1,t)),Bc=a)},Re=()=>{if(we()&&k&&Y>0){const e=Y-1,t=JSON.parse(J[e]);X(e),le(t.errors),z(t.isDirty),$(t.dirtyFields),Fe(t.data,t.errors,S)}},Te=()=>{if(we()&&k&&Y<J.length-1){const e=Y+1,t=JSON.parse(J[e]);X(e),le(t.errors),z(t.isDirty),$(t.dirtyFields),Fe(t.data,t.errors,S)}};r(()=>{let t=Object.assign({},W);if(mi()&&window.stagesLogging('Is visible change to "'+(E?"visible":"invisible")+'"',q),Ee.forEach(n=>{const r=n.config;let i=e(t,n.path);if("collection"===r.type&&r.init){const e=r.min?Number(r.min):1;i&&0!==i.length||(i=[]);for(let n=i.length;n<e;n++)i.push("string"==typeof r.init?"function"==typeof r.setInitialData?r.setInitialData(i,t,r.init):{__typename:r.init}:"function"==typeof r.setInitialData?r.setInitialData(i,t):{});p(t,n.path,i)}}),t=Pe(t),"function"==typeof a.asyncDataLoader&&E&&!ee)try{return fe(!0),Promise.resolve(a.asyncDataLoader()).then(function(e){se(e),te(!0),fe(!1)})}catch(e){Promise.reject(e)}E&&(Array.isArray(Ee)&&Ee.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("init")>-1&&ke(e.path,e.config.dynamicOptions,t)}),0===Y&&0===J.length&&K([h({data:t,isDirty:U,dirtyFields:B,errors:ce})])),Fe(t,Ae(),S)},[E]);const Pe=t=>{const n=Object.assign({},t);return Ee.forEach(r=>{if("function"==typeof r.config.computedValue){const i=e(W,r.path.split(".").slice(0,-1).join(".")),o=r.config.computedValue(t,i,_);p(n,r.path,o)}}),n},Ie=e=>l(Ee,{path:e}).config,Ve=(e,t,n)=>{const r=[];return"object"==typeof D&&Object.keys(D).forEach(i=>{"function"==typeof D[i]&&D[i]({fieldValue:n,data:t,dirtyFields:B,optionsLoaded:ne,asyncData:ae,errors:ce,focusedField:de,triggeringEvent:e})&&r.push(i)}),r},Le=e=>Array.isArray(e)&&1===e.length?e[0]:e,Ne=function t(n,r,i,o){if(void 0===o&&(o=!1),!we())return;let a,s=!1;const c=+new Date,l=Ie(n);o||($c=c);let f=Object.assign({},i||W),y="function"==typeof l.filter?l.filter(r):r;l.cast&&"function"==typeof l.cast.data&&(y=l.cast.data(y)),l.cast&&"string"==typeof l.cast.data&&(y=Mc(y,l.cast.data)),l.cast&&Array.isArray(l.cast.data)&&(y=Mc(y,l.cast.data[0],!0)),mi()&&window.stagesLogging('Handle change for field "'+n+'"',q),p(f,n,y||void 0),f=Pe(f);const g={data:e(f,n),fieldIsDirty:!!B[n],fieldConfig:l,fieldHasFocus:!(!de||de!==n)};o||(0===$c||c-$c<Number(C||400))&&(!l.validateOn&&Array.isArray(A)&&A.indexOf("throttledChange")>-1||l.validateOn&&Array.isArray(l.validateOn)&&l.validateOn.indexOf("throttledChange")>-1||!l.validateOn&&"function"==typeof A&&A(g).indexOf("throttledChange")>-1||l.validateOn&&"function"==typeof l.validateOn&&l.validateOn(g).indexOf("throttledChange")>-1)&&(zc&&clearTimeout(zc),zc=setTimeout(()=>t(n,r,i,!0),C||400),s=!0);const h=Ve("change",f,y);if(!l.validateOn&&Array.isArray(A)&&h.some(e=>A.indexOf(e)>-1)||l.validateOn&&Array.isArray(l.validateOn)&&h.some(e=>l.validateOn.indexOf(e)>-1)){const e=je(n,Le(h),f,ce);a=Object.assign({},ce,e.errors),le(a)}else if(!l.validateOn&&Array.isArray(A)&&A.indexOf("change")>-1||l.validateOn&&Array.isArray(l.validateOn)&&l.validateOn.indexOf("change")>-1||!l.validateOn&&Array.isArray(A)&&A.indexOf("throttledChange")>-1&&!s||l.validateOn&&Array.isArray(l.validateOn)&&l.validateOn.indexOf("throttledChange")>-1&&!s||!l.validateOn&&"function"==typeof A&&A(g).indexOf("change")>-1||l.validateOn&&"function"==typeof l.validateOn&&l.validateOn(g).indexOf("change")>-1||!l.validateOn&&"function"==typeof A&&A(g).indexOf("throttledChange")>-1&&!s||l.validateOn&&"function"==typeof l.validateOn&&l.validateOn(g).indexOf("throttledChange")>-1&&!s){const e=je(n,"change",f,ce);a=Object.assign({},ce,e.errors),le(a)}if(H&&(d(e(f,n),e(H,n))?void 0!==B[n]&&delete B[n]:B[n]={oldData:e(H,n),newData:e(f,n)},z(Object.keys(B).length>0),$(B)),l.clearFields&&(Array.isArray(l.clearFields)||"function"==typeof l.clearFields)){const e=Object.assign({},ne);(Array.isArray(l.clearFields)?l.clearFields:l.clearFields(y,f,a)).forEach(t=>{p(f,t,void 0),delete e[t]}),re(e)}if(Array.isArray(Ee)&&Ee.forEach(t=>{t.config.dynamicOptions&&t.config.dynamicOptions.events&&t.config.dynamicOptions.events.indexOf("change")>-1&&t.config.dynamicOptions.watchFields&&t.config.dynamicOptions.watchFields.indexOf(n)>-1&&(!l.dynamicOptions||l.dynamicOptions&&ne[t.path]&&ne[t.path].indexOf(e(f,n))>-1||!ne[t.path])&&ke(t.path,t.config.dynamicOptions,f)}),(e=>{const t=e.split(".").at(-2);return"]"===(t?t.slice(-1):"")})(n)){const t=(e=>{const t=e.split(".");t.pop();let n=t.join(".");if("]"===n.slice(-1)){const e=n.lastIndexOf("[");n=n.substring(0,e)}return n})(n),r=Ie(t);if(r.sort&&r.sort.by&&r.sort.by.indexOf(l.id)>-1){let n=e(f,t,[]);n=u(n,r.sort.by),"desc"===r.sort.dir&&(n=n.reverse()),p(f,t,n)}}Fe(f,Ae(!1,f),S,n)},_e=n=>{const r={},i=[];return Ee.forEach(o=>{if(!n||o.path.startsWith(n+"."))if("fieldset"===o.config.type&&I[o.config.fieldset]){const t=_e(o.path);p(r,o.path,I[o.config.fieldset].render({params:Wc(o.config.params||{},I[o.config.fieldset].params),fieldProps:{fields:e(t,o.path),onCollectionAction:Me,onWizardNav:We,getWizardNavHash:qe,isWizardStepActive:Ue,isWizardStepDisabled:ze,modifyConfig:Be,data:c,interfaceState:_,errors:ce,asyncData:ae,isDirty:U,focusedField:de,lastFocusedField:ye,dirtyFields:B,get:e,getConfig:He},actionProps:{handleActionClick:$e,handleUndo:Re,handleRedo:Te,isDisabled:w,isDirty:U,focusedField:de,lastFocusedField:ye,dirtyFields:B,silentlyGetValidationErrors:Ce}}))}else{const n=((n,r,o)=>{let a=!1;if(i.forEach(e=>{o.startsWith(e)&&(a=!0)}),a)return null;if(!b[n.type]&&"subform"!==n.type&&"group"!==n.type)return null;if("function"==typeof n.isRendered&&!n.isRendered(o,r,W,_))return"group"===n.type&&i.push(o),null;if("group"===n.type)return null;const u=Object.assign({},n);if(u.id=o,ne[o])u.options=ne[o];else if("function"==typeof u.options)u.options=u.options(o,r,W);else if("object"==typeof u.computedOptions){let t=e(c,u.computedOptions.source,[]),r=e(W,o);"function"==typeof u.computedOptions.filter&&(t=t.filter(u.computedOptions.filter)),"function"==typeof u.computedOptions.sort&&(t=t.sort(u.computedOptions.sort)),"function"==typeof u.computedOptions.map&&(t=t.map(u.computedOptions.map)),u.computedOptions.initWith&&Array.isArray(u.computedOptions.initWith)&&(t=u.computedOptions.initWith.concat(t)),n.isUnique&&(t=t.map(t=>{if(""===t.value)return t;const i=o.substring(0,o.lastIndexOf("["));let a=e(c,i,[]);return s(a,{[n.id]:t.value})>-1&&t.value!==r?Object.assign({},t,{disabled:!0}):t})),u.options=t,l(t,{value:r})||(u.value="",p(W,o,""))}return delete u.computedValue,delete u.computedOptions,delete u.filter,delete u.clearFields,delete u.dynamicOptions,delete u.isRendered,delete u.defaultValue,delete u.cleanUp,delete u.precision,u.placeholder&&Array.isArray(u.placeholder)&&u.placeholder.length>1&&(void 0===Hc[o]&&(Hc[o]=u.placeholder[Math.floor(Math.random()*u.placeholder.length)]),u.placeholder=Hc[o]),P[n.type]&&"function"==typeof P[n.type].renderer&&!n.errorRenderer&&(u.errorRenderer=P[n.type].renderer),Uc&&Uc[o]&&(u.isValidating=!0),Se(n.type)||Object.keys(u).forEach(e=>{"id"!==e&&"function"==typeof u[e]&&e.endsWith("Fn")&&(u[e.substring(0,e.length-2)]=u[e]({path:o,fieldData:r,alldata:W,interfaceState:_}),delete u[e])}),"fieldset"===n.type?null:"subform"!==n.type?/*#__PURE__*/t.createElement(b[n.type].component,Object.assign({key:o,value:(f=r,n.cast&&"function"==typeof n.cast.field?n.cast.field(f):n.cast&&"string"==typeof n.cast.field?Mc(f,n.cast.field):n.cast&&Array.isArray(n.cast.field)?Mc(f,n.cast.field[0],!0):f),initialValue:e(H,o),error:ce[o],isDirty:!!B[o],isDisabled:w||n.isDisabled,hasFocus:!(!de||de!==o),onChange:e=>Ne(o,e),onFocus:()=>(t=>{if(!we())return;const n=Ie(t),r=Object.assign({},W),i=e(r,t);pe(t),ge(t);const o={data:i,fieldIsDirty:!!B[t],fieldConfig:n,fieldHasFocus:!(!de||de!==t)},a=Ve("focus",r,i);if(!n.validateOn&&Array.isArray(A)&&a.some(e=>A.indexOf(e)>-1)||n.validateOn&&Array.isArray(n.validateOn)&&a.some(e=>n.validateOn.indexOf(e)>-1)){const e=je(t,Le(a),r,ce);le(Object.assign({},ce,e.errors)),Fe(r,e.errors,S,t)}else if(!n.validateOn&&Array.isArray(A)&&A.indexOf("focus")>-1||n.validateOn&&Array.isArray(n.validateOn)&&n.validateOn.indexOf("focus")>-1||!n.validateOn&&"function"==typeof A&&A(o).indexOf("focus")>-1||n.validateOn&&"function"==typeof n.validateOn&&n.validateOn(o).indexOf("focus")>-1){const e=je(t,"focus",r,ce);le(Object.assign({},ce,e.errors)),Fe(r,e.errors,S,t)}})(o),onBlur:()=>(t=>{if(!we())return;pe("");const n=Ie(t),r=Object.assign({},W),i=Object.assign({},W);let o=e(r,t);$c=0,mi()&&window.stagesLogging('Handle blur for field "'+t+'"',q),n.cleanUp&&"function"==typeof n.cleanUp&&void 0!==o&&(o=n.cleanUp(o),p(r,t,o),Ne(t,o,r,!0)),"number"==typeof n.precision&&(p(r,t,Number(o).toFixed(n.precision)),Fe(r,ce,S,t));const a={data:o,fieldIsDirty:!!B[t],fieldConfig:n,fieldHasFocus:!(!de||de!==t)},s=Ve("blur",r,o);if(!n.validateOn&&Array.isArray(A)&&s.some(e=>A.indexOf(e)>-1)||n.validateOn&&Array.isArray(n.validateOn)&&s.some(e=>n.validateOn.indexOf(e)>-1)){const e=je(t,Le(s),r,ce);le(Object.assign({},ce,e.errors)),Fe(r,e.errors,S,t)}else if(!n.validateOn&&Array.isArray(A)&&A.indexOf("blur")>-1||n.validateOn&&Array.isArray(n.validateOn)&&n.validateOn.indexOf("blur")>-1||!n.validateOn&&"function"==typeof A&&A(a).indexOf("blur")>-1||n.validateOn&&"function"==typeof n.validateOn&&n.validateOn(a).indexOf("blur")>-1){const e=je(t,"blur",r,ce);le(Object.assign({},ce,e.errors)),Fe(r,e.errors,S,t)}if(Array.isArray(Ee)&&Ee.forEach(e=>{e.config.dynamicOptions&&e.config.dynamicOptions.events&&e.config.dynamicOptions.events.indexOf("blur")>-1&&e.config.dynamicOptions.watchFields&&e.config.dynamicOptions.watchFields.indexOf(n.id)>-1&&ke(e.config.id,e.config.dynamicOptions,r),void 0!==T&&e.config.disableAutoSave&&y(i,e.path)}),(e=>{if(k){const t=[...J];t.length=Y+1,t.push(h({data:e,isDirty:U,dirtyFields:B,errors:ce})),t.length>F&&t.shift(),K(t),X(t.length-1)}})(r),void 0!==T)if("local"===T||"session"===T){const e=Ae(!1,r);0===Object.keys(e).length&&li(S,{data:i,isDirty:U,dirtyFields:B},T)}else if("object"!=typeof T||"local"!==T.type&&"session"!==T.type){if("object"==typeof T&&"custom"===T.type&&"function"==typeof T.save){const e=Ae(!1,r);(T.validDataOnly&&0===Object.keys(e).length||!T.validDataOnly)&&T.save(S,{data:i,isDirty:U,dirtyFields:B})}}else{const e=Ae(!1,r);(T.validDataOnly&&0===Object.keys(e).length||!T.validDataOnly)&&li(S,{data:i,isDirty:U,dirtyFields:B},T.type)}})(o)},u)):/*#__PURE__*/t.createElement(Gc,{config:n.config,render:e=>{let{fieldProps:r}=e;/*#__PURE__*/return t.createElement(n.render,r)},fields:b,id:o,onChange:(e,t)=>Ne(o,e),onValidation:e=>De(o,e),parentRunValidation:Q,data:W&&e(W,o),isVisible:E,isDisabled:w,validateOn:A});var f})(o.config,o.data,o.path);n&&p(r,o.path,n)}}),r},Me=(t,n,r,i)=>{if(!we())return;const o=Object.assign({},W),a=Ie(t),s=a&&a.min?Number(a.min):0,c=a&&a.max?Number(a.max):99999999999999;let l,f=e(o,t,[]),d=!1;if("last"===r&&(r=f.length-1),"last"===i&&(i=f.length-1),mi()&&window.stagesLogging('On collection action "'+t+'"',q),"add"===n&&("string"==typeof r&&a.fields[r]?c>f.length&&f.push("function"==typeof a.setInitialData?a.setInitialData(f,o,r):{__typename:r}):c>f.length&&f.push("function"==typeof a.setInitialData?a.setInitialData(f,o):{}),d=!0),"remove"===n&&(s<f.length&&f.splice(r,1),d=!0),"move"===n&&"number"==typeof r&&"number"==typeof i&&r>-1&&i>-1){const[e]=f.splice(r,1);f.splice(i,0,e),d=!0}if("sort"===n&&f.length>0&&r&&(f=u(f,r),d=!0),"duplicate"===n&&"number"==typeof r&&r>-1&&(f.splice(r+1,0,Object.assign({},f[r])),d=!0),a.sort&&a.sort.by&&(f=u(f,a.sort.by),"desc"===a.sort.dir&&(f=f.reverse()),d=!0),"update"===n&&Array.isArray(r)?(d=!0,p(o,t,r)):p(o,t,f),d){const n=e(H,t),r=e(o,t);try{JSON.stringify(n)!==JSON.stringify(r)?(z(!0),B[t]={oldData:n,newData:r},$(B)):(delete B[t],Object.keys(B).forEach(e=>{e.startsWith(t)&&delete B[e]}),$(B),z(Object.keys(B).length>0))}catch(e){}}if(A.indexOf("collectionAction")>-1||a.validateOn&&a.validateOn.indexOf("collectionAction")>-1){const e=je(t,"collectionAction",o,ce);l=Object.assign({},ce,e.errors),le(l)}Fe(o,l||Ae(),S,t)},We=(e,t,n)=>{const r=Object.assign({},me),i=r[t],o=Ie(t);if("step"===e&&(r[t]=n),"next"===e){const e=s(o.stages,{id:i})+1;o.stages[e]&&(r[t]=o.stages[e].id)}if("prev"===e){const e=s(o.stages,{id:i})-1;o.stages[e]&&(r[t]=o.stages[e].id)}"first"===e&&(r[t]=o.stages[0].id),"last"===e&&(r[t]=o.stages[o.stages.length-1].id),be(r)},qe=function(e,t,n){void 0===n&&(n="step");const r=me[e],i=Ie(e),o=[];if("step"===n||"first"===n||"last"===n)return Object.keys(me).forEach(r=>{r.startsWith(e)?("step"===n&&o.push(r+"."+t),"first"===n&&o.push(r+"."+i.stages[0].id),"last"===n&&o.push(r+"."+i.stages[i.stages.length-1].id)):o.push(r+"."+me[r])}),"#!"+o.join(L||":");if("prev"===n){const t=s(i.stages,{id:r})-1;return!!i.stages[t]&&(Object.keys(me).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+me[n])}),"#!"+o.join(L||":"))}if("next"===n){const t=s(i.stages,{id:r})+1;return!!i.stages[t]&&(Object.keys(me).forEach(n=>{n.startsWith(e)?o.push(n+"."+i.stages[t].id):o.push(n+"."+me[n])}),"#!"+o.join(L||":"))}return!1},Ue=(e,t)=>me[e]===t,ze=function(e,t,n){void 0===n&&(n=!1);const r=t.substring(2).split(L||":");let i="";if(r.forEach(t=>{t.startsWith(e+".")&&(i=t.substring(e.length+1))}),i){const t=Ie(e),r=s(t.stages,{id:i});if(r>s(t.stages,{id:me[e]})+1)return!0;if(n&&Ue(e,i))return!0;for(let n=0;n<r;n++){const r=Ae(!1,c,e+"."+t.stages[n].id);if(Object.keys(r).length>0)return!0}}return!1},Be=(t,n,r)=>{if(a.fieldConfigs&&"function"==typeof a.fieldConfigs[n]){const i=t.split(".");let o="";i.forEach(t=>{const n=o?e(Oe,o):Oe;if(t.endsWith("]")){const e=t.split("["),r=s(n,{id:e[0]});r>-1&&(o+="["+r+"].fields")}else{const e=s(n,{id:t});e>-1&&(o+="["+e+"].fields")}}),""!==o&&(he.push({fields:a.fieldConfigs[n],path:o,action:r}),ve([...he]))}},$e=(e,t,n)=>{mi()&&window.stagesLogging("Handle action click",q),n&&("local"!==T&&"session"!==T||ui(S,T),"object"!=typeof T||"local"!==T.type&&"session"!==T.type||ui(S,T.type),S&&"object"==typeof T&&"custom"===T.type&&"function"==typeof T.remove&&T.remove(S),Fe(H,Ae(),S),$({}),z(!1));const r=Ve("action",W);let i=!1;if(Array.isArray(A)&&A.indexOf("action")>-1||Array.isArray(A)&&r.some(e=>A.indexOf(e)>-1)){t&&(Z(!0),setTimeout(()=>Z(!1),0));let e=t?Ae(!0):{};le(e),Object.keys(e).length>0&&(i=!0)}i||e()},He=e=>{const t=l(Ee,{path:e});return t?t.config:void 0};return!1===E?null:v?v({actionProps:{handleActionClick:$e,handleUndo:Re,handleRedo:Te,isDisabled:!!(Uc&&Object.keys(Uc).length>0)||w,isDirty:U,focusedField:de,lastFocusedField:ye,dirtyFields:B,silentlyGetValidationErrors:Ce,updateData:t=>{Fe(t,Ae(),S);let n=!1,r={};Ee.forEach(i=>{if(!i.config.isInterfaceState){const o=e(t,i.path),a=e(H,i.path);o!==a&&(n=!0,void 0!==o&&(r[i.path]={oldData:a,newData:o}))}}),z(n),$(r)}},fieldProps:{fields:_e(),onCollectionAction:Me,onWizardNav:We,getWizardNavHash:qe,isWizardStepActive:Ue,isWizardStepDisabled:ze,modifyConfig:Be,data:c,interfaceState:_,errors:ce,asyncData:ae,isDirty:U,focusedField:de,lastFocusedField:ye,dirtyFields:B,get:e,getConfig:He},loading:ue}):m?m(_e()):null};Gc.propTypes={config:Tr.oneOfType([Tr.object,Tr.array,Tr.func]).isRequired,data:Tr.object,render:Tr.oneOfType([Tr.node,Tr.func]),renderFields:Tr.oneOfType([Tr.node,Tr.func]),fields:Tr.object.isRequired,onChange:Tr.func,isVisible:Tr.bool,isDisabled:Tr.bool,id:Tr.oneOfType([Tr.string,Tr.number]),onValidation:Tr.func,parentRunValidation:Tr.bool,validateOn:Tr.array,customRuleHandlers:Tr.object,undoMaxDepth:Tr.number,typeValidations:Tr.object,fieldsets:Tr.object,initialInterfaceState:Tr.object},Gc.defaultProps={data:{},onChange:()=>{},isVisible:!0,isDisabled:!1,validateOn:["action"],customRuleHandlers:{},undoMaxDepth:10,autoSave:!1,typeValidations:{},fieldsets:{},initialInterfaceState:{}};const Jc=e=>{let{config:n,handleActionClick:r,isDisabled:i}=e;/*#__PURE__*/return t.createElement(t.Fragment,null,n.map((e,n)=>/*#__PURE__*/t.createElement("button",{type:"button",onClick:()=>r(e.onClick,e.validate),key:"action-"+n,disabled:i},"primary"===e.type?/*#__PURE__*/t.createElement("strong",null,e.title):e.title)))};function Kc(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}const Yc=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","hasFocus","prefix","suffix","secondaryText","type","errorRenderer"],Xc=e=>{let{id:n,label:r,value:i,onChange:o,onBlur:a,onFocus:s,error:c,placeholder:l,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:g,type:h,errorRenderer:v}=e;return Kc(e,Yc),console.log({id:n,value:i}),/*#__PURE__*/t.createElement("div",null,r?/*#__PURE__*/t.createElement("label",{htmlFor:n},r,u?" *":""):null,/*#__PURE__*/t.createElement("div",null,p?/*#__PURE__*/t.createElement("span",null,p):null,/*#__PURE__*/t.createElement("input",{id:n,name:n,value:void 0!==i?i:"number"===h?0:"",placeholder:l,type:h||"text",disabled:!!f,required:!!u,autoComplete:"password"===h?"current-password":"off",onChange:e=>{"function"==typeof o&&o(e.target.value)},onFocus:e=>{"function"==typeof s&&s()},onBlur:e=>{"function"==typeof a&&a()}}),y?/*#__PURE__*/t.createElement("span",null,y):null),g?/*#__PURE__*/t.createElement("div",null,g):null,c&&!d?v?v(c):/*#__PURE__*/t.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/t.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},Qc=(e,t)=>!t.isRequired||""!==e&&void 0!==e,Zc=["id","label","value","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","type","errorRenderer"],el=["id","label","value","options","onChange","onBlur","onFocus","error","placeholder","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],tl=["id","label","value","options","onChange","onBlur","onFocus","error","isRequired","isDisabled","isValidating","prefix","suffix","secondaryText","errorRenderer"],nl=["id","label","error","isRequired","isValidating","secondaryText","errorRenderer"],rl={text:{component:Xc,isValid:Qc},number:{component:Xc,isValid:Qc},email:{component:Xc,isValid:Qc},password:{component:Xc,isValid:Qc},tel:{component:Xc,isValid:Qc},time:{component:Xc,isValid:Qc},date:{component:Xc,isValid:Qc},checkbox:{component:e=>{let{id:n,label:r,value:i,onChange:o,onBlur:a,onFocus:s,error:c,placeholder:l,isRequired:u,isDisabled:f,isValidating:d,prefix:p,suffix:y,secondaryText:g,type:h,errorRenderer:v}=e;return Kc(e,Zc),/*#__PURE__*/t.createElement("div",null,r?/*#__PURE__*/t.createElement("label",{htmlFor:n},r,u?" *":""):null,/*#__PURE__*/t.createElement("div",null,p?/*#__PURE__*/t.createElement("span",null,p):null,/*#__PURE__*/t.createElement("input",{id:n,name:n,value:"1",placeholder:l,type:h,disabled:!!f,required:!!u,checked:!!i,onChange:()=>{},onClick:e=>{"function"==typeof o&&o(!!e.target.checked)},onBlur:e=>{"function"==typeof a&&a()},onFocus:e=>{"function"==typeof s&&s()}}),y?/*#__PURE__*/t.createElement("span",null,y):null),g?/*#__PURE__*/t.createElement("div",null,g):null,c&&!d?v?v(c):/*#__PURE__*/t.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,d?/*#__PURE__*/t.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},select:{component:e=>{let{id:n,label:r,value:i,options:o,onChange:a,onBlur:s,onFocus:c,error:l,placeholder:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=e;return Kc(e,el),/*#__PURE__*/t.createElement("div",null,r?/*#__PURE__*/t.createElement("label",{htmlFor:n},r,f?" *":""):null,/*#__PURE__*/t.createElement("div",null,y?/*#__PURE__*/t.createElement("span",null,y):null,/*#__PURE__*/t.createElement("select",{id:n,name:n,value:void 0===i?"":i,placeholder:u,disabled:!!d,required:!!f,onChange:e=>{"function"==typeof a&&a(e.target.value)},onBlur:e=>{"function"==typeof s&&s()},onFocus:e=>{"function"==typeof c&&c()}},o.map(e=>/*#__PURE__*/t.createElement("option",{value:e.value,key:e.value,disabled:!!e.disabled||null},e.text))),g?/*#__PURE__*/t.createElement("span",null,g):null),h?/*#__PURE__*/t.createElement("div",null,h):null,l&&!p?v?v(l):/*#__PURE__*/t.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/t.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},radio:{component:e=>{let{id:n,label:r,value:i,options:o,onChange:s,onBlur:c,onFocus:l,error:u,isRequired:f,isDisabled:d,isValidating:p,prefix:y,suffix:g,secondaryText:h,errorRenderer:v}=e;return Kc(e,tl),/*#__PURE__*/t.createElement("div",{id:n},r?/*#__PURE__*/t.createElement("label",null,r,f?" *":""):null,/*#__PURE__*/t.createElement("div",null,y?/*#__PURE__*/t.createElement("span",null,y):null,o.map(e=>/*#__PURE__*/t.createElement(a,{key:n+"-"+e.value},/*#__PURE__*/t.createElement("input",{type:"radio",name:n,id:n+"-"+e.value,value:e.value,checked:i===e.value,disabled:!!d,onChange:()=>{},onClick:t=>{"function"==typeof s&&s(e.value)},onBlur:e=>{"function"==typeof c&&c()},onFocus:e=>{"function"==typeof l&&l()}}),/*#__PURE__*/t.createElement("label",{htmlFor:n+"-"+e.value},e.text)," ")),g?/*#__PURE__*/t.createElement("span",null,g):null),h?/*#__PURE__*/t.createElement("div",null,h):null,u&&!p?v?v(u):/*#__PURE__*/t.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,p?/*#__PURE__*/t.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null)},isValid:(e,t)=>!t.isRequired||""!==e&&void 0!==e},dummy:{component:e=>{let{id:n,label:r,error:i,isRequired:o,isValidating:a,secondaryText:s,errorRenderer:c}=e;return Kc(e,nl),r||s||i?/*#__PURE__*/t.createElement("div",{id:n},r?/*#__PURE__*/t.createElement("label",{htmlFor:n},r,o?" *":""):null,s?/*#__PURE__*/t.createElement("div",null,s):null,i&&!a?c?c(i):/*#__PURE__*/t.createElement("div",{style:{color:"red"}},"Please fill out this field!"):null,a?/*#__PURE__*/t.createElement("div",{style:{color:"#999"}},"Field is validating ..."):null):null},isValid:()=>!0}};export{Jc as Actions,mo as Debugger,Gc as Form,go as HashRouter,ho as Navigation,vo as Progression,bi as Stages,rl as plainFields};
//# sourceMappingURL=lib.module.js.map
